                                   PAGE 255

                                IF1
                                .PRINTX .
                                .PRINTX +-------------------------------------+
                                .PRINTX |           FORTH MSX V2.10           |
                                .PRINTX |                                     |
                                .PRINTX |          (c)1989 - B.A.M.           |
                                .PRINTX +-------------------------------------+
                                .PRINTX .
                                .PRINTX Compilando ... Passo 1.
                                ELSE
                                .PRINTX .              Passo 2.
                                ENDIF
                                ;
                                   .Z80
                                ;
                         C         INCLUDE FORTHEQU.INC
                         C      ;
  F37E                   C      MSX_ROM_BDOS_VECTOR equ 0F37EH
  F37D                   C      MSX_BIOS            equ 0F37DH
                         C      ;
                         C      ; SUBROUTINES FOR READ/WRITE CALLS OF THE INTER-SLOT
                         C      ;
  F380                   C      MSX_RDPRIM  equ 0F380H ; Read from basic slot, used by RDSLT (0Ch) BIOS routine
  F385                   C      MSX_WRPRIM  equ 0F385H ; Write to basic slot, used by WRSLT (14h) BIOS routine
  F38C                   C      MSX_CLPRIM  equ 0F38CH ; Call basic slot, used by CALSLT (1Ch) BIOS routine
  F39A                   C      MSX_USR0TAB equ 0F39AH ; USR function starting USR(0)
  F39C                   C      MSX_USR1TAB equ 0F39CH ; USR function starting USR(1)
  F39E                   C      MSX_USR2TAB equ 0F39EH ; USR function starting USR(2)
  F3A0                   C      MSX_USR3TAB equ 0F3A0H ; USR function starting USR(3)
  F3A2                   C      MSX_USR4TAB equ 0F3A2H ; USR function starting USR(4)
  F3A4                   C      MSX_USR5TAB equ 0F3A4H ; USR function starting USR(5)
  F3A6                   C      MSX_USR6TAB equ 0F3A6H ; USR function starting USR(6)
  F3A8                   C      MSX_USR7TAB equ 0F3A8H ; USR function starting USR(7)
  F3AA                   C      MSX_USR8TAB equ 0F3AAH ; USR function starting USR(8)
  F3AC                   C      MSX_USR9TAB equ 0F3ACH ; USR function starting USR(9)
  F3AE                   C      MSX_LINL40  equ 0F3AEH ; Screen width per line in SCREEN 0 (Default 39)
  F3AF                   C      MSX_LINL32  equ 0F3AFH ; Screen width per line in SCREEN 1 (Default 29)
  F3B0                   C      MSX_LINLEN  equ 0F3B0H ; Current screen width per line
  F3B1                   C      MSX_CRTCNT  equ 0F3B1H ; Number of lines of current screen (default 24)
  F3B2                   C      MSX_CLMLST  equ 0F3B2H ; Horizontal location in the case that items are divided by commas in PRINT statement
                         C
                         C      ; WORK FOR INITIALIZATION
                         C
                         C      ; SCREEN 0
  F3B3                   C      MSX_TXTNAM equ 0F3B3H ; Pattern name table
  F3B5                   C      MSX_TXTCOL equ 0F3B5H ; Color table
  F3B7                   C      MSX_TXTCGP equ 0F3B7H ; Pattern ganarator table
  F3B9                   C      MSX_TXTATR equ 0F3B9H ; Unused
  F3BB                   C      MSX_TXTPAT equ 0F3BBH ; Unused
                         C
                         C      ; SCREEN 1
  F3BD                   C      MSX_T32NAM equ 0F3BDH ; Pattern name tabte
  F3BF                   C      MSX_T32COL equ 0F3BFH ; Color table
  F3C1                   C      MSX_T32CGP equ 0F3C1H ; Pattern ganarator table
  F3C3                   C      MSX_T32ATR equ 0F3C3H ; Sprite attribute table
  F3C5                   C      MSX_T32PAT equ 0F3C5H ; Sprite generator table
                         C
                         C      ; SCREEN 2
  F3C7                   C      MSX_GRPNAM equ 0F3C7H ; Pattern name tabte
  F3C9                   C      MSX_GRPCOL equ 0F3C9H ; Color table
  F3CB                   C      MSX_GRPCGP equ 0F3CBH ; Pattern ganarator table
  F3CD                   C      MSX_GRPATR equ 0F3CDH ; Sprite attribute table
  F3CF                   C      MSX_GRPPAT equ 0F3CFH ; Sprite generator table
                         C
                         C      ; SCREEN 3
  F3D1                   C      MSX_MLTNAM equ 0F3D1H ; Pattern name tabte
  F3D3                   C      MSX_MLTCOL equ 0F3D3H ; Color table
  F3D5                   C      MSX_MLTCGP equ 0F3D5H ; Pattern ganarator table
  F3D7                   C      MSX_MLTATR equ 0F3D7H ; Sprite attribute table
  F3D9                   C      MSX_MLTPAT equ 0F3D9H ; Sprite generator table
  F3DB                   C      MSX_CLIKSW equ 0F3DBH ; Key click switch 0 = Disabled / 1 = Enabled
  F3DC                   C      MSX_CSRY   equ 0F3DCH ; Y-coordinate of text cursor
  F3DD                   C      MSX_CSRX   equ 0F3DDH ; X-coordinate of text cursor
  F3DE                   C      MSX_CNSDFG equ 0F3DEH ; Functon key display switch 0 = NOT Visible / 1 = Visible
                         C
                         C      ; AREA TO SAVE VDP REGISTERS
                         C
  F3DF                   C      MSX_RG0SAV equ 0F3DFH ; Content of VDP(0) register (R#0)
  F3E0                   C      MSX_RG1SAV equ 0F3E0H ; Content of VDP(1) register (R#1)
  F3E1                   C      MSX_RG2SAV equ 0F3E1H ; Content of VDP(2) register (R#2)
  F3E2                   C      MSX_RG3SAV equ 0F3E2H ; Content of VDP(3) register (R#3)
  F3E3                   C      MSX_RG4SAV equ 0F3E3H ; Content of VDP(4) register (R#4)
  F3E4                   C      MSX_RG5SAV equ 0F3E4H ; Content of VDP(5) register (R#5)
  F3E5                   C      MSX_RG6SAV equ 0F3E5H ; Content of VDP(6) register (R#6)
  F3E6                   C      MSX_RG7SAV equ 0F3E6H ; Content of VDP(7) register (R#7)
  F3E7                   C      MSX_STATFL equ 0F3E7H ; Content of VDP(8) register (MSX2- VDP status register 0  S#0)
  F3E8                   C      MSX_TRGFLG equ 0F3E8H ; Stores trigger button status of joystick
                         C
                         C      ; Information about trigger buttons and space bar state
                         C      ; 7 6 5 4 3 2 1 0
                         C      ; | | | |       +-- Space bar, trig(0) (0 = pressed)
                         C      ; | | | +---------- Stick 1, Trigger 1 (0 = pressed)
                         C      ; | | +------------ Stick 1, Trigger 2 (0 = pressed)
                         C      ; | +-------------- Stick 2, Trigger 1 (0 = pressed)
                         C      ; +---------------- Stick 2, Trigger 2 (0 = pressed)
                         C
  F3E9                   C      MSX_FORCLR equ 0F3E9H ; Foreground colour
  F3EA                   C      MSX_BAKCLR equ 0F3EAH ; Background colour
  F3EB                   C      MSX_BDRCLR equ 0F3EBH ; Border colour
  F3EC                   C      MSX_MAXUPD equ 0F3ECH ; JMP 0000 (used by CIRCLE statement)
  F3EF                   C      MSX_MINUPD equ 0F3EFH ; JMP 0000 (used by CIRCLE statement)
  F3F2                   C      MSX_ATRBYT equ 0F3F2H ; Color code in csing graphic
                         C
                         C      ; WORK AREA FOR PLAY STATEMENT
                         C
  F3F3                   C      MSX_QUEUES equ 0F3F3H ; Points to queue table at the execution of PLAY st.
  F3F5                   C      MSX_FRCNEW equ 0F3F5H ; DB 255
                         C
                         C      ; WORK AREA FOR KEY INPUT
                         C
  F3F6                   C      MSX_SCNCNT equ 0F3F6H ; Interval for the key scan
  F3F7                   C      MSX_REPCNT equ 0F3F7H ; Delay until the auto-repeat of the key begins
  F3F8                   C      MSX_PUTPNT equ 0F3F8H ; DW KEYBUF points to adress to write in the key buffer
  F3FA                   C      MSX_GETPNT equ 0F3FAH ; DW KEYBUF points to adress to read from the key buffer
                         C
                         C      ; PARAMETERS FOR CASSETTE
                         C
  F3FC                   C      MSX_CS120_12  equ 0F3FCH ; DB LOW01,HIGH01,LOW11,HIGH11,HEDLEN*2/256 ; FOR 1200 BAUD
  F401                   C      MSX_CS120_24  equ 0F401H ; DB LOW02,HIGH02,LOW12,HIGH22,HEDLEN*2/256 ; FOR 2400 BAUD
  F406                   C      MSX_LOW       equ 0F406H ; DB LOW01,HIGH01    Width of LOW & HIGH wich represents bit 0
  F408                   C      MSX_HIGH      equ 0F408H ; DB LOW11,HIGH11    Width of LOW & HIGH wich represents bit 1
  F40A                   C      MSX_HEADER    equ 0F40AH ; DB HEDLEN*2/256    Header bit for the short header
  F40B                   C      MSX_ASPCT1    equ 0F40BH ; 256/aspect ratio for BASIC Circle command
  F40D                   C      MSX_ASPCT2    equ 0F40DH ; 256*aspect ratio for BASIC Circle command
  F40F                   C      MSX_ENDPGM    equ 0F40FH ; DB ":" Dummy program end for RESUME NEXT st.
                         C
                         C      ; WORK USED BY BASIC INTERNALLY
                         C
  F414                   C      MSX_ERRFLG equ 0F414H ; BASIC Error number
  F415                   C      MSX_LPTPOS equ 0F415H ; Position of printer head
  F416                   C      MSX_PRTFLG equ 0F416H ; Flag whether to send to printer 0 = Print to Screen / 1 = Print to printer
  F417                   C      MSX_NTMSXP equ 0F417H ; = 0 If MSX printer (This converts TAB's and unknown characters to spaces)
  F418                   C      MSX_RAWPRT equ 0F418H ; <>0 If printing is in 'RAW MODE'
  F419                   C      MSX_VLZADR equ 0F419H ; ADDRESS OF CHARACTER REPLACED BY VAL
  F41B                   C      MSX_VLZDAT equ 0F41BH ; CHARACTER REPLACED WITH 0 BY VAL
  F41C                   C      MSX_CURLIN equ 0F41CH ; Current execution line number of BASIC
  F41E                   C      MSX_KBFMIN equ 0F41EH ; Same as  ENDPRG, used if direct statement error occures
  F41F                   C      MSX_KBUF   equ 0F41FH ; Crunch buffer; translated into intermediate language from BUF
  F55D                   C      MSX_BUFMIN equ 0F55DH ; used by INPUT routine
  F55E                   C      MSX_BUF    equ 0F55EH ; Buffer to store characters typed( in ASCII code)
                         C
  F562                   C      MSX_SX_L    equ 0F562H ; VDP R# 32, Source X Low
  F563                   C      MSX_SX_H    equ 0F563H ; VDP R# 33, Source X High
  F564                   C      MSX_SY_L    equ 0F564H ; VDP R# 34, Source Y Low
  F565                   C      MSX_SY_H    equ 0F565H ; VDP R# 35, Source Y High
  F566                   C      MSX_DX_L    equ 0F566H ; VDP R# 36, Dest. X Low
  F567                   C      MSX_DX_H    equ 0F567H ; VDP R# 37, Dest. X High
  F568                   C      MSX_DY_L    equ 0F568H ; VDP R# 38, Dest. Y Low
  F569                   C      MSX_DY_H    equ 0F569H ; VDP R# 39, Dest. Y High
  F56A                   C      MSX_NX_L    equ 0F56AH ; VDP R# 40, Nr of dots X Low
  F56B                   C      MSX_NX_H    equ 0F56BH ; VDP R# 41, Nr of dots X High
  F56C                   C      MSX_NY_L    equ 0F56CH ; VDP R# 42, Nr of dots Y Low
  F56D                   C      MSX_NY_H    equ 0F56DH ; VDP R# 43, Nr of dots Y High
  F56E                   C      MSX_CDUMMY  equ 0F56EH ; VDP R# 44, Color register
  F56F                   C      MSX_VDP_ARG equ 0F56FH ; VDP R# 45, Argument register
  F570                   C      MSX_L_OP    equ 0F570H ; VDP R# 46, Command  register
                         C
                         C      ; The above Bit-blitten addresses are used by the COPY command in Basic.
                         C      ; The VDP is allso able to communicate with the DISKROM to
                         C      ; save or load images from or to VRAM.
                         C      ; A 2Byte filename pointer is expected in SX for Loading and DX for Writing operation.
                         C      ; i.e. FNAAM: DEFB 34,"d:filename.ext",34,0
                         C      ; See SUB-ROM / EXT-ROM  (BIT-BLIT routines)
                         C      ; L_OP has 10 different operators:
                         C      ; 0 -  PSET       1 -  AND
                         C      ; 2 -  OR         3 -  XOR
                         C      ; 4 -  PRESET     8 -  TPSET
                         C      ; 9 -  TAND       10 - TOR
                         C      ; 11 - TXOR       12 - TPRESET
                         C
  F660                   C      MSX_ENDBUF   equ 0F660H ; Preventoverflow of BUF
  F661                   C      MSX_TTYPOS   equ 0F661H ; Virtual cursor location internally retained by BASIC
  F662                   C      MSX_DIMFLG   equ 0F662H ; ARRAY FLAG
  F663                   C      MSX_VALTYP   equ 0F663H ; Contains the code of the type of variable that is currently in DAC
                         C
                         C      ; 2 = Integer
                         C      ; 3 = String
                         C      ; 4 = Single Precision
                         C      ; 5 = Double Precision
                         C
  F664                   C      MSX_DORES    equ 0F664H ; Indicates whether stored word can be crunched
  F665                   C      MSX_DONUM    equ 0F665H ; flag for crunch
  F666                   C      MSX_CONTXT   equ 0F666H ; Text address used by CNRGET
  F668                   C      MSX_CONSAV   equ 0F668H ; Store token of constant after calling CHRGET
  F669                   C      MSX_CONTYP   equ 0F669H ; Type of stored constant
  F66A                   C      MSX_CONLO    equ 0F66AH ; Valu of stored constant
  F672                   C      MSX_MEMSIZ   equ 0F672H ; HIGHEST LOCATION IN MEMORY USED BY BASIC
  F674                   C      MSX_STKTOP   equ 0F674H ; TOP LOCATION TO BE USED FOR THE STACK
  F676                   C      MSX_TXTTAB   equ 0F676H ; Starting address of BASIC text area
  F678                   C      MSX_TEMPPT   equ 0F678H ; Starting address of unused area of temporary descriptor
  F67A                   C      MSX_TEMPST   equ 0F67AH ; Temporary descriptors
  F698                   C      MSX_DSCTMP   equ 0F698H ; String descriptor wich is the result of string fun.
  F69B                   C      MSX_FRETOP   equ 0F69BH ; Starting address of unused area of string area
  F69D                   C      MSX_TEMP3    equ 0F69DH ; Used for garbage collection or by USR function
  F69F                   C      MSX_TEMP8    equ 0F69FH ; Used for garbage collection
  F6A1                   C      MSX_ENDFOR   equ 0F6A1H ; Next address of FOR st.
  F6A3                   C      MSX_DATLIN   equ 0F6A3H ; Line number of DATA st.read by READ st.
  F6A5                   C      MSX_SUBFLG   equ 0F6A5H ; Flag for array for USR fun.
  F6A6                   C      MSX_FLGINP   equ 0F6A6H ; Flag for INPUT or READ
  F6A7                   C      MSX_TEMP     equ 0F6A7H ; Location for temporary reservation for st.code
  F6A9                   C      MSX_PTRFLG   equ 0F6A9H ; LINE NUMBER CONVERTED TO POINTERS ( 00 = NO / 0D = Yes )
  F6AA                   C      MSX_AUTFLG   equ 0F6AAH ; AUTO MODE FLAG ( 00 = Yes / 01 = No )
  F6AB                   C      MSX_AUTLIN   equ 0F6ABH ; Current line number for auto
  F6AD                   C      MSX_AUTINC   equ 0F6ADH ; Increment for auto
  F6AF                   C      MSX_SAVTXT   equ 0F6AFH ; Text pointer for resume
  F6B1                   C      MSX_SAVSTK   equ 0F6B1H ; Save stack when error occurs
  F6B3                   C      MSX_ERRLIN   equ 0F6B3H ; Line where last error
  F6B5                   C      MSX_DOT      equ 0F6B5H ; CURRENT LINE for edit & list
  F6B7                   C      MSX_ERRTXT   equ 0F6B7H ; Text pointer for use by RESUME
  F6B9                   C      MSX_ONELIN   equ 0F6B9H ; LINE to go when error
  F6BB                   C      MSX_ONEFLG   equ 0F6BBH ; =1 if executing an error trap routine
  F6BC                   C      MSX_TEMP2    equ 0F6BCH ;
  F6BE                   C      MSX_OLDLIN   equ 0F6BEH ; OLD LINE NUMBER set up ^C ...
  F6C0                   C      MSX_OLDTXT   equ 0F6C0H ; Points st. to be executed next
  F6C2                   C      MSX_VARTAB   equ 0F6C2H ; Pointer to start of variable space
  F6C4                   C      MSX_ARYTAB   equ 0F6C4H ; Pointer to begging of array table
  F6C6                   C      MSX_STREND   equ 0F6C6H ; End of storage in use
  F6C8                   C      MSX_DATPTR   equ 0F6C8H ; DATA pointer
  F6CA                   C      MSX_DEFTBL   equ 0F6CAH ; Default valtype for each letter
                         C
                         C      ; WORK FOR USER FUNCTION PARAMETER
                         C
  F6E4                   C      MSX_PRMSTK   equ 0F6E4H ; Previous definition block on stack
  F6E6                   C      MSX_PRMLEN   equ 0F6E6H ; Number of bytes of objective table
  F6E8                   C      MSX_PARM1    equ 0F6E8H ; Objective prameter definition table
  F74C                   C      MSX_PRMPRV   equ 0F74CH ; Pointer to previous parameter block
  F74E                   C      MSX_PRMLN2   equ 0F74EH ; Size of parameter block
  F750                   C      MSX_PARM2    equ 0F750H ; For parameter storage
  F7B4                   C      MSX_PRMFLG   equ 0F7B4H ; Flag to indicate whether PARM1 was searching
  F7B5                   C      MSX_ARYTA2   equ 0F7B5H ; End point of search
  F7B7                   C      MSX_NOFUNS   equ 0F7B7H ; 0 if no function active
  F7B8                   C      MSX_TEMP9    equ 0F7B8H ; Location of temporary storage for garbage collection
  F7BA                   C      MSX_FUNACT   equ 0F7BAH ; Count of active functions
  F7BC                   C      MSX_SWPTMP   equ 0F7BCH ; Value of first  variable in SWAP st.
  F7C4                   C      MSX_TRCFLG   equ 0F7C4H ; 0 MEANS NO TRACE
                         C
                         C      ; WORK FOR MATH-PACK
                         C
  F7C5                   C      MSX_FBUFFR   equ 0F7C5H ; Buffer for fout
  F7F0                   C      MSX_DECTMP   equ 0F7F0H ; Used to transform decimal integer to floating point number
  F7F2                   C      MSX_DECTM2   equ 0F7F2H ; Used at division routine execution
  F7F4                   C      MSX_DECCNT   equ 0F7F4H ; Used at division routine execution
  F7F6                   C      MSX_DAC      equ 0F7F6H ; DECIMAL ACCUMULATOR (Interger in USR()-function stored to #F7F8)
  F806                   C      MSX_HOLD8    equ 0F806H ; Registers for decimal multiplication
  F836                   C      MSX_HOLD2    equ 0F836H ; Work area in the execution of numerical operators
  F83E                   C      MSX_HOLD     equ 0F83EH ; Work area in the execution of numerical operators
  F847                   C      MSX_DAC_ARG  equ 0F847H ; Area to set the value to be calculate with DAC
  F857                   C      MSX_RNDX     equ 0F857H ; Last random number
                         C
                         C      ; DATA AREA USED BY BASIC INTERPRETER
                         C
  F85F                   C      MSX_MAXFIL   equ 0F85FH ; High legal file number
  F860                   C      MSX_FILTAB   equ 0F860H ; Starting address of of file data area
  F862                   C      MSX_NULBUF   equ 0F862H ; Points to file 0 buffer ( used in SAVE & LOAD st.)
  F864                   C      MSX_PTRFIL   equ 0F864H ; Points to file data of currently accessing file
  F866                   C      MSX_RUNFLG   equ 0F866H ; Non-zero for run after load
  F866                   C      MSX_FILNAM   equ 0F866H ; Name for FILES, NAME & others
  F871                   C      MSX_FILNM2   equ 0F871H ; Second name for NAME
  F87C                   C      MSX_NLONLY   equ 0F87CH ; When loading  program ( 00 = NON BASIC / 01 = BASIC )
  F87D                   C      MSX_SAVEND   equ 0F87DH ; End address for BSAVE
  F87F                   C      MSX_FNKSTR   equ 0F87FH ; FUNCTION KEY AREA
  F91F                   C      MSX_CGPNT    equ 0F91FH ; Slot ID of the character FONT
  F920                   C      MSX_ADDPNT   equ 0F920H ; Address of the character FONT
  F922                   C      MSX_NAMBAS   equ 0F922H ; Base address of current pattern name table
  F924                   C      MSX_CGPBAS   equ 0F924H ; Base address of current pattern generator table
  F926                   C      MSX_PATBAS   equ 0F926H ; Base address of current sprite generator table
  F928                   C      MSX_ATRBAS   equ 0F928H ; Base address of current sprite attribute table
                         C
  F92A                   C      MSX_CLOC    equ 0F92AH ; Cursor Location
  F92C                   C      MSX_CMASK   equ 0F92CH ; Mask of Cursor
  F92D                   C      MSX_MINDEL  equ 0F92DH ; Used by LINE  command in BASIC
  F92F                   C      MSX_MAXDEL  equ 0F92FH ; Used by LINE  command in BASIC
                         C
                         C      ; DATA AREA FOR CIRCLE STATEMENT
                         C
  F931                   C      MSX_ASPECT   equ 0F931H ; Aspect ratio of the circle; set by <ratio> of CIRCLE
  F933                   C      MSX_CENCNT   equ 0F933H ; End count
  F935                   C      MSX_CLINEF   equ 0F935H ; Flag to draw line to centre
  F936                   C      MSX_CNPNTS   equ 0F936H ; Point to be plottted
  F938                   C      MSX_CPLOTF   equ 0F938H ; Plot polarity flag
  F939                   C      MSX_CPCNT    equ 0F939H ; 1/8 of number of points in circle
  F93B                   C      MSX_CPCNT8   equ 0F93BH ;
  F93D                   C      MSX_CRCSUM   equ 0F93DH ;
  F93F                   C      MSX_CSTCNT   equ 0F93FH ;
  F941                   C      MSX_CSCLXY   equ 0F941H ; Scale of X & Y
  F942                   C      MSX_CSAVEA   equ 0F942H ; reservation area of ADVGRP
  F944                   C      MSX_CSAVEM   equ 0F944H ; reservation area of ADVGRP
  F945                   C      MSX_CXOFF    equ 0F945H ; X offset from center
  F947                   C      MSX_CYOFF    equ 0F947H ; Y offset from center
                         C
                         C      ; DATA AREA FOR PAINT STATEMENT
                         C
  F949                   C      MSX_LOHMSK   equ 0F949H ; Used by PAINTcommand in BASIC
  F94A                   C      MSX_LOHDIR   equ 0F94AH ; Used by PAINTcommand in BASIC
  F94B                   C      MSX_LOHADR   equ 0F94BH ; Used by PAINTcommand in BASIC
  F94D                   C      MSX_LOHCNT   equ 0F94DH ; Used by PAINTcommand in BASIC
  F94F                   C      MSX_SKPCNT   equ 0F94FH ; Skip count,  Used by PAINTcommand in BASIC
  F951                   C      MSX_MOVCNT   equ 0F951H ; Movement count,  Used by PAINTcommand in BASIC
  F953                   C      MSX_PDIREC   equ 0F953H ; Direction of the paint, Used by PAINTcommand in BASIC
  F954                   C      MSX_LFPROG   equ 0F954H ; Used by PAINTcommand in BASIC
  F955                   C      MSX_RTPROG   equ 0F955H ; Used by PAINTcommand in BASIC
  F956                   C      MSX_MCLTAB   equ 0F956H ; Used by DRAW / PLAY command in BASIC
  F958                   C      MSX_MCLFLG   equ 0F958H ; Used by DRAW / PLAY command in BASIC
  F959                   C      MSX_QUETAB   equ 0F959H ; queue information  (VOICAQ, VOICBQ, VOICCQ and RS2IQ (RS232))
  F971                   C      MSX_QUEBAK   equ 0F971H ;
  F975                   C      MSX_VOICAQ   equ 0F975H ; 1st Voice of Play Buffer (PSG)
                         C
                         C      ; If MSX-Music is present area #F9C0-#F9F8 is used to store copy of YM2413 registers
                         C
  F9F5                   C      MSX_VOICBQ   equ 0F9F5H ; 2st Voice of Play Buffer (PSG)
  FA75                   C      MSX_VOICCQ   equ 0FA75H ; 3st Voice of Play Buffer (PSG)
  FAF5                   C      MSX_DPPAGE   equ 0FAF5H ; Display page number (SET PAGE X)
  FAF6                   C      MSX_ACPAGE   equ 0FAF6H ; active page number (SET PAGE ,X)
  FAF7                   C      MSX_AVCSAV   equ 0FAF7H ; Reserves AV control port
  FAF8                   C      MSX_EXBRSA   equ 0FAF8H ; SUB_ROM / EXT-ROM slot address
  FAF9                   C      MSX_CHRCNT   equ 0FAF9H ; Character counter in the buffer, used in KANA-ROM
  FAFA                   C      MSX_ROMA     equ 0FAFAH ; Area to store KANA character (Japan version only)
  FAFC                   C      MSX_MODE     equ 0FAFCH ; mode switch for VRAM size
  FAFD                   C      MSX_NORUSE   equ 0FAFDH ; unused <edit> Used by KANJI-ROM for rendering KANJI fonts in graphic modes:
                         C
                         C      ; 	bit 7 Don't return to textmode
                         C      ; 	bit 6 if 1 and #f7f4 (DECCNT)=0, read SHIFT status ???
                         C      ; 	bit 5 Disable some functinality
                         C      ; 	bit 4 Not in use
                         C      ; 	bit 3 color 0 = Transparent
                         C      ; 	BIT 0-2:  Logical operation on kanji font draw:
                         C      ; 		  0       PSET
                         C      ; 		  1       AND
                         C      ; 		  2       OR
                         C      ; 		  3       XOR
                         C      ; 		  4       NOT
                         C
  FAFE                   C      MSX_XSAVE    equ 0FAFEH ; [10000000 XXXXXXXX] X-coordinate Mouse/Trackball/Lightpen
  FB00                   C      MSX_YSAVE    equ 0FB00H ; [*0000000 YYYYYYYY]  Y-coordinate Mouse/Trackball/Lightpen
  FB02                   C      MSX_LOGOPR   equ 0FB02H ; Logical operation code
                         C
                         C      ; Data area used by RS-232C or disk drive
                         C
  FB03                   C      MSX_RSTMP    equ 0FB03H ; Temporary data storage for RS232 Driver
  FB03                   C      MSX_TOCNT    equ 0FB03H ;
  FB04                   C      MSX_RSFCB_L  equ 0FB04H ; Adress of the RS232 LOW
  FB05                   C      MSX_RSFCB_H  equ 0FB05H ; Adress of the RS232 HIGH
  FB06                   C      MSX_RSIQLN   equ 0FB06H ; Byte DATA
  FB07                   C      MSX_MEXBIH   equ 0FB07H ; Hook RST (&H30)
  FB08                   C      MSX_BYTEDT1  equ 0FB08H ; Byte Data
  FB09                   C      MSX_DTLOW    equ 0FB09H ; LOW
  FB0A                   C      MSX_DTHIGH   equ 0FB0AH ; HIGH
  FB0B                   C      MSX_OLDINT   equ 0FB0BH ; Old interupt ( RET &HC9 )
  FB0C                   C      MSX_OLDSTT   equ 0FB0CH ; Hook
  FB10                   C      MSX_RSUNKN   equ 0FB10H ; Unknown
  FB11                   C      MSX_HKRST    equ 0FB11H ; Hook RST (&H30)
  FB12                   C      MSX_BYTEDT2  equ 0FB12H ; Byte DATA
  FB13                   C      MSX_DT2LOW   equ 0FB13H ; LOW
  FB14                   C      MSX_DT2HIGH  equ 0FB14H ; HIGH
  FB15                   C      MSX_RSRET    equ 0FB15H ; ( RET &HC9 )
  FB16                   C      MSX_DEVNUM   equ 0FB16H ; Byte OFFSET
  FB17                   C      MSX_DATCNT   equ 0FB17H ; Byte DATA
  FB18                   C      MSX_BYTPNT1  equ 0FB18H ; Byte POINTER
  FB19                   C      MSX_BYTPNT2  equ 0FB19H ; Byte POINTER
  FB1A                   C      MSX_ERRORS   equ 0FB1AH ; Byte DATA
  FB1B                   C      MSX_FLAGS    equ 0FB1BH ; BIT BOOLEAN
  FB1C                   C      MSX_ESTBLS   equ 0FB1CH ; BIT BOOLEAN
  FB1D                   C      MSX_COMMSK   equ 0FB1DH ; Byte DATA
  FB1E                   C      MSX_LSTCOM   equ 0FB1EH ; Byte DATA
  FB1F                   C      MSX_LSTMOD   equ 0FB1FH ; Byte DATA
  FB20                   C      MSX_RSUNK2   equ 0FB20H ;
                         C
                         C      ; Data area used by MSX-DOS
                         C
  FB21                   C      MSX_DRVINV_1_DSKS equ 0FB21H ; Nr. of drives connected to disk interface 1
  FB22                   C      MSX_DRVINV_1_SLT  equ 0FB22H ; Slot adress of disk interface 1
  FB23                   C      MSX_DRVINV_2_DSKS equ 0FB23H ; Nr. of drives connected to disk interface 2
  FB24                   C      MSX_DRVINV_2_SLT  equ 0FB24H ; Slot adress of disk interface 2
  FB25                   C      MSX_DRVINV_3_DSKS equ 0FB25H ; Nr. of drives connected to disk interface 3
  FB26                   C      MSX_DRVINV_3_SLT  equ 0FB26H ; Slot adress of disk interface 3
  FB27                   C      MSX_DRVINV_4_DSKS equ 0FB27H ; Nr. of drives connected to disk interface 4
  FB28                   C      MSX_DRVINV_4_SLT  equ 0FB28H ; Slot adress of disk interface 4
                         C
                         C      ; music
                         C
  FB35                   C      MSX_PRSCNT  equ 0FB35H ; Used by PLAY command in BASIC
  FB36                   C      MSX_SAVSP   equ 0FB36H ; Used by PLAY command in BASIC
  FB38                   C      MSX_VOICEN  equ 0FB38H ; Used by PLAY command in BASIC
  FB39                   C      MSX_SAVVOL  equ 0FB39H ; Used by PLAY command in BASIC
  FB3B                   C      MSX_MCLLEN  equ 0FB3BH ; Used by PLAY command in BASIC
  FB3C                   C      MSX_MCLPTR  equ 0FB3CH ; Used by PLAY command in BASIC
  FB3E                   C      MSX_QUEUEN  equ 0FB3EH ;
  FB3F                   C      MSX_MUSICF  equ 0FB3FH ;
  FB40                   C      MSX_PLYCNT  equ 0FB40H ;
  FB41                   C      MSX_VCBA    equ 0FB41H ;
  FB66                   C      MSX_VCBB    equ 0FB66H ;
  FB8B                   C      MSX_VCBC    equ 0FB8BH ;
  FBB0                   C      MSX_ENSTOP  equ 0FBB0H ; <>0 if warm start enabled (CTRL+SHIFT+GRPH+KANA/CODE for warm start)
  FBB1                   C      MSX_BASROM  equ 0FBB1H ; <>0 if basic is in rom (CTRL+STOP disabled)
  FBB2                   C      MSX_LINTTB  equ 0FBB2H ; line terminator table (<>0 if line terminates)
  FBCA                   C      MSX_FSTPOS  equ 0FBCAH ; first position for inlin
  FBCC                   C      MSX_CODSAV  equ 0FBCCH ; code save area for cursor
  FBCD                   C      MSX_FNKSWI  equ 0FBCDH ; indicate which func key is displayed
  FBCE                   C      MSX_FNKFLG  equ 0FBCEH ; fkey which have subroutine
  FBD8                   C      MSX_ONGSBF  equ 0FBD8H ; global event flag
  FBD9                   C      MSX_CLIKFL  equ 0FBD9H ;
  FBDA                   C      MSX_OLDKEY  equ 0FBDAH ;
  FBE5                   C      MSX_NEWKEY  equ 0FBE5H ;
                         C
                         C      ;  Example of European Keyboard Layout
                         C      ; FBE5 0  => 7       6         5         4         3         2         1         0
                         C      ; FBE6 1  => ; ]         [         \         =         -         9         8
                         C      ; FBE7 2  => B       A         ACCENT    /         .         ,         `         '
                         C      ; FBE8 3  => J       I         H         G         F         E         D         C
                         C      ; FBE9 4  => R       Q         P         O         N         M         L         K
                         C      ; FBEA 5  => Z       Y         X         W         V         U         T         S
                         C      ; FBEB 6  => F3      F2        F1        CODE      CAPS      GRPH      CTRL      SHIFT
                         C      ; FBEC 7  => RET     SEL       BS        STOP      TAB       ESC       F5        F4
                         C      ; FBED 8  => RIGHT   DOWN      UP        LEFT      DEL       INS       HOME      SPACE
                         C      ; FBEE 9  => 4       3         2         1         0          /         +         *
                         C      ; FBEF 10 => .         ,         -         9         8         7         6         5
                         C
  FBF0                   C      MSX_KEYBUF  equ 0FBF0H ; key code buffer
  FC18                   C      MSX_BUFEND  equ 0FC18H ; end of key buffer
  FC18                   C      MSX_LINWRK  equ 0FC18H ;
  FC40                   C      MSX_PATWRK  equ 0FC40H ; Pattern Buffer
  FC48                   C      MSX_BOTTOM  equ 0FC48H ;
  FC4A                   C      MSX_HIMEM   equ 0FC4AH ;
  FC4C                   C      MSX_TRPTBL  equ 0FC4CH ;
  FC9A                   C      MSX_RTYCNT  equ 0FC9AH ;
  FC9B                   C      MSX_INTFLG  equ 0FC9BH ; This flag is set if STOP or CTRL + STOP is pressed
                         C
                         C      ; 0 = Not Pressed
                         C      ; 3 = CTRL +STOP Pressed
                         C      ; 4 = STOP Pressed
                         C
  FC9C                   C      MSX_PADY   equ 0FC9CH ; Y-coordinate of a connected Graphics Tablet (PAD)
  FC9D                   C      MSX_PADX   equ 0FC9DH ; X-coordinate of a connected Graphics Tablet (PAD)
  FC9E                   C      MSX_JIFFY  equ 0FC9EH ; Contains value of the software clock, each interrupt of the VDP  it is increased by 1.
                         C
                         C      ; The contents can be read or changed by the 'TIME' function or 'TIME' statement.
                         C
  FCA0                   C      MSX_INTVAL  equ 0FCA0H ; Contains length of the interval when the ON INTERVAL routine was established.
  FCA2                   C      MSX_INTCNT  equ 0FCA2H ; ON INTERVAL counter (counts backwards)
  FCA4                   C      MSX_LOWLIM  equ 0FCA4H ; Used by the Cassette system (minimal length of startbit)
  FCA5                   C      MSX_WINWID  equ 0FCA5H ; Used by the Cassette system (store the difference between a low-and high-cycle)
  FCA6                   C      MSX_GRPHED  equ 0FCA6H ; flag for graph. char
  FCA7                   C      MSX_ESCCNT  equ 0FCA7H ; escape sequence counter FCA8 INSFLG  insert mode flag
  FCA9                   C      MSX_CSRSW   equ 0FCA9H ; cursor display switch
  FCAA                   C      MSX_CSTYLE  equ 0FCAAH ; cursor style i.e. Used if INS Key is used ( 00# = Full Cursor / FF# = Halve Cursor )
  FCAB                   C      MSX_CAPST   equ 0FCABH ; capital status ( 00# = Off / FF# = On )
  FCAC                   C      MSX_KANAST  equ 0FCACH ; russian key status (Dead Keys)
                         C
                         C      ; 0 = No Dead Keys
                         C      ; 1 = Dead Key > Accent Grave
                         C      ; 2 = SHIFT + Dead Key > Accent Egu
                         C      ; 3 = CODE + Dead Key > Accent Circumflex
                         C      ; 4 = SHIFT + CODE + Dead Key > Trema
                         C
  FCAD                   C      MSX_KANAMD  equ 0FCADH ;
  FCAE                   C      MSX_FLBMEM  equ 0FCAEH ; 0 if loading basic programm
  FCAF                   C      MSX_SCRMOD  equ 0FCAFH ; screen mode
  FCB0                   C      MSX_OLDSCR  equ 0FCB0H ; old screen mode
  FCB1                   C      MSX_CASPRV  equ 0FCB1H ;
  FCB2                   C      MSX_BRDATR  equ 0FCB2H ; border color for paint
  FCB3                   C      MSX_GXPOS   equ 0FCB3H ; X-position
  FCB5                   C      MSX_GYPOS   equ 0FCB5H ; Y-position
  FCB7                   C      MSX_GRPACX  equ 0FCB7H ;
  FCB9                   C      MSX_GRPACY  equ 0FCB9H ;
  FCBB                   C      MSX_DRWFLG  equ 0FCBBH ; Used by the DRAW statement  (DrawFlag)
                         C
                         C      ; Bit 7 = Draw Line 0 = No / 1 = Yes ( ,N )
                         C      ; Bit 6 = Move Cursor 0 = Yes / 1 = Yes ( ,B )
                         C      ; Bit 5 - 0 Unused
                         C
  FCBC                   C      MSX_DRWSCL  equ 0FCBCH ; Used by the DRAW statement  (DrawScaling)
  FCBD                   C      MSX_DRWANG  equ 0FCBDH ; Used by the DRAW statement (DrawAngle)
                         C
                         C      ; 0 = 00  rotation
                         C      ; 1 = 900 rotation
                         C      ; 2= 1800 rotation
                         C      ; 3= 2700 Rotation
                         C
  FCBE                   C      MSX_RUNBNF   equ 0FCBEH ; Run Binary File After loading ( Bload"File.Bin",R ) 0 = Don't Run / 1 = Run
  FCBF                   C      MSX_SAVENT   equ 0FCBFH ; start address for BSAVE / BLOAD operations
  FCC1                   C      MSX_EXPTBL_0 equ 0FCC1H ; flag for primary expanded slot 0 80h = Expanded / 00h = NOT Expanded
  FCC2                   C      MSX_EXPTBL_1 equ 0FCC2H ; flag for primary expanded slot 1 80h = Expanded / 00h = NOT Expanded
  FCC3                   C      MSX_EXPTBL_2 equ 0FCC3H ; flag for primary expanded slot 2 80h = Expanded / 00h = NOT Expanded
  FCC4                   C      MSX_EXPTBL_3 equ 0FCC4H ; flag for primary expanded slot 3 80h = Expanded / 00h = NOT Expanded
  FCC5                   C      MSX_SLTTBL_0 equ 0FCC5H ; current expanded slot 0 reg
  FCC6                   C      MSX_SLTTBL_1 equ 0FCC6H ; current expanded slot 1 reg
  FCC7                   C      MSX_SLTTBL_2 equ 0FCC7H ; current expanded slot 2 reg
  FCC8                   C      MSX_SLTTBL_3 equ 0FCC8H ; current expanded slot 3 reg
  FCC9                   C      MSX_SLTATR   equ 0FCC9H ; Slotatributes found during start process
                         C
                         C      ; Bit 7 = Basic programm 0 = No / 1 = Yes
                         C      ; Bit 6 = Device Extention  0 = No / 1 = Yes
                         C      ; Bit 5 = Statement Extention  0 = No / 1 = Yes
                         C      ; Bit 4 - 0 = Unused
                         C
  FD09                   C      MSX_SLTWRK equ 0FD09H ; (free word = FD09H + 32*basic slot + 8*expansion slot + 2*page)
  FD89                   C      MSX_PROCNM equ 0FD89H ; name of expanded statement
  FD99                   C      MSX_DEVICE equ 0FD99H ; device ID for cartrige 0-3
                         C
                         C      ; HOOKS
                         C
  FD9A                   C      MSX_HKEYI   equ 0FD9AH ; 0C4A  Interrupt handler
  FD9F                   C      MSX_HTIMI   equ 0FD9FH ; 0C53  Interrupt handler
  FDA4                   C      MSX_HCHPU   equ 0FDA4H ; 08C0  DO CHPUT(A-character; SAVE ALL)
  FDA9                   C      MSX_HDSPC   equ 0FDA9H ; 09E6  Display cursor    (no param.)
  FDAE                   C      MSX_HERAC   equ 0FDAEH ; 0A33  Errase cursor     (no param.)
  FDB3                   C      MSX_HDSPF   equ 0FDB3H ; 0B2B  DSPFNK std routine(no param.)
  FDB8                   C      MSX_HERAF   equ 0FDB8H ; 0B15  ERAFNK std routine(no param.)
  FDBD                   C      MSX_HTOTE   equ 0FDBDH ; 0842  TOTEXT std routine
  FDC2                   C      MSX_HCHGE   equ 0FDC2H ; 10CE  CHGET  std routine
  FDC7                   C      MSX_HINIP   equ 0FDC7H ; 071E  Copy character set to VDP
  FDCC                   C      MSX_HKEYC   equ 0FDCCH ; 1025  Keyboard decoder
  FDD1                   C      MSX_HKYEA   equ 0FDD1H ; 0F10  Keyboard decoder
  FDD6                   C      MSX_HNMI    equ 0FDD6H ; 1398  NMI std routine
  FDDB                   C      MSX_HPINL   equ 0FDDBH ; 23BF  PINLIN std routine
  FDE0                   C      MSX_HQINL   equ 0FDE0H ; 23CC  QINLIN std routine
  FDE5                   C      MSX_HINLI   equ 0FDE5H ; 23D5  INLIN std routine
  FDEA                   C      MSX_HONGO   equ 0FDEAH ; 7810  "ON DEVICE GOSUB"
  FDEF                   C      MSX_HDSKO   equ 0FDEFH ; 7C16  "DSKO$"
  FDF4                   C      MSX_HSETS   equ 0FDF4H ; 7C1B  "SET"
  FDF9                   C      MSX_HNAME   equ 0FDF9H ; 7C20  "NAME"
  FDFE                   C      MSX_HKILL   equ 0FDFEH ; 7C25  "KILL"
  FE03                   C      MSX_HIPL    equ 0FE03H ; 7C2A  "IPL"
  FE08                   C      MSX_HCOPY   equ 0FE08H ; 7C2F  "COPY"
  FE0D                   C      MSX_HCMD    equ 0FE0DH ; 7C34  "CMD"
  FE12                   C      MSX_HDSKF   equ 0FE12H ; 7C39  "DSKF"
  FE17                   C      MSX_HDSKI   equ 0FE17H ; 7C3E  "DSKI$"
  FE1C                   C      MSX_HATTR   equ 0FE1CH ; 7C43  "ATTR$"
  FE21                   C      MSX_HLSET   equ 0FE21H ; 7C48  "LSET"
  FE26                   C      MSX_HRSET   equ 0FE26H ; 7C4D  "RSET"
  FE2B                   C      MSX_HFIEL   equ 0FE2BH ; 7C52  "FIELD"
  FE30                   C      MSX_HMKI$   equ 0FE30H ; 7C57  "MKI$"
  FE35                   C      MSX_HMKS$   equ 0FE35H ; 7C5C  "MKS$"
  FE3A                   C      MSX_HMKD$   equ 0FE3AH ; 7C61  "MKD$"
  FE3F                   C      MSX_HCVI    equ 0FE3FH ; 7C66  "CVI"
  FE44                   C      MSX_HCVS    equ 0FE44H ; 7C6B  "CVS"
  FE49                   C      MSX_HCVD    equ 0FE49H ; 7C70  "CVD"
  FE4E                   C      MSX_HGETP   equ 0FE4EH ; 6A93  Locate FCB
  FE53                   C      MSX_HSETF   equ 0FE53H ; 6AB3  Locate FCB
  FE58                   C      MSX_HNOFO   equ 0FE58H ; 6AF6  "OPEN": not found
  FE5D                   C      MSX_HNULO   equ 0FE5DH ; 6B0F  "OPEN"
  FE62                   C      MSX_HNTFL   equ 0FE62H ; 6B3B  Close I/O buffer 0
  FE67                   C      MSX_HMERG   equ 0FE67H ; 6B63  "MERGE/LOAD"
  FE6C                   C      MSX_HSAVE   equ 0FE6CH ; 6BA6  "SAVE"
  FE71                   C      MSX_HBINS   equ 0FE71H ; 6BCE  "SAVE"
  FE76                   C      MSX_HBINL   equ 0FE76H ; 6BD4  "MERGE/LOAD"
  FE7B                   C      MSX_HFILE   equ 0FE7BH ; 6C2F  "FILES"
  FE80                   C      MSX_HDGET   equ 0FE80H ; 6C3B  "GET/PUT"
  FE85                   C      MSX_HFILO   equ 0FE85H ; 6C51  Sequential output
  FE8A                   C      MSX_HINDS   equ 0FE8AH ; 6C79  Sequential input
  FE8F                   C      MSX_HRSLF   equ 0FE8FH ; 6CD8  "INPUT$"
  FE94                   C      MSX_HSAVD   equ 0FE94H ; 6D03"LOC",6D14"LOF",6D25"EOF",6D39"FPOS"
  FE99                   C      MSX_HLOC    equ 0FE99H ; 6D0F  "LOC"
  FE9E                   C      MSX_HLOF    equ 0FE9EH ; 6D20  "LOF"
  FEA3                   C      MSX_HEOF    equ 0FEA3H ; 6D33  "EOF"
  FEA8                   C      MSX_HFPOS   equ 0FEA8H ; 6D43  "FPOS"
  FEAD                   C      MSX_HBAKU   equ 0FEADH ; 6E36  "LINE INPUT#"
  FEB2                   C      MSX_HPARD   equ 0FEB2H ; 6F15  Parse device name
  FEB7                   C      MSX_HNODE   equ 0FEB7H ; 6F33  Parse device name
  FEBC                   C      MSX_HPOSD   equ 0FEBCH ; 6F37  Parse device name
  FEC1                   C      MSX_HDEVN   equ 0FEC1H ; This hook not used
  FEC6                   C      MSX_HGEND   equ 0FEC6H ; 6F8F  I/O function despatcher
  FECB                   C      MSX_HRUNC   equ 0FECBH ; 629A  Run-clear
  FED0                   C      MSX_HCLEA   equ 0FED0H ; 62A1  Run-clear
  FED5                   C      MSX_HLOPD   equ 0FED5H ; 62AF  Run-clear
  FEDA                   C      MSX_HSTKE   equ 0FEDAH ; 62F0  Reset stack
  FEDF                   C      MSX_HISFL   equ 0FEDFH ; 145F  ISFLIO std routine
  FEE4                   C      MSX_HOUTD   equ 0FEE4H ; 1B46  OUTDO std routine
  FEE9                   C      MSX_HCRDO   equ 0FEE9H ; 7328  CR,LF to OUTDO
  FEEE                   C      MSX_HDSKC   equ 0FEEEH ; 7374  Mainloop line input
  FEF3                   C      MSX_HDOGR   equ 0FEF3H ; 593C  Line draw
  FEF8                   C      MSX_HPRGE   equ 0FEF8H ; 4039  Program end
  FEFD                   C      MSX_HERRP   equ 0FEFDH ; 40DC  Error handler
  FF02                   C      MSX_HERRF   equ 0FF02H ; 40FD  Error handler
  FF07                   C      MSX_HREAD   equ 0FF07H ; 4128  Mainloop "OK"
  FF0C                   C      MSX_HMAIN   equ 0FF0CH ; 4134  Mainloop
  FF11                   C      MSX_HDIRD   equ 0FF11H ; 41A8  Mainloop direct statement
  FF16                   C      MSX_HFINI   equ 0FF16H ; 4237  Mainloop finished
  FF1B                   C      MSX_HFINE   equ 0FF1BH ; 4247  Mainloop finished
  FF20                   C      MSX_HCRUN   equ 0FF20H ; 42B9  Tokenise
  FF25                   C      MSX_HCRUS   equ 0FF25H ; 4353  Tokenise
  FF2A                   C      MSX_HISRE   equ 0FF2AH ; 437C  Tokenise
  FF2F                   C      MSX_HNTFN   equ 0FF2FH ; 43A4  Tokenise
  FF34                   C      MSX_HNOTR   equ 0FF34H ; 44EB  Tokenise
  FF39                   C      MSX_HSNGF   equ 0FF39H ; 45D1  "FOR"
  FF3E                   C      MSX_HNEWS   equ 0FF3EH ; 4601  Runloop new statement
  FF43                   C      MSX_HGONE   equ 0FF43H ; 4646  Runloop execute
  FF48                   C      MSX_HCNRG   equ 0FF48H ; 4666  CHRGTR std routine
  FF4D                   C      MSX_HRETU   equ 0FF4DH ; 4821  "RETURN"
  FF52                   C      MSX_HPRTF   equ 0FF52H ; 4A5E  "PRINT"
  FF57                   C      MSX_HCOMP   equ 0FF57H ; 4A94  "PRINT"
  FF5C                   C      MSX_HFINP   equ 0FF5CH ; 4AFF  "PRINT"
  FF61                   C      MSX_HTRMN   equ 0FF61H ; 4B4D  "READ/INPUT" error
  FF66                   C      MSX_HFRME   equ 0FF66H ; 4C6D  Expression Evaluator
  FF6B                   C      MSX_HNTPL   equ 0FF6BH ; 4CA6  Expression Evaluator
  FF70                   C      MSX_HEVAL   equ 0FF70H ; 4DD9  Factor Evaluator
  FF75                   C      MSX_HOKNO   equ 0FF75H ; 4F2C  Factor Evaluator
  FF7A                   C      MSX_HFING   equ 0FF7AH ; 4F3E  Factor Evaluator
  FF7F                   C      MSX_HISMI   equ 0FF7FH ; 51C3  Runloop execute
  FF84                   C      MSX_HWIDT   equ 0FF84H ; 51CC  "WIDTH"
  FF89                   C      MSX_HLIST   equ 0FF89H ; 522E  "LIST"
  FF8E                   C      MSX_HBUFL   equ 0FF8EH ; 532D  Detokenise
  FF93                   C      MSX_HFRQI   equ 0FF93H ; 543F  Convert to integer
  FF98                   C      MSX_HSCNE   equ 0FF98H ; 5514  Line number to pointer
  FF9D                   C      MSX_HFRET   equ 0FF9DH ; 67EE  Free descriptor
  FFA2                   C      MSX_HPTRG   equ 0FFA2H ; 5EA9  Variable search
  FFA7                   C      MSX_HPHYD   equ 0FFA7H ; 148A  PHYDIO std routine
  FFAC                   C      MSX_HFORM   equ 0FFACH ; 148E  FORMAT std routine
  FFB1                   C      MSX_HERRO   equ 0FFB1H ; 406F  Error handler( NA^ALO )
  FFB6                   C      MSX_HLPTO   equ 0FFB6H ; 085D  LPTOUT std routine
  FFBB                   C      MSX_HLPTS   equ 0FFBBH ; 0884  LPTSTT std routine
  FFC0                   C      MSX_HSCRE   equ 0FFC0H ; 79CC  "SCREEN"
  FFC5                   C      MSX_HPLAY   equ 0FFC5H ; 73E5  "PLAY" statement
  FFCA                   C      MSX_EXTBIO  equ 0FFCAH ; xxxx Used to access external BIOS implementations
  FFCF                   C      MSX_HBGFD   equ 0FFCFH ; before physical operation with disk (BUG: Not called on MSX tR when DOS2 active)
  FFD4                   C      MSX_HENFD   equ 0FFD4H ; after physical operation with disk  (BUG: Not called on MSX tR when DOS2 active)
  FFE7                   C      MSX_RG08SAV equ 0FFE7H ; Content of VDP(09) register (R#08)
  FFE8                   C      MSX_RG09SAV equ 0FFE8H ; Content of VDP(10) register (R#09)
  FFE9                   C      MSX_RG10SAV equ 0FFE9H ; Content of VDP(11) register (R#10)
  FFEA                   C      MSX_RG11SAV equ 0FFEAH ; Content of VDP(12) register (R#11)
  FFEB                   C      MSX_RG12SAV equ 0FFEBH ; Content of VDP(13) register (R#12)
  FFEC                   C      MSX_RG13SAV equ 0FFECH ; Content of VDP(14) register (R#13)
  FFED                   C      MSX_RG14SAV equ 0FFEDH ; Content of VDP(15) register (R#14)
  FFEE                   C      MSX_RG15SAV equ 0FFEEH ; Content of VDP(16) register (R#15)
  FFEF                   C      MSX_RG16SAV equ 0FFEFH ; Content of VDP(17) register (R#16)
  FFF0                   C      MSX_RG17SAV equ 0FFF0H ; Content of VDP(18) register (R#17)
  FFF1                   C      MSX_RG18SAV equ 0FFF1H ; Content of VDP(19) register (R#18)
  FFF2                   C      MSX_RG19SAV equ 0FFF2H ; Content of VDP(20) register (R#19)
  FFF3                   C      MSX_RG20SAV equ 0FFF3H ; Content of VDP(21) register (R#20)
  FFF4                   C      MSX_RG21SAV equ 0FFF4H ; Content of VDP(22) register (R#21)
  FFF5                   C      MSX_RG22SAV equ 0FFF5H ; Content of VDP(23) register (R#22)
  FFF6                   C      MSX_RG23SAV equ 0FFF6H ; Content of VDP(24) register (R#23)
  FFF7                   C      MSX_ROMSLT  equ 0FFF7H ; Slotadress of Main-ROM
  FFF8                   C      MSX_RESERV  equ 0FFF8H ; Reserved
  FFFA                   C      MSX_RG25SAV equ 0FFFAH ; Content of VDP(26) register (R#25) MSX2+
  FFFB                   C      MSX_RG26SAV equ 0FFFBH ; Content of VDP(27) register (R#26) MSX2+
  FFFC                   C      MSX_RG27SAV equ 0FFFCH ; Content of VDP(28) register (R#27) MSX2+
  FFFD                   C      MSX_TMPSPS  equ 0FFFDH ; Temporary stack pointer storage
  FFFF                   C      MSX_SLTSL   equ 0FFFFH ; Secondary slot select register (Reading returns INVERTED! previous written value)
                         C      ;
                                ;
                                   .PHASE 4200H
                                ;
                                ; REGISTROS:
                                ;   SP = PILHA PARAMETROS
                                ;   BC = FORTH PROGRAM COUNTER
                                ;   IX = FORTH PROGRAM COUNTER STACK POINTER E DO .. LOOP DATA (I)
                                ;   IY = SEMPRE APONTA PARA A ROTINA NEXT
                                ;
                                ; O PROGRAMA I ORIGINALMENTE CARREGADO
                                ; NO ENDERECO 0100H.
                                ; O PRIMEIRO PASSO E' TRANSFERI-LO
                                ; PARA 4200H
                                ;
  4200    F3                    FORTH:  di
  4201    21 0100                       ld hl,0100H         ; ORIGEM: 0100H
  4204    11 4200                       ld de,FORTH         ; DESTINO: 4200H
  4207    01 2FC8                       ld bc,KBO-FORTH     ; TAMANHO
  420A    ED B0                         ldir                ; MOVE
  420C    2A F37E                       ld hl,(MSX_ROM_BDOS_VECTOR) ; SALVA ENDERECO DE CHAMADA BDOS
  420F    22 4246                       ld (BDS),hl
  4212    21 F87F                       ld hl,MSX_FNKSTR    ; SALVA AS TECLAS DE FUNCOES
  4215    11 429D                       ld de,FNCKEYS       ; PARA SEREM REPOSTAS NA SAIDA
  4218    01 00A0                       ld bc,160           ; DO FORTH
  421B    ED B0                         ldir
  421D    21 43B2                       ld hl,FA          ; TRANSFERE AS TECLAS DE FUNCOES DO FORTH
  4220    11 F87F                       ld de,MSX_FNKSTR
  4223    01 00A0                       ld bc,160
  4226    ED B0                         ldir
  4228    C3 422B                       jp FORTH1           ; E' NECESSARIO, POIS A CHAMADA SE DARA PARA O PROGRAMA JA' REALOCADO
                                ;
  422B    DB A8                 FORTH1: in a,(MSX_SLOTCFG)  ; RECUPERA A CONFIGURACAO DO SLOT 0
  422D    32 4280                       ld (SLOT1),a        ; E SALVA
  4230    E6 30                         and 00110000B       ; OBTEM A CONFIGURACAO DO SLOT 2 ONDE SEMPRE APONTA PARA RAM E DO SLOT 0, PARA ROM
  4232    67                            ld h,a
                                        ; DESLOCA PARA O SLOT 1
  4233    F5                            push af
  4234    1F                            rra
  4235    1F                            rra
  4236    B4                            or h
  4237    67                            ld h,a
                                        ; DESLOCA PARA O SLOT 3
  4238    F1                            pop af
  4239    17                            rla
  423A    17                            rla
  423B    B4                            or h
  423C    D3 A8                         out (MSX_SLOTCFG),a ; LIGA 48K DE RAM E DEIXA AS ROTINAS DA ROM ATIVAS
  423E    FB                            ei
  423F    C3 475B                       jp INIC
                                ;
  4242    4200                  COM:     dw FORTH   ; INICIO
  4244    475B                  PINI:    dw INIC    ; ROTINA INICIAL
  4246    0000                  BDS:     dw 0       ; ENDER.ROT.BDOS
  4248    B000                  FCB:     dw 0B000H  ; ENDER.FCB
  424A    D000                  PPP:     dw 0D000H  ; PONT.PILHA PARAM.
  424C    CD70                  PPR:     dw 0CD70H  ; PONT.PILHA RET.
  424E    4735                  TEXE:    dw LELIN   ; LE LINHA DIGITADA
  4250    4140                  PLBP:    dw 4140H   ; BUFFER DE DIGITACAO
  4252    0000                  PBUF:    dw 0       ; PONT.POS.VARREDURA.BUF.DIGITACAO
  4254    0000                  POFFSET: dw 0
  4256    0000                  PRNUM:   dw 0
  4258    0000                  PMOD:    dw 0       ; MODO IMED. (0) OU EXEC.
  425A    000A                  PBAS:    dw 10      ; Base Decimal

                                ; ESTAS VARIAVEIS POSSIBILITAM O ACESSO AOS DICIONARIOS
  425C    4260                  PUPDP:    dw UPDC    ; PONTEIRO ULTIMA PALAVRA DICIONARIO PRINCIPAL (FIXO)
  425E    4260                  PUPDC:    dw UPDC    ; PONTEIRO ULTIMA PALAVRA DICIONARIO CORRENTE
  4260    71A9                  UPDC:     dw CBYE  ; ULTIMA PALAVRA DICIONARIO CORRENTE
  4262    71A9                  UPFXD:    dw CBYE  ; ULTIMA PALAVRA DICIONARIO QUE NAO PODE SER APAGADA (ATUALIZADA POR 'INCLUDE')
  4264    624F                  UPCC:     dw CAGAIN  ; ULTIMA PALAVRA COMPILADOR

  4266    71C8                  PPD:      dw KBO     ; PONTEIRO PARA PROXIMA PALAVRA A SER INCLUIDA NO DICIONARIO
  4268    71C8                  PRECOMP:  dw KBO     ; PONTEIRO DE POSICAO DE MEMORIA ENQUANTO UMA NOVA PALAVRA NAO E' COMPILADA COMPLETAMENTE
  426A    46DD                  FAR:      dw ENDF     ; ENDER. RUN. ROTINA QUE EXECUTA OS COMANDOS FORTH

  426C    0000                  PSTE:    dw 0       ; STATE
  426E    0000                  PDPL:    dw 0       ; USADO POR DPL
  4270    4003                  BFTC:    dw 4003H   ; BUFFER TECLADO
  4272    20                    NCOLG:   db 32      ; WIDTH P/ GRAF.
  4273    0000                  PF:      dw 0       ; USADO POR VLIST
  4275    0000                  PC:      dw 0       ; USADO POR VLIST
  4277    0000                  NL:      dw 0       ; USADO POR VLIST
  4279    0000                  NA:      dw 0       ; USADO POR VLIST
  427B    0000                  PMPT:    dw 0 ;; '>'     ; PROMPT PADRAO
  427D    00A8                  SPD:     dw 0A8H    ; SPEED CURSOR
  427F    00                    CTL:     db 0       ; CONT. SPEED CURSOR
  4280    00                    SLOT1:   db 0       ; CONF.SLOT
  4281    00                    DRV:     db 0       ; DRIVE EM USO
  4282    00                    ATRIB:   db 0       ; MASC.ATRIB.VHGR
  4283    0000                  BCOR:    dw 0       ; USADO POR SCROLL
  4285    0000                  BLINHA:  dw 0       ; USADO POR SCROLL
  4287    00                    FLGDWN:  db 0       ; FLAG EXIBE CARAC. < ESPACO ESTAMPAVEL
  4288    1BBF                  TABCAR:  dw 1BBFH   ; TAB. CARACTERES
  428A    0001                  FUPCS:   dw 1       ; CONV.MIN->MAI
  428C    0120                  SEMT:    dw 0120H   ; SEMENTE RAND. 1
  428E    0A55                  SEMT2:   dw 0A55H   ; SEMENTE RAND. 2
  4290    0000                  CPU:     dw 0       ; Z80 CODIFICADO
  4292    B250                           dw 0B250H  ; NA BASE 24H
  4294    0000                  PHLD:    dw 0       ; USADO POR HLD
  4296    0000                  VHLD:    dw 0       ; VAR. HLD
  4298    0000                  TUN:     dw 0       ; SE O ULT. NUMERO
                                                    ; CRIADO POR NUMBER
                                                    ; E' DE 16 OU 32 BIT'S
  429A    00                    LST:     db 0       ; FLAG PRINTER (OFF)
  429B    01                    CONS:    db 1       ; FLAG VIDEO (ON)
  429C    00                    LASTK:   db 0       ; ULTIMA TECLA LIDA
  429D                          FNCKEYS: ds 160     ; BUFF. FUNC. DOS
  433D    0000                  VAR1:    dw 0
  433F    0000                  VAR2:    dw 0
  4341    0000                  VAR3:    dw 0
                                ;
                                ;
  4343    6E                    MEN:  db 110
  4344    20 20 20 20                 db '        [[[[ FORTH MSX V2.1 ]]]]' ; 32
  4348    20 20 20 20
  434C    5B 5B 5B 5B
  4350    20 46 4F 52
  4354    54 48 20 4D
  4358    53 58 20 56
  435C    32 2E 31 20
  4360    5D 5D 5D 5D
  4364    0D 0A 0A                    db 0DH,0AH,0AH ; 3
  4367    20 50 6F 72                 db ' Por B.A. Molizane (C) ' ; 23
  436B    20 42 2E 41
  436F    2E 20 4D 6F
  4373    6C 69 7A 61
  4377    6E 65 20 28
  437B    43 29 20
                                      ;db '06/1988' ; 7
                                      ;db '1989' ; 4
  437E    30 31 2F 32                 db '01/2024' ; 7
  4382    30 32 34
  4385    2E 0D 0A 0A                 db '.',0DH,0AH,0AH ; 4
  4389    20 50 61 72                 db ' Para listar os comandos, ' ; 26
  438D    61 20 6C 69
  4391    73 74 61 72
  4395    20 6F 73 20
  4399    63 6F 6D 61
  439D    6E 64 6F 73
  43A1    2C 20
  43A3    64 69 67 69                 db 'digite VLIST' ; 12
  43A7    74 65 20 56
  43AB    4C 49 53 54
  43AF    0D 0A 0A                    db 0DH,0AH,0AH ; 3
                                ;
                                ; TECLAS DE FUNCOES PARA O FORTH
  43B2    3A 20                 FA: db ': '
  43B4    0000 0000                 dw 00,00,00,00,00,00,00
  43B8    0000 0000
  43BC    0000 0000
  43C0    0000
  43C2    20 3B                     db ' ;'
  43C4    000D 0000                 dw 13,00,00,00,00,00,00
  43C8    0000 0000
  43CC    0000 0000
  43D0    0000
  43D2    43 52 45 41               db 'CREATE ',0
  43D6    54 45 20 00
  43DA    0000 0000                 dw 00,00,00,00
  43DE    0000 0000
  43E2    20 4E 45 58               db ' NEXT',13
  43E6    54 0D
  43E8    0000 0000                 dw 00,00,00,00,00
  43EC    0000 0000
  43F0    0000
  43F2    46 4F 52 47               db 'FORGET ',0
  43F6    45 54 20 00
  43FA    0000 0000                 dw 00,00,00,00
  43FE    0000 0000
  4402    20 2C 20 00               db ' , ',0
  4406    0000 0000                 dw 00,00,00,00,00,00
  440A    0000 0000
  440E    0000 0000
  4412    20 43 2C 20               db ' C, '
  4416    0000 0000                 dw 00,00,00,00,00,00
  441A    0000 0000
  441E    0000 0000
  4422    20 3C 42 55               db ' <BUILDS ',0
  4426    49 4C 44 53
  442A    20 00
  442C    0000 0000                 dw 00,00,00
  4430    0000
  4432    20 44 4F 45               db ' DOES> ',0
  4436    53 3E 20 00
  443A    0000 0000                 dw 00,00,00,00
  443E    0000 0000
  4442    42 59 45 0D               db 'BYE',13
  4446    0000 0000                 dw 00,00,00,00,00,00
  444A    0000 0000
  444E    0000 0000
                                ;
  4452    F3                    PSC: di
  4453    F5                         push af
  4454    C5                         push bc
  4455    D5                         push de
  4456    E5                         push hl
  4457    2A 428C                    ld hl,(SEMT) ; INCREMENTA A SEMENTE RANDOMICA DE 32 BITS
  445A    11 0001                    ld de,1
  445D    19                         add hl,de
  445E    22 428C                    ld (SEMT),hl
  4461    2A 428E                    ld hl,(SEMT2)
  4464    ED 5A                      adc hl,de
  4466    22 428E                    ld (SEMT2),hl
  4469    21 427F                    ld hl,CTL   ; VERIFICA SE O CURSOR VAI PISCAR
  446C    34                         inc (hl)
  446D    3A 427D                    ld a,(SPD)  ; COMPARA COM A VELOCIDADE DEFINIDA
  4470    BE                         cp (hl)
  4471    FA 4486                    jp m,DS2
  4474    AF                         xor a
  4475    77                         ld (hl),a
  4476    3A 4A8B                    ld a,(CCRS) ; MUDA O CURSOR
  4479    5F                         ld e,a
  447A    3A 4A8D                    ld a,(CCRL)
  447D    BB                         cp e
  447E    28 0B                      jr z,DS1
  4480    3A 4A8B                    ld a,(CCRS)  ; LIGA O CURSOR
  4483    32 4A8D                    ld (CCRL),a
  4486    E1                    DS2: pop hl
  4487    D1                         pop de
  4488    C1                         pop bc
  4489    F1                         pop af
  448A    C9                         ret
  448B    3E 20                 DS1: ld a,' '     ; DESLIGA O CURSOR
  448D    32 4A8D                    ld (CCRL),a
  4490    18 F4                      jr DS2
                                ;
                                ; EXIBE O SIMBOLO DE PROMPT CONTIDO EM PMPT
  4492    4494                  READY:  dw $+2
  4494    CD 44BB                    call LNCND  ; PULA LINHA OU NAO, DEPENDENDO DE X DO CURSOR
  4497    3A 427B                    ld a,(PMPT)
  449A    A7                         and a
  449B    CA 46F7                    jp z,NEXT ; SE NAO HA CURSOR DEFINIDO, PULA
  449E    FE 20                      cp ' '
  44A0    F2 44AD                    jp p,RDY1   ; SE O CURSOR FOR MENOR OU IGUAL A ESPACO
  44A3    3E 01                      ld a,1     ; MUDA O CURSOR PARA SER EXIBIDO CORRETAMENTE
  44A5    CD 44E2                    call VIDEO ; PELO MSX
  44A8    3A 427B                    ld a,(PMPT)
  44AB    C6 40                      add a,64
  44AD    CD 44E2               RDY1: call VIDEO
  44B0    C3 46F7                    jp NEXT
                                ;
                                ; GANCHO PARA CHAMADA DA ROTINA LNCND EM FORTH
  44B3    44B5                  LNCOND: dw $+2
  44B5    CD 44BB                       call LNCND
  44B8    C3 46F7                       jp NEXT
                                ;
                                ; VERIFICA SE VAI QUEBRAR LINHA
  44BB    3A F3DD               LNCND: ld a,(MSX_CSRX)
  44BE    FE 01                        cp 1            ; CURSOR ESTA' NA PRIMEIRA COLUNA?
  44C0    C2 46C7                      jp nz,CRLF      ; NAO, PULA LINHA
  44C3    C9                           ret
                                ;
                                ; IMPRIME Ok NA TELA
  44C4    44C6                  OK:  dw $+2
  44C6    CD 44CC                    call XOK
  44C9    C3 46F7                    jp NEXT

  44CC    3A F3DD               XOK:  ld a,(MSX_CSRX)
  44CF    FE 01                       cp 1
  44D1    28 05                       jr z,XOK1
  44D3    3E 20                       ld a,' '
  44D5    CD 44E2                     call VIDEO
  44D8    3E 4F                 XOK1: ld a,'O'
  44DA    CD 44E2                     call VIDEO
  44DD    3E 6B                       ld a,'k'
  44DF    C3 44E2                     jp VIDEO
                                ;
  44E2    F5                    VIDEO:  push af
  44E3    3A 429A                       ld a,(LST)   ; VERIFICA SE SAI NA IMPRESSORA
  44E6    A7                            and a
  44E7    20 08                         jr nz,LISTER
  44E9    3A 429B                       ld a,(CONS)  ; VERIFICA SE SAI NO VIDEO
  44EC    A7                            and a
  44ED    20 06                         jr nz,CONSOL
  44EF    F1                            pop af
  44F0    C9                            ret
                                ;
  44F1    F1                    LISTER: pop af
  44F2    C3 00A5                       jp MSX_PRN   ; IMPRESSORA
                                ;
  44F5    3A FCAF               CONSOL: ld a,(MSX_SCRMOD)
  44F8    FE 02                         cp 2
  44FA    F2 4501                       jp p,VHGR
  44FD    F1                            pop af
  44FE    C3 00A2                       jp MSX_CON   ; VIDEO
                                ;
                                ; EXIBICAO DE CARACTERES EM TELA GRAFICA
  4501    F1                    VHGR:  pop af
  4502    C5                           push bc
  4503    D5                           push de
  4504    E5                           push hl
  4505    F5                           push af
  4506    3A 4287                      ld a,(FLGDWN)
  4509    A7                           and a
  450A    20 65                        jr nz,IDWN
  450C    F1                           pop af
  450D    FE 20                        cp ' '
  450F    30 67                        jr nc,VT0
  4511    FE 01                        cp 1
  4513    20 08                        jr nz,VHGR1
  4515    3E FF                        ld a,-1
  4517    32 4287                      ld (FLGDWN),a
  451A    C3 45FD                      jp VT3
  451D    FE 07                 VHGR1: cp 7
  451F    28 1C                        jr z,BEEP
  4521    FE 08                        cp 8
  4523    28 24                        jr z,BS
  4525    FE 09                        cp 9
  4527    28 17                        jr z,TABU
  4529    FE 0A                        cp 10
  452B    CA 45EC                      jp z,LF
  452E    FE 0B                        cp 11
  4530    28 23                        jr z,HOME
  4532    FE 0C                        cp 12
  4534    28 0D                        jr z,LIMPTEL
  4536    FE 0D                        cp 13
  4538    28 2F                        jr z,CARRET
  453A    C3 45FD                      jp VT3
                                ;
  453D    CD 00C0               BEEP: call MSX_BEEP
  4540    C3 45FD               TABU: jp VT3
                                ;
  4543    CD 46AC               LIMPTEL: call CLS
  4546    C3 45FD                        jp VT3
                                ;
  4549    3A F3DD               BS:   ld a,(MSX_CSRX)
  454C    3D                          dec a
  454D    20 0B                       jr nz,BS2
  454F    3A F3DC                     ld a,(MSX_CSRY)
  4552    3D                          dec a
  4553    20 0B                       jr nz,BS1
  4555    3E 01                 HOME: ld a,1
  4557    32 F3DC                     ld (MSX_CSRY),a
  455A    32 F3DD               BS2:  ld (MSX_CSRX),a
  455D    C3 45FD                     jp VT3
  4560    32 F3DC               BS1:  ld (MSX_CSRY),a
  4563    3A 4272                     ld a,(NCOLG)
  4566    3D                          dec a
  4567    18 F1                       jr BS2
                                ;
  4569    3E 01                 CARRET: ld a,1
  456B    32 F3DD                       ld (MSX_CSRX),a
  456E    C3 45FD                       jp VT3
                                ;
  4571    AF                    IDWN: xor a
  4572    32 4287                     ld (FLGDWN),a
  4575    F1                          pop af
  4576    D6 40                       sub 64
  4578    F5                    VT0:  push af
  4579    3A F3DC                     ld a,(MSX_CSRY)
  457C    3D                          dec a
  457D    16 00                       ld d,0
  457F    5F                          ld e,a
  4580    2A F3CB                     ld hl,(MSX_TXTNAM+24)
  4583    19                          add hl,de
  4584    06 08                       ld b,8
  4586    29                    VT1:  add hl,hl
  4587    10 FD                       djnz VT1 ; *256
  4589    EB                          ex de,hl
  458A    AF                          xor a
  458B    3A 4272                     ld a,(NCOLG)
  458E    6F                          ld l,a
  458F    3E 21                       ld a,33
  4591    9D                          sbc a,l
  4592    6F                          ld l,a
  4593    AF                          xor a
  4594    CB 1D                       rr l
  4596    3A F3DD                     ld a,(MSX_CSRX)
  4599    85                          add a,l
  459A    3D                          dec a
  459B    26 00                       ld h,0
  459D    6F                          ld l,a
  459E    29                          add hl,hl ; * 2
  459F    29                          add hl,hl ; * 4
  45A0    29                          add hl,hl ; * 8
  45A1    19                          add hl,de
  45A2    3A F3E9                     ld a,(MSX_FORCLR)
  45A5    06 04                       ld b,4
  45A7    87                    VH1:  add a,a
  45A8    10 FD                       djnz VH1 ; * 16
  45AA    57                          ld d,a
  45AB    3A F3EA                     ld a,(MSX_BAKCLR)
  45AE    82                          add a,d
  45AF    32 4282                     ld (ATRIB),a
  45B2    F1                          pop af
  45B3    E5                          push hl
  45B4    26 00                       ld h,0
  45B6    6F                          ld l,a
  45B7    29                          add hl,hl ; * 2
  45B8    29                          add hl,hl ; * 4
  45B9    29                          add hl,hl ; * 8
  45BA    ED 5B 4288                  ld de,(TABCAR)
  45BE    19                          add hl,de
  45BF    06 08                       ld b,8
  45C1    7E                    VT2:  ld a,(hl)
  45C2    E3                          ex (sp),hl
  45C3    CD 004D                     call MSX_WRTVRAM
  45C6    E5                          push hl
  45C7    ED 5B F3C9                  ld de,(MSX_TXTNAM+22)
  45CB    19                          add hl,de
  45CC    3A 4282                     ld a,(ATRIB)
  45CF    CD 004D                     call MSX_WRTVRAM
  45D2    E1                          pop hl
  45D3    23                          inc hl
  45D4    E3                          ex (sp),hl
  45D5    23                          inc hl
  45D6    10 E9                       djnz VT2
  45D8    E1                          pop hl
  45D9    3A F3DD                     ld a,(MSX_CSRX)
  45DC    3C                          inc a
  45DD    32 F3DD                     ld (MSX_CSRX),a
  45E0    21 4272                     ld hl,NCOLG
  45E3    BE                          cp (hl)
  45E4    FA 45FD                     jp m,VT3
  45E7    3E 01                       ld a,1
  45E9    32 F3DD                     ld (MSX_CSRX),a
  45EC    3A F3DC               LF:   ld a,(MSX_CSRY)
  45EF    3C                          inc a
  45F0    32 F3DC                     ld (MSX_CSRY),a
  45F3    21 F3B1                     ld hl,MSX_CRTCNT
  45F6    BE                          cp (hl)
  45F7    FA 45FD                     jp m,VT3
  45FA    CD 4601                     call SCROLL
  45FD    E1                    VT3:  pop hl
  45FE    D1                          pop de
  45FF    C1                          pop bc
  4600    C9                          ret
                                ;
  4601    2A F3CB               SCROLL: ld hl,(MSX_TXTNAM+24) ; BASE(12)
  4604    11 0100                       ld de,256
  4607    19                            add hl,de
  4608    22 4285                       ld (BLINHA),hl
  460B    2A F3C9                       ld hl,(MSX_TXTNAM+22) ; BASE(11)
  460E    19                            add hl,de
  460F    22 4283                       ld (BCOR),hl
  4612    3A F3B1                       ld a,(MSX_CRTCNT)
  4615    3D                            dec a
  4616    4F                    SCROL1: ld c,a
  4617    C5                            push bc
  4618    2A 4285                       ld hl,(BLINHA)
  461B    ED 5B 4268                    ld de,(PRECOMP)
  461F    01 0100                       ld bc,256
  4622    CD 0059                       call MSX_LDIRVR
  4625    2A 4268                       ld hl,(PRECOMP)
  4628    11 0100                       ld de,256
  462B    19                            add hl,de
  462C    EB                            ex de,hl
  462D    2A 4283                       ld hl,(BCOR)
  4630    01 0100                       ld bc,256
  4633    CD 0059                       call MSX_LDIRVR
  4636    2A 4285                       ld hl,(BLINHA)
  4639    11 0100                       ld de,256
  463C    AF                            xor a
  463D    ED 52                         sbc hl,de
  463F    EB                            ex de,hl
  4640    2A 4268                       ld hl,(PRECOMP)
  4643    01 0100                       ld bc,256
  4646    CD 005C                       call MSX_LDIRRV
  4649    2A 4283                       ld hl,(BCOR)
  464C    11 0100                       ld de,256
  464F    AF                            xor a
  4650    ED 52                         sbc hl,de
  4652    E5                            push hl
  4653    2A 4268                       ld hl,(PRECOMP)
  4656    11 0100                       ld de,256
  4659    19                            add hl,de
  465A    D1                            pop de
  465B    01 0100                       ld bc,256
  465E    CD 005C                       call MSX_LDIRRV
  4661    2A 4285                       ld hl,(BLINHA)
  4664    11 0100                       ld de,256
  4667    19                            add hl,de
  4668    22 4285                       ld (BLINHA),hl
  466B    2A 4283                       ld hl,(BCOR)
  466E    19                            add hl,de
  466F    22 4283                       ld (BCOR),hl
  4672    C1                            pop bc
  4673    79                            ld a,c
  4674    3D                            dec a
  4675    20 9F                         jr nz,SCROL1
  4677    2A 4285                       ld hl,(BLINHA)
  467A    11 0100                       ld de,256
  467D    AF                            xor a
  467E    ED 52                         sbc hl,de
  4680    01 0100                       ld bc,256
  4683    CD 0056                       call MSX_VFILL
  4686    2A 4283                       ld hl,(BCOR)
  4689    11 0100                       ld de,256
  468C    AF                            xor a
  468D    ED 52                         sbc hl,de
  468F    3A F3EA                       ld a,(MSX_BAKCLR)
  4692    E6 0F                         and 15
  4694    5F                            ld e,a
  4695    CB 1F                         rr a
  4697    CB 1F                         rr a
  4699    CB 1F                         rr a
  469B    CB 1F                         rr a
  469D    B3                            or e
  469E    01 0100                       ld bc,256
  46A1    CD 0056                       call MSX_VFILL
  46A4    3A F3B1                       ld a,(MSX_CRTCNT)
  46A7    3D                            dec a
  46A8    32 F3DC                       ld (MSX_CSRY),a
  46AB    C9                            ret
                                ;
  46AC    CD 0777               CLS: call MSX_CLS
  46AF    E5                         push hl
  46B0    21 0101                    ld hl,0101H
  46B3    22 F3DC                    ld (MSX_CSRY),hl ; POSICIONA O CURSOR NA LINHA 1, COLUNA 1
  46B6    E1                         pop hl
  46B7    C9                         ret
                                ;
  46B8                          TECLA:
                                ; ROTINA DESATIVADA
                                ;       jr TECX
                                ;       call MSX_ISKEY
                                ;       jr nz,TECX
                                ;       ld a,(CCRS)
                                ;       ld (CCRL),a
                                ;       xor a
                                ;       ld (CTL),a
                                ;       ld a,0F7H
                                ;       ld (MSX_HKEYI),a
                                ;TEC1:  ld a,(CCRL)
                                ;       bit 7,a
                                ;       jr nz,TEC2
                                ;       cp ' '
                                ;       jp p,TEC2
                                ;       push af
                                ;       ld a,1
                                ;       call SVIDEO
                                ;       pop af
                                ;       add a,64
                                ;TEC2:  call SVIDEO
                                ;       ld a,8
                                ;       call SVIDEO
                                ;       call MSX_ISKEY
                                ;       jr z,TEC1
                                ;       ld a,' '
                                ;       call SVIDEO
                                ;       ld a,8
                                ;       call SVIDEO
                                ;       ld a,0C9H
                                ;       ld (MSX_HKEYI),a
                                ;       ;
                                ;TECX:
  46B8    CD 009F                      call MSX_CHRGET
  46BB    32 429C                      ld (LASTK),a     ; SALVA A TECLA LIDA
  46BE    C9                           ret
                                ;
                                ; RETORNA EM "A" SE UMA TECLA FOI PRESSIONADA
  46BF    CD 0D6A               IKEY: call MSX_ISKEY
  46C2    3E 00                       ld a,0
  46C4    C8                          ret z
  46C5    3D                          dec a
  46C6    C9                          ret
                                ;
                                ; PULA UMA LINHA
  46C7    3E 0D                 CRLF: ld a,13
  46C9    CD 44E2                     call VIDEO
  46CC    3E 0A                       ld a,10
  46CE    C3 44E2                     jp VIDEO
                                ;
                                ;
                                ; IMPRIME UM TEXTO EM QUE A PRIMEIRA POSICAO E' SEU COMPRIMENTO
  46D1    C5                    IMM:  push bc
  46D2    46                          ld b,(hl)
  46D3    23                          inc hl
  46D4    7E                    IMM1: ld a,(hl)
  46D5    CD 44E2                     call VIDEO
  46D8    23                          inc hl
  46D9    10 F9                       djnz IMM1
  46DB    C1                          pop bc
  46DC    C9                          ret
                                ;
                                ; RETORNA EM BC O PROGRAM STACK POINTER
                                ; ROTINA CHAMADA APOS UMA EXECUCAO DE UM
                                ; COMANDO FORTH
  46DD    46DF                  ENDF: dw $+2
  46DF    DD 4E 00                   ld c,(ix)
  46E2    DD 23                      inc ix
  46E4    DD 46 00                   ld b,(ix)
  46E7    DD 23                      inc ix
  46E9    18 0C                      jr NEXT

                                ; ROTINA QUE EXECUTA UMA INTERRUPCAO
                                ; DA EXECUCAO DO PROGRAMA, VOLTANDO
                                ; AO PROMPT FORTH
  46EB    AF                    BREAK: xor a
  46EC    32 FC9B                      ld (MSX_INTFLG),a ; LIMPA O FLAG DE TECLA STOP/CTRL-STOP
  46EF    CD 46B8                      call TECLA        ; TIRA A TECLA STOP DO BUFFER
  46F2    C3 4782                      jp SCANBUF

  46F5    D5                    DPUSH: push de
  46F6    E5                    HPUSH:   push hl           ; 2OS = DE, TOS = HL
  46F7    3A FBB1               NEXT:    ld a,(MSX_BASROM) ; SE NAO ESTIVER NO BASIC, PROCESSA TECLA STOP
  46FA    A7                            and a
  46FB    20 1E                         jr nz,NEXTI
  46FD    3A FC9B                       ld a,(MSX_INTFLG)
  4700    A7                            and a
  4701    28 18                         jr z,NEXTI  ; TECLA NAO FOI PRESSIONADA
  4703    FE 03                         cp 3        ; CTRL-STOP?
  4705    CA 46EB                       jp z,BREAK
  4708    AF                            xor a
  4709    32 FC9B                       ld (MSX_INTFLG),a ; LIMPA O FLAG DE TECLA STOP/CTRL-STOP
  470C    3A FC9B               PAUSA:  ld a,(MSX_INTFLG)
  470F    A7                            and a
  4710    28 FA                         jr z,PAUSA        ; ESPERA A TECLA SER PRESSIONADA NOVAMENTE
  4712    FE 03                         cp 3              ; CTRL-STOP?
  4714    CA 46EB                       jp z,BREAK
  4717    AF                            xor a
  4718    32 FC9B                       ld (MSX_INTFLG),a ; LIMPA O FLAG DE TECLA STOP/CTRL-STOP
  471B    0A                    NEXTI:   ld a,(bc)  ; OBTEM O ENDERECO DA PROXIMA INSTRUCAO
  471C    6F                            ld l,a     ; E COLOCA EM HL
  471D    03                            inc bc
  471E    0A                            ld a,(bc)
  471F    67                            ld h,a
  4720    03                            inc bc
  4721    5E                    RO1:    ld e,(hl) ; OBTEM A PROXIMA INSTRUCAO
  4722    23                            inc hl    ; A PARTIR DE HL
  4723    56                            ld d,(hl)
  4724    23                            inc hl
  4725    EB                            ex de,hl
  4726    E9                            jp (hl)
                                ;
                                ; ROTINA DE CHAMADA DE COMANDOS FORTH (MICROCODIGO)
  4727    DD 2B                 RUNF: dec ix     ; SALVA O FORTH PROGRAM COUNTER ATUAL (BC)
  4729    DD 70 00                   ld (ix),b
  472C    DD 2B                      dec ix
  472E    DD 71 00                   ld (ix),c
  4731    4B                         ld c,e     ; COPIA REGISTROS "DE" PARA BC
  4732    42                         ld b,d
  4733    FD E9                      jp (iy)
                                     ;JP NEXT
                                ;
                                ; CODIGO FORTH PARA RECEBER UMA LINHA DIGITADA
  4735    4727                  LELIN:  dw RUNF
  4737    4492                  LELIN1: dw READY
  4739    49D0 563D             LELIN2: dw INPUT,PUSHN,BFTC
  473D    4270
  473F    4CEF 4D2B                     dw PEK16,PEK8,MAI0,BRCH0,LELIN3,OUTIN
  4743    4866 4E61
  4747    474B 5FA6
  474B    4C05 4CEF             LELIN3: dw MODE,PEK16,BRCH0,LELIN1,CR
  474F    4E61 4737
  4753    598D
  4755    4E76 4739                     dw BRCH,LELIN2
                                ;
  4759    475B                  CINIC: dw $+2
  475B    AF                    INIC:  xor a ;; ld a, '>'
  475C    32 427B                      ld (PMPT),a
  475F    3E 20                        ld a,' '
  4761    32 4A8D                      ld (CCRL),a
  4764    3E 1E                        ld a,30
  4766    32 4272                      ld (NCOLG),a
                                       ;ld hl,RPSC2
                                       ;ld de,0FD9EH
                                       ;ld bc,5
                                       ;lddr
  4769    21 1BBF                      ld hl,1BBFH
  476C    22 4288                      ld (TABCAR),hl
  476F    AF                           xor a
  4770    32 FCA9                      ld (MSX_CSRSW),a  ; DESLIGA O CURSOR
  4773    32 FC9B                      ld (MSX_INTFLG),a ; LIMPA O FLAG DE TECLA STOP/CTRL-STOP

                                ; EXIBICAO DA TELA DE BOAS-VINDAS
  4776    CD 46AC               HSTRT: call CLS
                                       ;call CRLF
  4779    21 4343                      ld hl,MEN
  477C    CD 46D1                      call IMM
  477F    CD 00CF                      call MSX_SHOWKEYS

  4782    21 FFFF               SCANBUF: ld hl,-1      ; CONVERTE AS PALAVRAS DIGITADAS PARA MAIUSCULAS
  4785    22 428A                        ld (FUPCS),hl ; PARA BUSCA NO DICIONARIO
  4788    ED 7B 424A                     ld sp,(PPP)
  478C    DD 2A 424C                     ld ix,(PPR)
  4790    FD 21 46F7                     ld iy,NEXT
  4794    01 47A6                        ld bc,WLCOME
  4797    21 0000                        ld hl,0
  479A    22 4258                        ld (PMOD),hl ; SETA MODO IMEDIATO (INTERPRETACAO DO PROMPT)
  479D    CD 44CC                        call XOK
  47A0    2A 424E                        ld hl,(TEXE) ; CHAMA ROTINA DE LEITURA DE
  47A3    C3 4721                        jp RO1       ; LINHA DIGITADA
                                ;
                                ; CHAMADA EM FORTH PARA EXIBIR A TELA DE BOAS VINDAS
  47A6    47A8                  WLCOME: dw $+2
  47A8    47AA                      dw $+2
  47AA    C3 4776                   jp HSTRT

                         C         INCLUDE FORTHDIC.IN1
                         C      ;
                         C      ;
                         C      ; DICIONARIO
                         C      ;
                         C      ; RETORNA AO DICIONARIO PRINCIPAL
  47AD    05 46 4F 52    C      CFORTH: db 5,'FORTH'
  47B1    54 48          C
  47B3    0000           C              dw 0
  47B5    4727           C              dw RUNF
  47B7    46DD           C              dw ENDF
                         C      ;
  47B9    03 44 55 50    C      CDUP: db 3,'DUP' ; (n1 --- n1 n1)
  47BD    47AD           C            dw CFORTH
  47BF    47C1           C      DUP:  dw $+2
  47C1    E1             C            pop hl
  47C2    E5             C            push hl
  47C3    C3 46F6        C            jp HPUSH
                         C      ;
                         C      ; : -DUP DUP IF DUP THEN ;
  47C6    04 2D 44 55    C      CDUPC: db 4,'-DUP' ; (n1 --- se n1 = 0, n1 ; se n1 <> 0, n1 n1)
  47CA    50             C
  47CB    47B9           C             dw CDUP
  47CD    4727           C      DUPC:  dw RUNF
  47CF    47BF 4E61      C             dw DUP,BRCH0,DUPC2,DUP
  47D3    47D7 47BF      C
  47D7    46DD           C      DUPC2: dw ENDF
                         C      ;
                         C      ; : U< 2DUP XOR 0< IF DROP 0< 0= ELSE - 0< THEN ;
  47D9    02 55 3C       C      CUMEN:  db 2,'U<' ; (n1 n2 --- n1 n2)
  47DC    47C6           C              dw CDUPC
  47DE    4727           C      UMENOR: dw RUNF
  47E0    599C 633F      C              dw DDUP,XOR,MEN0,BRCH0,UMEN1
  47E4    483E 4E61      C
  47E8    47F2           C
  47EA    4883 483E      C              dw DROP,MEN0,IGU0,ENDF
  47EE    4852 46DD      C
  47F2    4FE1 483E      C      UMEN1:  dw MENOS,MEN0,ENDF
  47F6    46DD           C
                         C      ;
  47F8    01 3C          C      CMENOR: db 1,'<'
  47FA    47C6           C              dw CDUPC
  47FC    47FE           C      MENOR:  dw $+2
  47FE    D1             C              pop de
  47FF    E1             C      MENOR3: pop hl
  4800    A7             C      MENOR2: and a
  4801    ED 52          C              sbc hl,de
  4803    21 0000        C              ld hl,0
  4806    F2 46F6        C              jp p,HPUSH
  4809    2B             C              dec hl
  480A    C3 46F6        C              jp HPUSH
                         C      ;
  480D    01 3E          C      CMAIOR: db 1,'>'
  480F    47F8           C              dw CMENOR
  4811    4813           C      MAIOR:  dw $+2
  4813    E1             C              pop hl
  4814    D1             C              pop de
  4815    18 E9          C              jr MENOR2
                         C      ;
  4817    01 3D          C      CIGU: db 1,'='
  4819    480D           C            dw CMAIOR
  481B    481D           C      IGU:  dw $+2
  481D    E1             C            pop hl
  481E    D1             C            pop de
  481F    A7             C            and a
  4820    ED 52          C            sbc hl,de
  4822    21 0000        C            ld hl,0
  4825    C2 46F6        C            jp nz,HPUSH
  4828    2B             C            dec hl
  4829    C3 46F6        C            jp HPUSH
                         C      ;
                         C      ; : <> = NOT ;
  482C    02 3C 3E       C      CDIF: db 2,'<>'
  482F    4817           C            dw CIGU
  4831    4727           C            dw RUNF
  4833    481B 6352      C            dw IGU,NOT,ENDF
  4837    46DD           C
                         C      ;
  4839    02 30 3C       C      CMEN0: db 2,'0<'
  483C    482C           C             dw CDIF
  483E    4840           C      MEN0:  dw $+2
  4840    E1             C             pop hl
  4841    CB 7C          C             bit 7,h
  4843    21 0000        C             ld hl,0
  4846    CA 46F6        C             jp z,HPUSH
  4849    2B             C             dec hl
  484A    C3 46F6        C             jp HPUSH
                         C      ;
  484D    02 30 3D       C      CIGU0: db 2,'0='
  4850    4839           C             dw CMEN0
  4852    4854           C      IGU0:  dw $+2
  4854    E1             C             pop hl
  4855    7D             C             ld a,l
  4856    B4             C             or h
  4857    21 0000        C             ld hl,0
  485A    C2 46F6        C             jp nz,HPUSH
  485D    2B             C             dec hl
  485E    C3 46F6        C             jp HPUSH
                         C      ;
  4861    02 30 3E       C      CMAI0: db 2,'0>'
  4864    484D           C             dw CIGU0
  4866    4868           C      MAI0:  dw $+2
  4868    D1             C             pop de
  4869    21 0000        C             ld hl,0
  486C    18 92          C             jr MENOR2
                         C      ;
  486E    03 52 4F 54    C      CROT: db 3,'ROT'
  4872    4861           C            dw CMAI0
  4874    4876           C      ROT:  dw $+2
  4876    D1             C            pop de
  4877    E1             C            pop hl
  4878    E3             C            ex (sp),hl
  4879    C3 46F5        C            jp DPUSH
                         C      ;
  487C    04 44 52 4F    C      CDROP: db 4,'DROP' ; n1 n2 n3
  4880    50             C
  4881    486E           C             dw CROT
  4883    4885           C      DROP:  dw $+2
  4885    E1             C             pop hl
  4886    C3 46F7        C             jp NEXT
                         C      ;
  4889    02 3C 3C       C      CSLA:  db 2,'<<'
  488C    487C           C             dw CDROP
  488E    4890           C             dw $+2
  4890    D1             C             pop de
  4891    E1             C             pop hl
  4892    C5             C             push bc
  4893    43             C             ld b,e
  4894    CB 25          C      SLA1:  sla l
  4896    CB 14          C             rl h
  4898    10 FA          C             djnz SLA1
  489A    C1             C             pop bc
  489B    C3 46F6        C             jp HPUSH
                         C      ;
  489E    02 3E 3E       C      CSRA:  db 2,'>>'
  48A1    4889           C             dw CSLA
  48A3    48A5           C             dw $+2
  48A5    D1             C             pop de
  48A6    E1             C             pop hl
  48A7    C5             C             push bc
  48A8    43             C             ld b,e
  48A9    CB 3C          C      SRA1:  srl h
  48AB    CB 1D          C             rr l
  48AD    10 FA          C             djnz SRA1
  48AF    C1             C             pop bc
  48B0    C3 46F6        C             jp HPUSH
                         C      ;
  48B3    04 45 4D 49    C      CEMIT: db 4,'EMIT'
  48B7    54             C
  48B8    489E           C             dw CSRA
  48BA    48BC           C      EMIT:  dw $+2
  48BC    E1             C             pop hl
  48BD    7D             C             ld a,l
  48BE    CD 44E2        C             call VIDEO
  48C1    C3 46F7        C             jp NEXT
                         C      ;
  48C4    03 4B 45 59    C      CKEY: db 3,'KEY'
  48C8    48B3           C            dw CEMIT
  48CA    48CC           C      KEY:  dw $+2
  48CC    CD 46B8        C            call TECLA
  48CF    6F             C            ld l,a
  48D0    26 00          C            ld h,0
  48D2    C3 46F6        C            jp HPUSH
                         C      ;
  48D5    05 49 4E 4B    C      CINKEY: db 5,'INKEY'
  48D9    45 59          C
  48DB    48C4           C              dw CKEY
  48DD    48DF           C              dw $+2
  48DF    CD 46BF        C              call IKEY
  48E2    6F             C              ld l,a
  48E3    26 00          C              ld h,0
  48E5    C3 46F6        C              jp HPUSH
                         C      ;
  48E8    07 4C 41 53    C      CLSTKEY: db 7,'LASTKEY'
  48EC    54 4B 45 59    C
  48F0    48D5           C               dw CINKEY
  48F2    48F4           C               dw $+2
  48F4    3A 429C        C               ld a,(LASTK)
  48F7    6F             C               ld l,a
  48F8    26 00          C               ld h,0
  48FA    C3 46F6        C               jp HPUSH
                         C      ;
  48FD    09 2D 54 52    C      CTRAIL: db 9,'-TRAILING'
  4901    41 49 4C 49    C
  4905    4E 47          C
  4907    48E8           C              dw CLSTKEY
  4909    490B           C              dw $+2
  490B    D1             C              pop de
  490C    E1             C              pop hl
  490D    E5             C              push hl
  490E    19             C              add hl,de
  490F    7E             C      TR2:    ld a,(hl)
  4910    FE 20          C              cp ' '
  4912    20 04          C              jr nz,TR1
  4914    23             C              inc hl
  4915    13             C              inc de
  4916    18 F7          C              jr TR2
  4918    D5             C      TR1:    push de
  4919    C3 46F7        C              jp NEXT
                         C      ;
  491C    06 54 4F 47    C      CTOGGL: db 6,'TOGGLE'
  4920    47 4C 45       C
  4923    48FD           C              dw CTRAIL
  4925    4927           C      TOGGLE: dw $+2
  4927    D1             C              pop de
  4928    E1             C              pop hl
  4929    7E             C              ld a,(hl)
  492A    AB             C              xor e
  492B    77             C              ld (hl),a
  492C    C3 46F7        C              jp NEXT
                         C      ;
  492F    08 54 52 41    C      CTRAV:    db 8,'TRAVERSE'
  4933    56 45 52 53    C
  4937    45             C
  4938    491C           C                dw CTOGGL
  493A    4727           C      TRAVERSE: dw RUNF
  493C    5243 597F      C      TRAV1:    dw SWAP,OVER,MAIS,PUSHN,7FH,OVER,PEK8
  4940    4FD5 563D      C
  4944    007F 597F      C
  4948    4D2B           C
  494A    47FC 4E61      C                dw MENOR,BRCH0,TRAV1,SWAP,DROP,ENDF
  494E    493C 5243      C
  4952    4883 46DD      C
                         C      ;
  4956    03 44 50 4C    C      CDPL: db 3,'DPL'
  495A    492F           C            dw CTRAV
  495C    495E           C      DPL:  dw $+2
  495E    21 426E        C            ld hl,PDPL
  4961    C3 46F6        C            jp HPUSH
                         C      ;
  4964    03 48 4C 44    C      CHLD: db 3,'HLD'
  4968    4956           C            dw CDPL
  496A    496C           C      HLD:  dw $+2
  496C    21 4294        C            ld hl,PHLD
  496F    C3 46F6        C            jp HPUSH
                         C      ;
                         C      ; : HOLD -1 HLD +! HLD @ C! ;
  4972    04 48 4F 4C    C      CHOLD: db 4,'HOLD'
  4976    44             C
  4977    4964           C             dw CHLD
  4979    4727           C      HOLD:  dw RUNF
  497B    6370 496A      C             dw TRUE,HLD,SOMEM,HLD
  497F    56CE 496A      C
  4983    4CEF 4D1E      C             dw PEK16,POK8,ENDF
  4987    46DD           C
                         C      ;
  4989    03 50 41 44    C      CPAD: db 3,'PAD'
  498D    4972           C            dw CHOLD
  498F    4991           C      PAD:  dw $+2
  4991    2A 4268        C            ld hl,(PRECOMP)
  4994    11 0044        C            ld de,44H
  4997    19             C            add hl,de
  4998    C3 46F6        C            jp HPUSH
                         C      ;
  499B    05 43 4F 55    C      CCOUNT: db 5,'COUNT'
  499F    4E 54          C
  49A1    4989           C              dw CPAD
  49A3    49A5           C              dw $+2
  49A5    E1             C              pop hl
  49A6    5E             C              ld e,(hl)
  49A7    16 00          C              ld d,0
  49A9    23             C              inc hl
  49AA    EB             C              ex de,hl
  49AB    C3 46F5        C              jp DPUSH
                         C      ;
  49AE    03 4C 42 50    C      CLBP: db 3,'LBP'
  49B2    499B           C            dw CCOUNT
  49B4    49B6           C      LBP:  dw $+2
  49B6    21 4250        C            ld hl,PLBP
  49B9    C3 46F6        C            jp HPUSH
                         C      ;
  49BC    07 2B 4F 52    C      CADORG: db 7,'+ORIGIN'
  49C0    49 47 49 4E    C
  49C4    49AE           C              dw CLBP
  49C6    4727           C      ADDORG: dw RUNF
  49C8    563D 4200      C              dw PUSHN,FORTH,MAIS,ENDF
  49CC    4FD5 46DD      C
                         C      ;
  49D0    49D2           C      INPUT: dw $+2
  49D2    21 0001        C             ld hl,1
  49D5    22 4252        C             ld (PBUF),hl
  49D8    2A 4270        C             ld hl,(BFTC)
  49DB    E5             C             push hl
  49DC    23             C             inc hl
  49DD    22 4250        C             ld (PLBP),hl
  49E0    21 0000        C             ld hl,0
  49E3    E5             C             push hl
  49E4    18 0B          C             jr EXPECT+2
                         C      ;
  49E6    06 45 58 50    C      CEXPECT: db 6,'EXPECT'
  49EA    45 43 54       C
  49ED    49BC           C               dw CADORG
  49EF    49F1           C      EXPECT:  dw $+2
  49F1    D9             C               exx
  49F2    D1             C               pop de
  49F3    E1             C               pop hl
  49F4    E5             C               push hl
  49F5    23             C               inc hl
  49F6    01 0001        C      EXP6:    ld bc,1
  49F9    CD 46B8        C      EXP3:    call TECLA
  49FC    FE 03          C               cp 3            ; <CONTROL-C>
  49FE    20 10          C               jr nz,EXP8
  4A00    3E 5E          C               ld a,'^'
  4A02    CD 44E2        C               call VIDEO
  4A05    3E 43          C               ld a,'C'
  4A07    CD 44E2        C               call VIDEO
  4A0A    AF             C               xor a
  4A0B    32 FC9B        C               ld (MSX_INTFLG),a
  4A0E    18 17          C               jr EXPA
  4A10    FE 1B          C      EXP8:    cp 27           ; <ESC>
  4A12    20 18          C               jr nz,EXP1
  4A14    41             C               ld b,c
  4A15    0D             C               dec c
  4A16    3E 08          C      EXP8X:   ld a,8
  4A18    CD 44E2        C               call VIDEO
  4A1B    3E 20          C               ld a,' '
  4A1D    CD 44E2        C               call VIDEO
  4A20    3E 08          C               ld a,8
  4A22    CD 44E2        C               call VIDEO
  4A25    10 EF          C               djnz EXP8X
  4A27    01 0001        C      EXPA:    ld bc,1
  4A2A    18 56          C               jr EXP5
  4A2C    FE 1D          C      EXP1:    cp 1DH           ; 29d (<-)
  4A2E    20 18          C               jr nz,EXP2
  4A30    0B             C               dec bc
  4A31    79             C               ld a,c
  4A32    B0             C               or b
  4A33    28 C1          C               jr z,EXP6
  4A35    13             C               inc de
  4A36    2B             C               dec hl
  4A37    3E 08          C               ld a,8
  4A39    CD 44E2        C               call VIDEO
  4A3C    3E 20          C               ld a,' '
  4A3E    CD 44E2        C               call VIDEO
  4A41    3E 08          C               ld a,8
  4A43    CD 44E2        C               call VIDEO
  4A46    18 B1          C               jr EXP3
  4A48    FE 08          C      EXP2:    cp 8            ; <BS>
  4A4A    28 E4          C               jr z,EXP1+4
  4A4C    FE 1C          C               cp 1CH           ; 28d (->)
  4A4E    20 03          C               jr nz,EXP4
  4A50    7E             C               ld a,(hl)
  4A51    18 16          C               jr EXP7
  4A53    FE 12          C      EXP4:    cp 18   ; TECLA <INSERT>
  4A55    20 0E          C               jr nz,EXPB
  4A57    3A FCAA        C               ld a,(MSX_CSTYLE)
  4A5A    A7             C               and a
  4A5B    3E 00          C               ld a,0
  4A5D    20 01          C               jr nz,MUDCURS
  4A5F    3C             C               inc a
  4A60    32 FCAA        C      MUDCURS: ld (MSX_CSTYLE),a
  4A63    18 94          C               jr EXP3
  4A65    FE 0D          C      EXPB:    cp 13           ; <ENTER>
  4A67    28 19          C               jr z,EXP5
  4A69    CB 7F          C      EXP7:    bit 7,a
  4A6B    20 05          C               jr nz,EXP9
  4A6D    FE 20          C               cp ' '
  4A6F    FA 49F9        C               jp m,EXP3
  4A72    FE 7F          C      EXP9:    cp 7FH         ; 127 (DEL)
  4A74    28 83          C               jr z,EXP3
  4A76    77             C               ld (hl),a
  4A77    23             C               inc hl
  4A78    03             C               inc bc
  4A79    1B             C               dec de
  4A7A    CD 44E2        C               call VIDEO
  4A7D    7B             C               ld a,e
  4A7E    B2             C               or d
  4A7F    C2 49F9        C               jp nz,EXP3
  4A82    36 00          C      EXP5:    ld (hl),0
  4A84    E1             C               pop hl
  4A85    0B             C               dec bc
  4A86    79             C               ld a,c
  4A87    77             C               ld (hl),a
  4A88    C3 4B5F        C               jp RG
                         C      ;
  4A8B    005F           C      CCRS:    dw '_'
  4A8D    005F           C      CCRL:    dw '_'
                         C      ;
  4A8F    06 43 55 52    C      CCURSOR: db 6,'CURSOR'
  4A93    53 4F 52       C
  4A96    49E6           C               dw CEXPECT
  4A98    4A9A           C               dw $+2
  4A9A    21 4A8B        C               ld hl,CCRS
  4A9D    C3 46F6        C               jp HPUSH
                         C      ;
  4AA0    06 4F 46 46    C      COFFSET: db 6,'OFFSET'
  4AA4    53 45 54       C
  4AA7    4A8F           C               dw CCURSOR
  4AA9    4AAB           C      OFFSET:  dw $+2
  4AAB    21 4254        C               ld hl,POFFSET
  4AAE    C3 46F6        C               jp HPUSH
                         C      ;
  4AB1    02 52 23       C      CRNUM: db 2,'R#'
  4AB4    4AA0           C             dw COFFSET
  4AB6    4AB8           C      RNUM:  dw $+2
  4AB8    21 4256        C             ld hl,PRNUM
  4ABB    C3 46F6        C             jp HPUSH
                         C      ;
  4ABE    04 52 41 4E    C      CRAND: db 4,'RAND'
  4AC2    44             C
  4AC3    4AB1           C             dw CRNUM
  4AC5    4AC7           C             dw $+2
  4AC7    C5             C             push bc
  4AC8    2A 428C        C             ld hl,(SEMT)
  4ACB    06 08          C             ld b,8
  4ACD    7D             C      RND1:  ld a,l
  4ACE    1F             C             rra
  4ACF    1F             C             rra
  4AD0    AC             C             xor h
  4AD1    1F             C             rra
  4AD2    1F             C             rra
  4AD3    CB 1C          C             rr h
  4AD5    CB 1D          C             rr l
  4AD7    10 F4          C             djnz RND1
  4AD9    22 428C        C             ld (SEMT),hl
  4ADC    C1             C             pop bc
  4ADD    C3 46F6        C             jp HPUSH
                         C      ;
  4AE0    04 53 45 45    C      CSEED: db 4,'SEED'
  4AE4    44             C
  4AE5    4ABE           C             dw CRAND
  4AE7    4AE9           C             dw $+2
  4AE9    21 428C        C             ld hl,SEMT
  4AEC    C3 46F6        C             jp HPUSH
                         C      ;
  4AEF    04 52 4F 4C    C      CROLL: db 4,'ROLL'
  4AF3    4C             C
  4AF4    4AE0           C             dw CSEED
  4AF6    4AF8           C      ROLL:  dw $+2
  4AF8    D9             C             exx
  4AF9    E1             C             pop hl
  4AFA    29             C             add hl,hl
  4AFB    E5             C             push hl
  4AFC    23             C             inc hl
  4AFD    39             C             add hl,sp
  4AFE    E5             C             push hl
  4AFF    46             C             ld b,(hl)
  4B00    2B             C             dec hl
  4B01    4E             C             ld c,(hl)
  4B02    D1             C             pop de
  4B03    E1             C             pop hl
  4B04    C5             C             push bc
  4B05    44             C             ld b,h
  4B06    4D             C             ld c,l
  4B07    21 FFFE        C             ld hl,-2
  4B0A    19             C             add hl,de
  4B0B    ED B8          C             lddr
  4B0D    D1             C             pop de
  4B0E    C3 4B5F        C             jp RG
                         C      ;
  4B11    04 57 4F 52    C      CWORD: db 4,'WORD'
  4B15    44             C
  4B16    4AEF           C             dw CROLL
  4B18    4B1A           C      WORD:  dw $+2
  4B1A    D9             C             exx
  4B1B    2A 4250        C             ld hl,(PLBP)
  4B1E    ED 5B 4268     C             ld de,(PRECOMP)
  4B22    C1             C             pop bc
  4B23    3E 20          C             ld a,' '
  4B25    B9             C             cp c
  4B26    20 06          C             jr nz,WOR1
  4B28    BE             C      WOR2:  cp (hl)
  4B29    20 03          C             jr nz,WOR1
  4B2B    23             C             inc hl
  4B2C    18 FA          C             jr WOR2
  4B2E    E5             C      WOR1:  push hl
  4B2F    04             C      WOR5:  inc b
  4B30    23             C             inc hl
  4B31    7E             C             ld a,(hl)
  4B32    B9             C             cp c
  4B33    28 05          C             jr z,WOR3
  4B35    A7             C             and a
  4B36    28 0F          C             jr z,WOR6
  4B38    18 F5          C             jr WOR5
  4B3A    3E 20          C      WOR3:  ld a,' '
  4B3C    23             C             inc hl
  4B3D    BE             C      WOR8:  cp (hl)
  4B3E    20 03          C             jr nz,WOR7
  4B40    23             C             inc hl
  4B41    18 FA          C             jr WOR8
  4B43    7E             C      WOR7:  ld a,(hl)
  4B44    A7             C             and a
  4B45    20 08          C             jr nz,WOR9
  4B47    E5             C      WOR6:  push hl
  4B48    21 0000        C             ld hl,0
  4B4B    22 4252        C             ld (PBUF),hl
  4B4E    E1             C             pop hl
  4B4F    22 4250        C      WOR9:  ld (PLBP),hl
  4B52    78             C             ld a,b
  4B53    12             C             ld (de),a
  4B54    13             C             inc de
  4B55    E1             C             pop hl
  4B56    7E             C      WORA:  ld a,(hl)
  4B57    CD 4B63        C             call UPCASE
  4B5A    12             C             ld (de),a
  4B5B    23             C             inc hl
  4B5C    13             C             inc de
  4B5D    10 F7          C             djnz WORA
  4B5F    D9             C      RG:    exx
  4B60    C3 46F7        C             jp NEXT
                         C      ;
  4B63    E5             C      UPCASE: push hl
  4B64    6F             C              ld l,a
  4B65    3A 428A        C              ld a,(FUPCS)
  4B68    A7             C              and a
  4B69    20 03          C              jr nz,UP1
  4B6B    7D             C              ld a,l
  4B6C    E1             C              pop hl
  4B6D    C9             C              ret
  4B6E    7D             C      UP1:    ld a,l
  4B6F    FE 61          C              cp 'a'
  4B71    FA 4B7B        C              jp m,UP2
  4B74    FE 7B          C              cp 'z'+1
  4B76    F2 4B7B        C              jp p,UP2
  4B79    D6 20          C              sub 20H
  4B7B    E1             C      UP2:    pop hl
  4B7C    C9             C              ret
                         C      ;
  4B7D    04 43 41 50    C      CECAPS: db 4,'CAPS'
  4B81    53             C
  4B82    4B11           C              dw CWORD
  4B84    4B86           C      ECAPS:  dw $+2
  4B86    21 428A        C              ld hl,FUPCS
  4B89    C3 46F6        C              jp HPUSH
                         C      ;
                         C      ; : UPCASE CAPS 1SET ;
  4B8C    06 55 50 43    C      CUCASE: db 6,'UPCASE'
  4B90    41 53 45       C
  4B93    4B7D           C              dw CECAPS
  4B95    4727           C      UCASE:  dw RUNF
  4B97    4B84 4E4C      C              dw ECAPS,SET,ENDF
  4B9B    46DD           C
                         C      ;
                         C      ; : LOWCASE CAPS 0SET ;
  4B9D    07 4C 4F 57    C      CLCASE: db 7,'LOWCASE'
  4BA1    43 41 53 45    C
  4BA5    4B8C           C              dw CUCASE
  4BA7    4727           C      LCASE:  dw RUNF
  4BA9    4B84 4E3A      C              dw ECAPS,RESET,ENDF
  4BAD    46DD           C
                         C      ;
  4BAF    06 53 45 41    C      CSEARCH: db 6,'SEARCH'
  4BB3    52 43 48       C
  4BB6    4B9D           C               dw CLCASE
  4BB8    4BBA           C      SEARCH:  dw $+2
  4BBA    D9             C               exx
  4BBB    E1             C               pop hl
  4BBC    E5             C      SEAR4:   push hl
  4BBD    ED 5B 4268     C               ld de,(PRECOMP)
  4BC1    0E 00          C               ld c,0
  4BC3    1A             C               ld a,(de)
  4BC4    BE             C               cp (hl)
  4BC5    20 11          C               jr nz,SEAR1
  4BC7    47             C               ld b,a
  4BC8    23             C      SEAR2:   inc hl
  4BC9    13             C               inc de
  4BCA    1A             C               ld a,(de)
  4BCB    BE             C               cp (hl)
  4BCC    20 0A          C               jr nz,SEAR1
  4BCE    10 F8          C               djnz SEAR2
  4BD0    11 0003        C               ld de,3
  4BD3    19             C               add hl,de
  4BD4    D1             C               pop de
  4BD5    E5             C               push hl
  4BD6    18 10          C               jr SEAR3
  4BD8    E1             C      SEAR1:   pop hl
  4BD9    16 00          C               ld d,0
  4BDB    5E             C               ld e,(hl)
  4BDC    13             C               inc de
  4BDD    19             C               add hl,de
  4BDE    5E             C               ld e,(hl)
  4BDF    23             C               inc hl
  4BE0    56             C               ld d,(hl)
  4BE1    EB             C               ex de,hl
  4BE2    7C             C               ld a,h
  4BE3    B5             C               or l
  4BE4    20 D6          C               jr nz,SEAR4
  4BE6    0E 01          C               ld c,1
  4BE8    06 00          C      SEAR3:   ld b,0
  4BEA    C5             C               push bc
  4BEB    C3 4B5F        C               jp RG
                         C      ;
  4BEE    07 45 58 45    C      CEXEC: db 7,'EXECUTE'
  4BF2    43 55 54 45    C
  4BF6    4BAF           C             dw CSEARCH
  4BF8    4BFA           C      EXEC:  dw $+2
  4BFA    E1             C             pop hl
  4BFB    C3 4721        C             jp RO1
                         C      ;
  4BFE    04 4D 4F 44    C      CMODE: db 4,'MODE'
  4C02    45             C
  4C03    4BEE           C             dw CEXEC
  4C05    4C07           C      MODE: dw $+2
  4C07    21 4258        C            ld hl,PMOD
  4C0A    C3 46F6        C            jp HPUSH
                         C      ;
  4C0D    05 41 42 4F    C      CABORT: db 5,'ABORT'
  4C11    52 54          C
  4C13    4BFE           C              dw CMODE
  4C15    4782           C      ABORT:  dw SCANBUF
                         C      ;
  4C17    04 51 55 49    C      CQUIT: db 4,'QUIT'
  4C1B    54             C
  4C1C    4C0D           C             dw CABORT
  4C1E    4786           C             dw SCANBUF+4
                         C      ;
  4C20    04 43 4F 4C    C      CCOLD: db 4,'COLD'
  4C24    44             C
  4C25    4C17           C             dw CQUIT
  4C27    4727           C             dw RUNF
  4C29    667C 4C15      C             dw NEW,CQUIT-2 ; ABORT
                         C      ;
                         C      ; : HOT NEW ??? ;
  4C2D    03 48 4F 54    C      CHOT: db 3,'HOT'
  4C31    4C20           C            dw CCOLD
  4C33    4727           C            dw RUNF
  4C35    667C 4759      C            dw NEW,CINIC
                         C      ;
  4C39    4C3B           C      B_LOOP: dw $+2
  4C3B    E1             C              pop hl
  4C3C    DD 75 FC       C              ld (ix-4),l
  4C3F    DD 74 FD       C              ld (ix-3),h
  4C42    E1             C              pop hl
  4C43    DD 75 FE       C              ld (ix-2),l
  4C46    DD 74 FF       C              ld (ix-1),h
  4C49    11 FFFC        C              ld de,0FFFCH
  4C4C    DD 19          C              add ix,de
  4C4E    C3 46F7        C              jp NEXT
                         C      ;
  4C51    4C53           C      LEAVE: dw $+2
  4C53    DD 7E 00       C             ld a,(ix+0)
  4C56    DD 77 02       C             ld (ix+2),a
  4C59    DD 7E 01       C             ld a,(ix+1)
  4C5C    DD 77 03       C             ld (ix+3),a
  4C5F    C3 46F7        C             jp NEXT
                         C      ;
  4C62    4C64           C      S_LOOP: dw $+2
  4C64    D1             C              pop de
  4C65    18 05          C              jr LOOP1
                         C      ;
  4C67    4C69           C      LOOP:  dw $+2
  4C69    11 0001        C             ld de,1
  4C6C    D5             C      LOOP1: push de
  4C6D    CB 12          C             rl d
  4C6F    D1             C             pop de
  4C70    08             C             ex af,af'
  4C71    DD 6E 00       C             ld l,(ix+0)
  4C74    DD 66 01       C             ld h,(ix+1)
  4C77    19             C             add hl,de
  4C78    DD 75 00       C             ld (ix+0),l
  4C7B    DD 74 01       C             ld (ix+1),h
  4C7E    DD 5E 02       C      LOOP2: ld e,(ix+2)
  4C81    DD 56 03       C             ld d,(ix+3)
  4C84    08             C             ex af,af'
  4C85    30 01          C             jr nc,LOOP3
  4C87    EB             C             ex de,hl
  4C88    AF             C      LOOP3: xor a
  4C89    ED 52          C             sbc hl,de
  4C8B    FA 4E78        C             jp m,BRCH+2
  4C8E    11 0004        C             ld de,4
  4C91    DD 19          C             add ix,de
  4C93    03             C             inc bc
  4C94    03             C             inc bc
  4C95    C3 46F7        C             jp NEXT
                         C      ;
  4C98    4C9A           C      LEAVEX: dw $+2
  4C9A    11 0004        C              ld de,4
  4C9D    DD 19          C              add ix,de
  4C9F    C3 4E78        C              jp BRCH+2
                         C      ;
  4CA2    05 45 52 41    C      CERASE: db 5,'ERASE'
  4CA6    53 45          C
  4CA8    4C2D           C              dw CHOT
  4CAA    4727           C      ERASE:  dw RUNF
  4CAC    637F 4CB9      C              dw ZERO,FILL,ENDF
  4CB0    46DD           C
                         C      ;
  4CB2    04 46 49 4C    C      CFILL: db 4,'FILL'
  4CB6    4C             C
  4CB7    4CA2           C             dw CERASE
  4CB9    4CBB           C      FILL:  dw $+2
  4CBB    D9             C             exx
  4CBC    C1             C             pop bc
  4CBD    79             C             ld a,c
  4CBE    C1             C             pop bc
  4CBF    E1             C             pop hl
  4CC0    77             C             ld (hl),a
  4CC1    E5             C             push hl
  4CC2    D1             C             pop de
  4CC3    13             C             inc de
  4CC4    0B             C             dec bc
  4CC5    ED B0          C             ldir
  4CC7    C3 4B5F        C             jp RG
                         C      ;
  4CCA    05 43 4D 4F    C      CCMOVE: db 5,'CMOVE'
  4CCE    56 45          C
  4CD0    4CB2           C              dw CFILL
  4CD2    4CD4           C      CMOVE:  dw $+2
  4CD4    D9             C              exx
  4CD5    C1             C              pop bc
  4CD6    D1             C              pop de
  4CD7    E1             C              pop hl
  4CD8    ED B0          C              ldir
  4CDA    C3 4B5F        C              jp RG
                         C      ;
  4CDD    01 21          C      CPOK16: db 1,'!'
  4CDF    4CCA           C              dw CCMOVE
  4CE1    4CE3           C      POK16:  dw $+2
  4CE3    E1             C              pop hl
  4CE4    D1             C              pop de
  4CE5    73             C              ld (hl),e
  4CE6    23             C              inc hl
  4CE7    72             C              ld (hl),d
  4CE8    C3 46F7        C              jp NEXT
                         C      ;
  4CEB    01 40          C      CPEK16: db 1,'@'
  4CED    4CDD           C              dw CPOK16
  4CEF    4CF1           C      PEK16:  dw $+2
  4CF1    E1             C              pop hl
  4CF2    5E             C              ld e,(hl)
  4CF3    23             C              inc hl
  4CF4    56             C              ld d,(hl)
  4CF5    D5             C              push de
  4CF6    C3 46F7        C              jp NEXT
                         C      ;
  4CF9    02 21 2B       C      CPO16I: db 2,'!+'
  4CFC    4CEB           C              dw CPEK16
  4CFE    4D00           C              dw $+2
  4D00    E1             C              pop hl
  4D01    D1             C              pop de
  4D02    73             C              ld (hl),e
  4D03    23             C              inc hl
  4D04    72             C              ld (hl),d
  4D05    23             C              inc hl
  4D06    C3 46F6        C              jp HPUSH
                         C      ;
  4D09    02 40 2B       C      CPE16I: db 2,'@+'
  4D0C    4CF9           C              dw CPO16I
  4D0E    4D10           C      PE16I:  dw $+2
  4D10    E1             C              pop hl
  4D11    5E             C              ld e,(hl)
  4D12    23             C              inc hl
  4D13    56             C              ld d,(hl)
  4D14    23             C              inc hl
  4D15    EB             C              ex de,hl
  4D16    C3 46F5        C              jp DPUSH
                         C      ;
  4D19    02 43 21       C      CPOK8: db 2,'C!'
  4D1C    4D09           C             dw CPE16I
  4D1E    4D20           C      POK8:  dw $+2
  4D20    E1             C             pop hl
  4D21    D1             C             pop de
  4D22    73             C             ld (hl),e
  4D23    C3 46F7        C             jp NEXT
                         C      ;
  4D26    02 43 40       C      CPEK8: db 2,'C@'
  4D29    4D19           C             dw CPOK8
  4D2B    4D2D           C      PEK8:  dw $+2
  4D2D    E1             C             pop hl
  4D2E    5E             C             ld e,(hl)
  4D2F    16 00          C             ld d,0
  4D31    D5             C             push de
  4D32    C3 46F7        C             jp NEXT
                         C      ;
  4D35    03 43 21 2B    C      CPO8I: db 3,'C!+'
  4D39    4D26           C             dw CPEK8
  4D3B    4D3D           C      PO8I:  dw $+2
  4D3D    E1             C             pop hl
  4D3E    D1             C             pop de
  4D3F    73             C             ld (hl),e
  4D40    23             C             inc hl
  4D41    C3 46F6        C             jp HPUSH
                         C      ;
  4D44    03 43 40 2B    C      CPE8I: db 3,'C@+'
  4D48    4D35           C             dw CPO8I
  4D4A    4D4C           C      PE8I:  dw $+2
  4D4C    E1             C             pop hl
  4D4D    5E             C             ld e,(hl)
  4D4E    16 00          C             ld d,0
  4D50    23             C             inc hl
  4D51    EB             C             ex de,hl
  4D52    C3 46F5        C             jp DPUSH
                         C      ;
                         C      ; : ? @ . ;
  4D55    01 3F          C      CI16: db 1,'?'
  4D57    4D44           C            dw CPE8I
  4D59    4727           C            dw RUNF
  4D5B    4CEF 5530      C            dw PEK16,IMPSS,ENDF
  4D5F    46DD           C
                         C      ;
                         C      ; : ?+ @+ . ;
  4D61    02 3F 2B       C      CI16I: db 2,'?+'
  4D64    4D55           C             dw CI16
  4D66    4727           C             dw RUNF
  4D68    4D0E 5530      C             dw PE16I,IMPSS,ENDF
  4D6C    46DD           C
                         C      ;
                         C      ; : C? C@ . ;
  4D6E    02 43 3F       C      CI8: db 2,'C?'
  4D71    4D61           C           dw CI16I
  4D73    4727           C           dw RUNF
  4D75    4D2B 5530      C           dw PEK8,IMPSS,ENDF
  4D79    46DD           C
                         C      ;
                         C      ; : C?+ C@+ . ;
  4D7B    03 43 3F 2B    C      CI8I: db 3,'C?+'
  4D7F    4D6E           C            dw CI8
  4D81    4727           C            dw RUNF
  4D83    4D4A 5530      C            dw PE8I,IMPSS,ENDF
  4D87    46DD           C
                         C      ;
  4D89    03 53 50 40    C      CSPEK: db 3,'SP@'
  4D8D    4D7B           C             dw CI8I
  4D8F    4D91           C      SPOS:  dw $+2
  4D91    21 0000        C             ld hl,0
  4D94    39             C             add hl,sp
  4D95    C3 46F6        C             jp HPUSH
                         C      ;
  4D98    03 53 50 21    C      CSPOK: db 3,'SP!'
  4D9C    4D89           C             dw CSPEK
  4D9E    4DA0           C             dw $+2
  4DA0    E1             C             pop hl
  4DA1    22 424A        C             ld (PPP),hl
  4DA4    F9             C             ld sp,hl
  4DA5    C3 46F7        C             jp NEXT
                         C      ;
  4DA8    02 53 30       C      CS0: db 2,'S0'
  4DAB    4D98           C           dw CSPOK
  4DAD    4DAF           C      S0:  dw $+2
  4DAF    21 424A        C           ld hl,PPP
  4DB2    C3 46F6        C           jp HPUSH
                         C      ;
                         C      ; : DEPTH S0 @ SP@ - / 1- ;
  4DB5    05 44 45 50    C      CDEPTH: db 5,'DEPTH'
  4DB9    54 48          C
  4DBB    4DA8           C              dw CS0
  4DBD    4727           C              dw RUNF
  4DBF    4DAD 4CEF      C              dw S0,PEK16,SPOS,MENOS
  4DC3    4D8F 4FE1      C
  4DC7    6409 62D4      C              dw DIV,MENOS1,ENDF
  4DCB    46DD           C
                         C      ;
  4DCD    02 3E 52       C      CINRP: db 2,'>R'
  4DD0    4DB5           C             dw CDEPTH
  4DD2    4DD4           C      INRP:  dw $+2
  4DD4    E1             C             pop hl
  4DD5    DD 2B          C             dec ix
  4DD7    DD 74 00       C             ld (ix),h
  4DDA    DD 2B          C             dec ix
  4DDC    DD 75 00       C             ld (ix),l
  4DDF    C3 46F7        C             jp NEXT
                         C      ;
  4DE2    02 52 3E       C      COUTRP: db 2,'R>'
  4DE5    4DCD           C              dw CINRP
  4DE7    4DE9           C      OUTRP:  dw $+2
  4DE9    DD 6E 00       C              ld l,(ix)
  4DEC    DD 23          C              inc ix
  4DEE    DD 66 00       C              ld h,(ix)
  4DF1    DD 23          C              inc ix
  4DF3    C3 46F6        C              jp HPUSH
                         C      ;
  4DF6    01 52          C      CLERP: db 1,'R'
  4DF8    4DE2           C             dw COUTRP
  4DFA    4DFC           C      LERP:  dw $+2
  4DFC    DD 6E 00       C             ld l,(ix)
  4DFF    DD 66 01       C             ld h,(ix+1)
  4E02    C3 46F6        C             jp HPUSH
                         C      ;
  4E05    05 46 57 4F    C      CFWORD: db 5,'FWORD'
  4E09    52 44          C
  4E0B    4DF6           C              dw CLERP
  4E0D    4E0F           C      FWORD:  dw $+2
  4E0F    21 4252        C              ld hl,PBUF
  4E12    C3 46F6        C              jp HPUSH
                         C      ;
                         C      ; : END, , , ;
  4E15    04 45 4E 44    C      CMARK_E: db 4,'END,'
  4E19    2C             C
  4E1A    4E05           C               dw CFWORD
  4E1C    4727           C      MARK_E:  dw RUNF
  4E1E    564D 564D      C               dw POKD16,POKD16,ENDF
  4E22    46DD           C
                         C      ;
  4E24    01 49          C      CLELOOP: db 1,'I'
  4E26    4E15           C               dw CMARK_E
  4E28    4E2A           C      LELOOP:  dw $+2
  4E2A    DD 6E 00       C               ld l,(ix)
  4E2D    DD 66 01       C               ld h,(ix+1)
  4E30    C3 46F6        C               jp HPUSH
                         C      ;
  4E33    04 30 53 45    C      CRESET: db 4,'0SET'
  4E37    54             C
  4E38    4E24           C              dw CLELOOP
  4E3A    4E3C           C      RESET:  dw $+2
  4E3C    E1             C              pop hl
  4E3D    36 00          C              ld (hl),0
  4E3F    23             C              inc hl
  4E40    36 00          C              ld (hl),0
  4E42    C3 46F7        C              jp NEXT
                         C      ;
  4E45    04 31 53 45    C      CSET: db 4,'1SET'
  4E49    54             C
  4E4A    4E33           C            dw CRESET
  4E4C    4E4E           C      SET:  dw $+2
  4E4E    E1             C            pop hl
  4E4F    36 FF          C            ld (hl),-1
  4E51    23             C            inc hl
  4E52    36 FF          C            ld (hl),-1
  4E54    C3 46F7        C            jp NEXT
                         C      ;
  4E57    07 30 42 52    C      CBRCH0: db 7,'0BRANCH'
  4E5B    41 4E 43 48    C
  4E5F    4E45           C              dw CSET
  4E61    4E63           C      BRCH0:  dw $+2
  4E63    E1             C              pop hl
  4E64    7D             C              ld a,l
  4E65    B4             C              or h
  4E66    28 10          C              jr z,BRCH+2
  4E68    03             C              inc bc
  4E69    03             C              inc bc
  4E6A    C3 46F7        C              jp NEXT
                         C      ;
  4E6D    06 42 52 41    C      CBRCH: db 6,'BRANCH'
  4E71    4E 43 48       C
  4E74    4E57           C             dw CBRCH0
  4E76    4E78           C      BRCH:  dw $+2
  4E78    0A             C             ld a,(bc)
  4E79    6F             C             ld l,a
  4E7A    03             C             inc bc
  4E7B    0A             C             ld a,(bc)
  4E7C    47             C             ld b,a
  4E7D    4D             C             ld c,l
  4E7E    C3 46F7        C             jp NEXT
                         C      ;
  4E81    04 50 41 47    C      CPAGE: db 4,'PAGE'
  4E85    45             C
  4E86    4E6D           C             dw CBRCH
  4E88    4E8A           C             dw $+2
  4E8A    C5             C             push bc
  4E8B    CD 46AC        C             call CLS
  4E8E    C1             C             pop bc
  4E8F    C3 46F7        C             jp NEXT
                         C      ;
  4E92    04 42 41 53    C      CBASE: db 4,'BASE'
  4E96    45             C
  4E97    4E81           C             dw CPAGE
  4E99    4E9B           C      BASE:  dw $+2
  4E9B    21 425A        C             ld hl,PBAS
  4E9E    C3 46F6        C             jp HPUSH
                         C      ;
  4EA1    06 4E 55 4D    C      CNUMBER: db 6,'NUMBER'
  4EA5    42 45 52       C
  4EA8    4E92           C               dw CBASE
  4EAA    4727           C      NUMBER:  dw RUNF
  4EAC    495C 4E3A      C               dw DPL,RESET,PUSHN,TUN,RESET
  4EB0    563D 4298      C
  4EB4    4E3A           C
  4EB6    637F 637F      C               dw ZERO,ZERO,HERE,HERE,PEK8,SWAP
  4EBA    56C1 56C1      C
  4EBE    4D2B 5243      C
  4EC2    5950 47BF      C               dw MAIS1,DUP,PEK8,PUSHN,'-',IGU
  4EC6    4D2B 563D      C
  4ECA    002D 481B      C
  4ECE    4E61 4EDE      C               dw BRCH0,NUMB1,DPL,SET,MAIS1,ONE
  4ED2    495C 4E4C      C
  4ED6    5950 638D      C
  4EDA    4E76 4EE0      C               dw BRCH,NUMB1+2
  4EDE    637F 63AB      C      NUMB1:   dw ZERO,THREE,ROLL,SWAP,B_LOOP
  4EE2    4AF6 5243      C
  4EE6    4C39           C
  4EE8    47BF 4D2B      C      NUMB2:   dw DUP,PEK8,DUP,PUSHN,'.',IGU
  4EEC    47BF 563D      C
  4EF0    002E 481B      C
  4EF4    4E61 4F04      C               dw BRCH0,NUMB3,PUSHN,TUN,SET
  4EF8    563D 4298      C
  4EFC    4E4C           C
  4EFE    4883 4E76      C               dw DROP,BRCH,NUMB4
  4F02    4F2E           C
  4F04    4E99 4CEF      C      NUMB3:   dw BASE,PEK16,DIGIT,IGU0,BRCH0
  4F08    50F2 4852      C
  4F0C    4E61           C
  4F0E    4F14 4C98      C               dw NUMB9,LEAVEX,NUMB5
  4F12    4F64           C
  4F14    5DC7 4E99      C      NUMB9:   dw DSWAP,BASE,PEK16,UVEZES,DSWAP
  4F18    4CEF 52AB      C
  4F1C    5DC7           C
  4F1E    4E99 4CEF      C               dw BASE,PEK16,UVEZES,DROP,DMAIS
  4F22    52AB 4883      C
  4F26    5D55           C
  4F28    5243 63AB      C               dw SWAP,THREE,ROLL
  4F2C    4AF6           C
  4F2E    5950 4C67      C      NUMB4:   dw MAIS1,LOOP,NUMB2,DROP,SWAP,PUSHN
  4F32    4EE8 4883      C
  4F36    5243 563D      C
  4F3A    4298 4CEF      C               dw TUN,PEK16,IGU0,BRCH0,NUMB8,DROP
  4F3E    4852 4E61      C
  4F42    4F46 4883      C
  4F46    495C 4CEF      C      NUMB8:   dw DPL,PEK16,BRCH0,NUMB6,PUSHN
  4F4A    4E61 4F60      C
  4F4E    563D           C
  4F50    4298 4CEF      C               dw TUN,PEK16,BRCH0,NUMB7,DMINUS
  4F54    4E61 4F5E      C
  4F58    56F3           C
  4F5A    4E76 4F60      C               dw BRCH,NUMB6
  4F5E    56E4           C      NUMB7:   dw MINUS
  4F60    6370 46DD      C      NUMB6:   dw TRUE,ENDF
  4F64    5AC4 5AC4      C      NUMB5:   dw DDROP,DDROP,ZERO,ENDF
  4F68    637F 46DD      C
                         C      ;
  4F6C    7A             C      RM1:  ld a,d
  4F6D    A8             C            xor b
  4F6E    08             C            ex af,af'
  4F6F    7A             C            ld a,d
  4F70    A7             C            and a
  4F71    F2 4F7A        C            jp p,RM11
  4F74    21 0000        C            ld hl,0
  4F77    ED 52          C            sbc hl,de
  4F79    EB             C            ex de,hl
  4F7A    60             C      RM11: ld h,b
  4F7B    69             C            ld l,c
  4F7C    78             C            ld a,b
  4F7D    A7             C            and a
  4F7E    F0             C            ret p
  4F7F    21 0000        C            ld hl,0
  4F82    ED 42          C            sbc hl,bc
  4F84    C9             C            ret
                         C      ;
  4F85    7D             C      RM2:  ld a,l
  4F86    01 0800        C            ld bc,800H
  4F89    61             C            ld h,c
  4F8A    69             C            ld l,c
  4F8B    29             C      RM22: add hl,hl
  4F8C    8F             C            adc a,a
  4F8D    30 02          C            jr nc,RM21
  4F8F    19             C            add hl,de
  4F90    89             C            adc a,c
  4F91    10 F8          C      RM21: djnz RM22
  4F93    4F             C            ld c,a
  4F94    C9             C            ret
                         C      ;
  4F95    08             C      RM3:  ex af,af'
  4F96    F0             C            ret p
  4F97    EB             C            ex de,hl
  4F98    21 0000        C            ld hl,0
  4F9B    ED 52          C            sbc hl,de
  4F9D    C9             C            ret
                         C      ;
  4F9E    01 2A          C      CVEZES: db 1,'*'
  4FA0    4EA1           C              dw CNUMBER
  4FA2    4FA4           C      VEZES:  dw $+2
  4FA4    D9             C              exx
  4FA5    E1             C              pop hl
  4FA6    D1             C              pop de
  4FA7    E5             C              push hl
  4FA8    D5             C              push de
  4FA9    AF             C              xor a
  4FAA    ED 52          C              sbc hl,de
  4FAC    D1             C              pop de
  4FAD    E1             C              pop hl
  4FAE    FA 4FB2        C              jp m,VEZ0
  4FB1    EB             C              ex de,hl
  4FB2    7C             C      VEZ0:   ld a,h
  4FB3    4D             C              ld c,l
  4FB4    21 0000        C              ld hl,0
  4FB7    06 10          C              ld b,16
  4FB9    1F             C              rra
  4FBA    CB 19          C              rr c
  4FBC    30 01          C      VEZ1:   jr nc,VEZ2
  4FBE    19             C              add hl,de
  4FBF    CB 1C          C      VEZ2:   rr h
  4FC1    CB 1D          C              rr l
  4FC3    1F             C              rra
  4FC4    CB 19          C              rr c
  4FC6    10 F4          C              djnz VEZ1
  4FC8    67             C              ld h,a
  4FC9    69             C              ld l,c
  4FCA    E5             C              push hl
  4FCB    C3 4B5F        C              jp RG
                         C      ;
                         C      ;
                         C      ;  Rotina elaborada usando o metodo
                         C      ; do deslocamento
                         C      ;
                         C      ;        exx
                         C      ;        pop hl
                         C      ;        pop bc
                         C      ;        ld de,0
                         C      ;        push hl
                         C      ;        push bc
                         C      ;        xor a
                         C      ;        sbc hl,bc
                         C      ;        jp m,VEZ0
                         C      ;        pop bc
                         C      ;        pop hl
                         C      ;        jr VEZ1
                         C      ;VEZ0:   pop hl
                         C      ;        pop bc
                         C      ;VEZ1:   srl b
                         C      ;        rr c
                         C      ;        jr nc,VEZ2
                         C      ;        push hl
                         C      ;        add hl,de
                         C      ;        ex de,hl
                         C      ;        pop hl
                         C      ;VEZ2:   add hl,hl
                         C      ;        ld a,b
                         C      ;        or c
                         C      ;        jr nz,VEZ1
                         C      ;        push de
                         C      ;        jp RG
                         C      ;
                         C      ;
                         C      ; Rotina anterior (original)
                         C      ;
                         C      ;        exx
                         C      ;        pop bc
                         C      ;        pop de
                         C      ;        call RM1
                         C      ;        call RM2
                         C      ;        call RM3
                         C      ;        push hl
  4FCE    C3 4B5F        C               jp RG
                         C      ;
  4FD1    01 2B          C      CMAIS: db 1,'+'
  4FD3    4F9E           C             dw CVEZES
  4FD5    4FD7           C      MAIS:  dw $+2
  4FD7    E1             C             pop hl
  4FD8    D1             C             pop de
  4FD9    19             C             add hl,de
  4FDA    C3 46F6        C             jp HPUSH
                         C      ;
  4FDD    01 2D          C      CMENOS: db 1,'-'
  4FDF    4FD1           C             dw CMAIS
  4FE1    4FE3           C      MENOS: dw $+2
  4FE3    D1             C             pop de
  4FE4    E1             C             pop hl
  4FE5    A7             C             and a
  4FE6    ED 52          C             sbc hl,de
  4FE8    C3 46F6        C             jp HPUSH
                         C      ;
  4FEB    05 44 2F 4D    C      CDMOD: db 5,'D/MOD' ; 2 0 '/' (ZERO SWAP D/MOD DROP)
  4FEF    4F 44          C
  4FF1    4FDD           C             dw CMENOS
  4FF3    4FF5           C      DMOD:  dw $+2
  4FF5    D9             C             exx
  4FF6    E1             C             pop hl ; 0
  4FF7    D1             C             pop de ; 0
  4FF8    C1             C             pop bc ; 2
  4FF9    7C             C             ld a,h
  4FFA    B5             C             or l
  4FFB    CA 5F93        C             jp z,ZRDIV
  4FFE    7C             C             ld a,h
  4FFF    AA             C             xor d
  5000    08             C             ex af,af'
  5001    7D             C             ld a,l
  5002    A7             C             and a
  5003    F2 5008        C             jp p,DMOD1
  5006    ED 44          C             neg
  5008    57             C      DMOD1: ld d,a
  5009    60             C             ld h,b
  500A    69             C             ld l,c
  500B    7B             C             ld a,e
  500C    5A             C             ld e,d
  500D    A7             C             and a
  500E    F2 501A        C             jp p,DMOD2
  5011    2F             C             cpl
  5012    21 0000        C             ld hl,0
  5015    ED 42          C             sbc hl,bc
  5017    20 01          C             jr nz,DMOD2
  5019    3C             C             inc a
  501A    57             C      DMOD2: ld d,a
  501B    CD 5026        C             call DMOD3
  501E    CD 4F95        C             call RM3
  5021    E5             C             push hl
  5022    C5             C             push bc
  5023    C3 4B5F        C             jp RG
                         C
  5026    06 10          C      DMOD3: ld b,16
  5028    29             C      DMOD5: add hl,hl
  5029    7A             C             ld a,d
  502A    8A             C             adc a,d
  502B    57             C             ld d,a
  502C    93             C             sub e
  502D    FA 5032        C             jp m,DMOD4
  5030    2C             C             inc l
  5031    57             C             ld d,a
  5032    10 F4          C      DMOD4: djnz DMOD5
  5034    4A             C             ld c,d
  5035    C9             C             ret
                         C      ;
  5036    05 42 4C 41    C      CBLANK: db 5,'BLANK'
  503A    4E 4B          C
  503C    4FEB           C              dw CDMOD
  503E    5040           C      BLANK:  dw $+2
  5040    21 0020        C              ld hl,' '
  5043    C3 46F6        C              jp HPUSH
                         C      ;
  5046    05 53 50 41    C      CSPACE: db 5,'SPACE'
  504A    43 45          C
  504C    5036           C              dw CBLANK
  504E    5050           C      SPACE:  dw $+2
  5050    3E 20          C              ld a,' '
  5052    CD 44E2        C              call VIDEO
  5055    C3 46F7        C              jp NEXT
                         C      ;
  5058    06 53 54 52    C      CSTRING: db 6,'STRING'
  505C    49 4E 47       C
  505F    5046           C               dw CSPACE
  5061    4727           C      STRING:  dw RUNF
  5063    5243 637F      C               dw SWAP,ZERO,MAX,DUPC,BRCH0
  5067    50A8 47CD      C
  506B    4E61           C
  506D    507B 637F      C               dw STRING2,ZERO,B_LOOP
  5071    4C39           C
  5073    47BF 48BA      C      STRING1: dw DUP,EMIT,LOOP,STRING1
  5077    4C67 5073      C
  507B    4883 46DD      C      STRING2: dw DROP,ENDF
                         C      ;
  507F    06 53 50 41    C      CSPACS: db 6,'SPACES'
  5083    43 45 53       C
  5086    5058           C              dw CSTRING
  5088    4727           C      SPACS:  dw RUNF
  508A    503E 5061      C              dw BLANK,STRING,ENDF
  508E    46DD           C
                         C      ;
  5090    05 5A 45 52    C      CZEROS: db 5,'ZEROS'
  5094    4F 53          C
  5096    507F           C              dw CSPACS
  5098    4727           C      ZEROS:  dw RUNF
  509A    563D 0030      C              dw PUSHN,'0',STRING,ENDF
  509E    5061 46DD      C
                         C      ;
  50A2    03 4D 41 58    C      CMAX: db 3,'MAX'
  50A6    5090           C            dw CZEROS
  50A8    4727           C      MAX:  dw RUNF
  50AA    599C 47FC      C            dw DDUP,MENOR,BRCH0,MAX2,SWAP
  50AE    4E61 50B4      C
  50B2    5243           C
  50B4    4883 46DD      C      MAX2: dw DROP,ENDF
                         C      ;
  50B8    03 4D 49 4E    C      CMIN: db 3,'MIN'
  50BC    50A2           C            dw CMAX
  50BE    4727           C      MIN:  dw RUNF
  50C0    599C 4811      C            dw DDUP,MAIOR,BRCH0,MIN2,SWAP
  50C4    4E61 50CA      C
  50C8    5243           C
  50CA    4883 46DD      C      MIN2: dw DROP,ENDF
                         C      ;
  50CE    05 41 53 43    C      CASCII: db 5,'ASCII'
  50D2    49 49          C
  50D4    50B8           C              dw CMIN
  50D6    50D8           C      ASCII:  dw $+2
  50D8    E1             C              pop hl
  50D9    7D             C              ld a,l
  50DA    E6 0F          C              and 15
  50DC    C6 30          C              add a,30H
  50DE    FE 3A          C              cp 3AH
  50E0    38 02          C              jr c,ASCI1
  50E2    C6 07          C              add a,7
  50E4    6F             C      ASCI1:  ld l,a
  50E5    26 00          C              ld h,0
  50E7    C3 46F6        C              jp HPUSH
                         C      ;
  50EA    05 44 49 47    C      CDIGIT: db 5,'DIGIT'
  50EE    49 54          C
  50F0    50CE           C              dw CASCII
  50F2    50F4           C      DIGIT:  dw $+2
  50F4    E1             C              pop hl
  50F5    D1             C              pop de
  50F6    7B             C              ld a,e
  50F7    D6 30          C              sub 30H
  50F9    FA 5113        C              jp m,DIGI2
  50FC    FE 0A          C              cp 10
  50FE    FA 5108        C              jp m,DIGI1
  5101    D6 07          C              sub 7
  5103    FE 0A          C              cp 10
  5105    FA 5113        C              jp m,DIGI2
  5108    BD             C      DIGI1:  cp l
  5109    F2 5113        C              jp p,DIGI2
  510C    5F             C              ld e,a
  510D    21 FFFF        C              ld hl,-1
  5110    C3 46F5        C              jp DPUSH
  5113    6C             C      DIGI2:  ld l,h
  5114    C3 46F6        C              jp HPUSH
                         C      ;
  5117    04 4E 45 58    C      CNEXT1: db 4,'NEXT'
  511B    54             C
  511C    50EA           C              dw CDIGIT
  511E    4727           C              dw RUNF
  5120    563D 00C3      C              dw PUSHN,0C3H,POKD8,PUSHN
  5124    596A 563D      C
  5128    46F7 564D      C              dw NEXT,POKD16,ENDF
  512C    46DD           C
                         C      ;
  512E    07 4E 45 58    C      CNEXT2: db 7,'NEXT->H'
  5132    54 2D 3E 48    C
  5136    5117           C              dw CNEXT1
  5138    4727           C              dw RUNF
  513A    563D 00C3      C              dw PUSHN,0C3H,POKD8,PUSHN
  513E    596A 563D      C
  5142    46F6 564D      C              dw HPUSH,POKD16,ENDF
  5146    46DD           C
                         C      ;
  5148    08 4E 45 58    C      CNEXT3: db 8,'NEXT->DH'
  514C    54 2D 3E 44    C
  5150    48             C
  5151    512E           C              dw CNEXT2
  5153    4727           C              dw RUNF
  5155    563D 00C3      C              dw PUSHN,0C3H,POKD8,PUSHN
  5159    596A 563D      C
  515D    46F5 564D      C              dw DPUSH,POKD16,ENDF
  5161    46DD           C
                         C      ;
  5163    01 4A          C      CJ: db 1,'J'
  5165    5148           C          dw CNEXT3
  5167    5169           C          dw $+2
  5169    DD 6E 04       C          ld l,(ix+4)
  516C    DD 66 05       C          ld h,(ix+5)
  516F    C3 46F6        C          jp HPUSH
                         C      ;
                         C      ; : ' BLANK WORD CONTEXT @ @ SEARCH IF ENTRY SEARCH IF COMPILER @ SEARCH IF QUESTION THEN THEN THEN ;
  5172    01 27          C      CPESQ: db 1,27H ;"'"
  5174    5163           C             dw CJ
  5176    4727           C      PESQ:  dw RUNF
  5178    503E 4B18      C             dw BLANK,WORD,CONTEXT
  517C    5566           C
  517E    4CEF 4CEF      C             dw PEK16,PEK16,SEARCH,BRCH0,P1
  5182    4BB8 4E61      C
  5186    519C           C
  5188    5696 4BB8      C             dw ENTRY,SEARCH,BRCH0,P1
  518C    4E61 519C      C
  5190    558B 4CEF      C             dw COMPILER,PEK16,SEARCH,BRCH0
  5194    4BB8 4E61      C
  5198    519C 5F19      C             dw P1,QUESTION
  519C    598D 46DD      C      P1:    dw CR,ENDF
                         C      ;
                         C      ; : DOES> R> ENTRY DUP C@ 5 + + ! SCODE ........
  51A0    05 44 4F 45    C      CDOES:    db 5,'DOES>'
  51A4    53 3E          C
  51A6    5172           C                dw CPESQ
  51A8    4727           C      DOES:     dw RUNF
  51AA    4DE7 5696      C                dw OUTRP,ENTRY,DUP,PEK8
  51AE    47BF 4D2B      C
  51B2    563D 0005      C                dw PUSHN,5,MAIS,MAIS,POK16
  51B6    4FD5 4FD5      C
  51BA    4CE1           C
  51BC    5EAF           C                dw SCODE
  51BE    DD 2B          C      _ATIVATE: dec ix
  51C0    DD 70 00       C                ld (ix+0),b
  51C3    DD 2B          C                dec ix
  51C5    DD 71 00       C                ld (ix+0),c
  51C8    EB             C                ex de,hl
  51C9    4E             C                ld c,(hl)
  51CA    23             C                inc hl
  51CB    46             C                ld b,(hl)
  51CC    23             C                inc hl
  51CD    C3 46F6        C                jp HPUSH
                         C      ;
                         C      ; : <BUILDS 0 CONST ;
  51D0    07 3C 42 55    C      CBUILDS: db 7,'<BUILDS'
  51D4    49 4C 44 53    C
  51D8    51A0           C               dw CDOES
  51DA    4727           C      BUILDS:  dw RUNF
  51DC    637F 5EC4      C               dw ZERO,CONST,ENDF
  51E0    46DD           C
                         C      ;
  51E2    03 50 54 43    C      CPTC: db 3,'PTC'
  51E6    51D0           C            dw CBUILDS
  51E8    51EA           C            dw $+2
  51EA    E1             C            pop hl
  51EB    7D             C            ld a,l
  51EC    3C             C            inc a
  51ED    FE 21          C            cp 33
  51EF    F2 51F5        C            jp p,PT1
  51F2    32 F3DD        C            ld (MSX_CSRX),a
  51F5    E1             C      PT1:  pop hl
  51F6    7D             C            ld a,l
  51F7    3C             C            inc a
  51F8    FE 19          C            cp 25
  51FA    F2 46F7        C            jp p,NEXT
  51FD    32 F3DC        C            ld (MSX_CSRY),a
  5200    C3 46F7        C            jp NEXT
                         C      ;
                         C      ;      pop de
                         C      ;      ld h,l
                         C      ;      inc h
                         C      ;      ld l,e
                         C      ;      inc l
                         C      ;      call 0C6H
                         C      ;      jp NEXT
                         C      ;
                         C
  5203    03 2B 53 50    C      CMAISP: db 3,'+SP'
  5207    51E2           C              dw CPTC
  5209    520B           C      MAISP:  dw $+2
  520B    E1             C              pop hl
  520C    39             C              add hl,sp
  520D    C3 46F6        C              jp HPUSH
                         C      ;
  5210    04 53 2D 3E    C      CC1632: db 4,'S->D'
  5214    44             C
  5215    5203           C              dw CMAISP
  5217    5219           C      C1632:  dw $+2
  5219    D1             C              pop de
  521A    21 0000        C              ld hl,0
  521D    7A             C              ld a,d
  521E    E6 80          C              and 80H
  5220    CA 46F5        C              jp z,DPUSH
  5223    2B             C              dec hl
  5224    C3 46F5        C              jp DPUSH
                         C      ;
                         C      ; : PICK 1- 2 * +SP @ ;
  5227    04 50 49 43    C      CPICK: db 4,'PICK'
  522B    4B             C
  522C    5210           C             dw CC1632
  522E    4727           C             dw RUNF
  5230    62D4 639B      C             dw MENOS1,TWO,VEZES,MAISP
  5234    4FA2 5209      C
  5238    4CEF 46DD      C             dw PEK16,ENDF
                         C      ;
  523C    04 53 57 41    C      CSWAP: db 4,'SWAP'
  5240    50             C
  5241    5227           C             dw CPICK
  5243    5245           C      SWAP:  dw $+2
  5245    E1             C             pop hl
  5246    E3             C             ex (sp),hl
  5247    C3 46F6        C             jp HPUSH
                         C      ;
  524A    02 2B 2D       C      CMODUL: db 2,'+-'
  524D    523C           C              dw CSWAP
  524F    4727           C      MODUL:  dw RUNF
  5251    483E 4E61      C              dw MEN0,BRCH0,MODU1,MINUS
  5255    5259 56E4      C
  5259    46DD           C      MODU1:  dw ENDF
                         C      ;
  525B    03 44 2B 2D    C      CDMODUL: db 3,'D+-'
  525F    524A           C               dw CMODUL
  5261    4727           C      DMODUL:  dw RUNF
  5263    483E 4E61      C               dw MEN0,BRCH0,DMODU1,DMINUS
  5267    526B 56F3      C
  526B    46DD           C      DMODU1:  dw ENDF
                         C      ;
  526D    03 41 42 53    C      CABS: db 3,'ABS'
  5271    525B           C            dw CDMODUL
  5273    5275           C      ABS:  dw $+2
  5275    D1             C            pop de
  5276    CB 7A          C            bit 7,d
  5278    28 07          C            jr z,ABS2
  527A    21 0000        C      ABS1: ld hl,0
  527D    A7             C            and a
  527E    ED 52          C            sbc hl,de
  5280    EB             C            ex de,hl
  5281    D5             C      ABS2: push de
  5282    C3 46F7        C            jp NEXT
                         C      ;
  5285    04 44 41 42    C      CDABS: db 4,'DABS'
  5289    53             C
  528A    526D           C             dw CABS
  528C    528E           C      DABS:  dw $+2
  528E    E1             C             pop hl
  528F    CB 7C          C             bit 7,h
  5291    CA 46F6        C             jp z,HPUSH
  5294    E3             C      DABS1: ex (sp),hl
  5295    EB             C             ex de,hl
  5296    21 0000        C             ld hl,0
  5299    AF             C             xor a
  529A    ED 52          C             sbc hl,de
  529C    E3             C             ex (sp),hl
  529D    EB             C             ex de,hl
  529E    21 0000        C             ld hl,0
  52A1    ED 52          C             sbc hl,de
  52A3    C3 46F6        C             jp HPUSH
                         C      ;
  52A6    02 55 2A       C      CUVEZES: db 2,'U*'
  52A9    5285           C               dw CDABS
  52AB    52AD           C      UVEZES:  dw $+2
  52AD    D1             C               pop de
  52AE    E1             C               pop hl
  52AF    C5             C               push bc
  52B0    4C             C               ld c,h
  52B1    7D             C               ld a,l
  52B2    CD 52C9        C               call UVEZESR
  52B5    E5             C               push hl
  52B6    67             C               ld h,a
  52B7    79             C               ld a,c
  52B8    4C             C               ld c,h
  52B9    CD 52C9        C               call UVEZESR
  52BC    D1             C               pop de
  52BD    41             C               ld b,c
  52BE    4A             C               ld c,d
  52BF    09             C               add hl,bc
  52C0    CE 00          C               adc a,0
  52C2    55             C               ld d,l
  52C3    6C             C               ld l,h
  52C4    67             C               ld h,a
  52C5    C1             C               pop bc
  52C6    C3 46F5        C               jp DPUSH
                         C
  52C9    21 0000        C      UVEZESR: ld hl,0
  52CC    06 08          C               ld b,8
  52CE    29             C      UVEZR1:  add hl,hl
  52CF    17             C               rla
  52D0    30 03          C               jr nc,UVEZR2
  52D2    19             C               add hl,de
  52D3    CE 00          C               adc a,0
  52D5    10 F7          C      UVEZR2:  djnz UVEZR1
  52D7    C9             C               ret
                         C      ;
  52D8    02 55 2F       C      CUDIV: db 2,'U/'
  52DB    52A6           C             dw CUVEZES
  52DD    52DF           C      UDIV:  dw $+2
  52DF    21 0004        C             ld hl,4
  52E2    39             C             add hl,sp
  52E3    5E             C             ld e,(hl)
  52E4    71             C             ld (hl),c
  52E5    23             C             inc hl
  52E6    56             C             ld d,(hl)
  52E7    70             C             ld (hl),b
  52E8    C1             C             pop bc
  52E9    E1             C             pop hl
  52EA    7D             C             ld a,l
  52EB    91             C             sub c
  52EC    7C             C             ld a,h
  52ED    98             C             sbc a,b
  52EE    38 08          C             jr c,UDIV1
  52F0    21 FFFF        C             ld hl,-1
  52F3    11 FFFF        C             ld de,-1
  52F6    18 26          C             jr UDIV6
  52F8    3E 10          C      UDIV1: ld a,10H
  52FA    29             C      UDIV2: add hl,hl
  52FB    17             C             rla
  52FC    EB             C             ex de,hl
  52FD    29             C             add hl,hl
  52FE    30 02          C             jr nc,UDIV3
  5300    13             C             inc de
  5301    A7             C             and a
  5302    EB             C      UDIV3: ex de,hl
  5303    1F             C             rra
  5304    F5             C             push af
  5305    30 08          C             jr nc,UDIV4
  5307    7D             C             ld a,l
  5308    91             C             sub c
  5309    6F             C             ld l,a
  530A    7C             C             ld a,h
  530B    98             C             sbc a,b
  530C    67             C             ld h,a
  530D    18 0A          C             jr UDIV5
  530F    7D             C      UDIV4: ld a,l
  5310    91             C             sub c
  5311    6F             C             ld l,a
  5312    7C             C             ld a,h
  5313    98             C             sbc a,b
  5314    67             C             ld h,a
  5315    30 02          C             jr nc,UDIV5
  5317    09             C             add hl,bc
  5318    1B             C             dec de
  5319    13             C      UDIV5: inc de
  531A    F1             C             pop af
  531B    3D             C             dec a
  531C    20 DC          C             jr nz,UDIV2
  531E    C1             C      UDIV6: pop bc
  531F    E5             C             push hl
  5320    D5             C             push de
  5321    C3 46F7        C             jp NEXT
                         C      ;
  5324    05 4D 2F 4D    C      CMMOD: db 5,'M/MOD'
  5328    4F 44          C
  532A    52D8           C             dw CUDIV
  532C    4727           C      MMOD:  dw RUNF
  532E    4DD2 637F      C             dw INRP,ZERO,LERP,UDIV,OUTRP
  5332    4DFA 52DD      C
  5336    4DE7           C
  5338    5243 4DD2      C             dw SWAP,INRP,UDIV,OUTRP,ENDF
  533C    52DD 4DE7      C
  5340    46DD           C
                         C      ;
                         C      ; : <# PAD HLD ! ;
  5342    02 3C 23       C      CININUM: db 2,'<#'
  5345    5324           C               dw CMMOD
  5347    4727           C      ININUM:  dw RUNF
  5349    498F 496A      C               dw PAD,HLD,POK16,ENDF
  534D    4CE1 46DD      C
                         C      ;
                         C      ; : # BASE @ M/MOD ROT 9 OVER < 7 + THEN 48 + HOLD ;
  5351    01 23          C      CNUMCAR: db 1,'#'
  5353    5342           C               dw CININUM
  5355    4727           C      NUMCAR:  dw RUNF
  5357    4E99 4CEF      C               dw BASE,PEK16,MMOD,ROT,PUSHN
  535B    532C 4874      C
  535F    563D           C
  5361    0009 597F      C               dw 9,OVER,MENOR,BRCH0,NUMCA1
  5365    47FC 4E61      C
  5369    5371           C
  536B    563D 0007      C               dw PUSHN,7,MAIS
  536F    4FD5           C
  5371    563D 0030      C      NUMCA1:  dw PUSHN,48,MAIS,HOLD,ENDF
  5375    4FD5 4979      C
  5379    46DD           C
                         C      ;
                         C      ; : #S BEGIN # OVER OVER OR 0= UNTIL ;
  537B    02 23 53       C      CNUMFRM: db 2,'#S'
  537E    5351           C               dw CNUMCAR
  5380    4727           C      NUMFRM:  dw RUNF
  5382    5355 597F      C               dw NUMCAR,OVER,OVER,OR,IGU0
  5386    597F 632C      C
  538A    4852           C
  538C    4E61 5382      C               dw BRCH0,NUMFRM+2,ENDF
  5390    46DD           C
                         C      ;
                         C      ; : SIGN ROT <0 IF '-' HOLD ELSE BLANK HOLD THEN ;
  5392    04 53 49 47    C      CSIGN: db 4,'SIGN'
  5396    4E             C
  5397    537B           C             dw CNUMFRM
  5399    4727           C      SIGN:  dw RUNF
  539B    4874 483E      C             dw ROT,MEN0,BRCH0,SIGN1
  539F    4E61 53AB      C
  53A3    563D 002D      C             dw PUSHN,'-',HOLD,ENDF
  53A7    4979 46DD      C
  53AB    503E 4979      C      SIGN1: dw BLANK,HOLD,ENDF
  53AF    46DD           C
                         C      ;
  53B1    05 53 49 47    C      CSIGN0: db 5,'SIGN0'
  53B5    4E 30          C
  53B7    5392           C              dw CSIGN
  53B9    4727           C      SIGN0:  dw RUNF
  53BB    4874 483E      C              dw ROT,MEN0,BRCH0,SIGN01
  53BF    4E61 53CB      C
  53C3    563D 002D      C              dw PUSHN,'-',BRCH,SIGN01+2
  53C7    4E76 53CD      C
  53CB    503E 563D      C      SIGN01: dw BLANK,PUSHN,TUN,POK16,ENDF
  53CF    4298 4CE1      C
  53D3    46DD           C
                         C      ;
                         C      ; : #> DROP DROP HLD @ PAD OVER - ;
  53D5    02 23 3E       C      CFIMNUM: db 2,'#>'
  53D8    53B1           C               dw CSIGN0
  53DA    4727           C      FIMNUM:  dw RUNF
  53DC    4883 4883      C               dw DROP,DROP,HLD,PEK16,PAD
  53E0    496A 4CEF      C
  53E4    498F           C
  53E6    597F 4FE1      C               dw OVER,MENOS,ENDF
  53EA    46DD           C
                         C      ;
  53EC    53EE           C      IMP: dw $+2
  53EE    DD 23          C           inc ix
  53F0    C3 53FC        C           jp SHOW+2
                         C      ;
  53F3    04 53 48 4F    C      CSHOW: db 4,'SHOW'
  53F7    57             C
  53F8    53D5           C             dw CFIMNUM
  53FA    53FC           C      SHOW:  dw $+2
  53FC    D9             C             exx
  53FD    E1             C      SHOW1: pop hl
  53FE    7D             C             ld a,l
  53FF    FE FF          C             cp -1
  5401    CA 4B5F        C             jp z,RG
  5404    CD 44E2        C             call VIDEO
  5407    18 F4          C             jr SHOW1
                         C      ;
                         C      ; : D.R {PSG} @ IF {IMPDUF+2} THREE {VZ} >R SWAP OVER DABS <# #S SIGN #> R> OVER - SPACES TYPE ;
  5409    03 44 2E 52    C      CIMPDSF: db 3,'D.R'
  540D    53F3           C               dw CSHOW
  540F    4727           C      IMPDSF:  dw RUNF
  5411    63AB 5F63      C               dw THREE,VZ,INRP,SWAP,OVER
  5415    4DD2 5243      C
  5419    597F           C
  541B    528C 5347      C               dw DABS,ININUM,NUMFRM,SIGN,FIMNUM
  541F    5380 5399      C
  5423    53DA           C
  5425    4DE7 597F      C               dw OUTRP,OVER,MENOS,SPACS,TYPE
  5429    4FE1 5088      C
  542D    554C           C
  542F    46DD           C               dw ENDF
                         C      ;
                         C      ; : DU.R THREE {VZ} >R SWAP OVER <# #S BLANK HOLD #> >R OVER - SPACES TYPE ;
  5431    04 44 55 2E    C      CIMPDUF: db 4,'DU.R'
  5435    52             C
  5436    5409           C               dw CIMPDSF
  5438    4727           C      IMPDUF:  dw RUNF
  543A    63AB 5F63      C               dw THREE,VZ,INRP,SWAP,OVER
  543E    4DD2 5243      C
  5442    597F           C
  5444    5347 5380      C               dw ININUM,NUMFRM,ROT,DROP,BLANK
  5448    4874 4883      C
  544C    503E           C
  544E    4979 53DA      C               dw HOLD,FIMNUM,OUTRP,OVER,MENOS
  5452    4DE7 597F      C
  5456    4FE1           C
  5458    5088 554C      C               dw SPACS,TYPE,ENDF
  545C    46DD           C
                         C      ;
  545E    04 44 2E 58    C      CIDSFX: db 4,'D.XR'
  5462    52             C
  5463    5431           C              dw CIMPDUF
  5465    4727           C      IDSFX:  dw RUNF
  5467    563D 0004      C              dw PUSHN,4,VZ,INRP,INRP,SWAP,OVER
  546B    5F63 4DD2      C
  546F    4DD2 5243      C
  5473    597F           C
  5475    528C 5347      C              dw DABS,ININUM,NUMFRM,SIGN0
  5479    5380 53B9      C
  547D    53DA 563D      C              dw FIMNUM,PUSHN,TUN,PEK16,EMIT
  5481    4298 4CEF      C
  5485    48BA           C
  5487    4DE7 597F      C              dw OUTRP,OVER,MENOS,OUTRP,STRING,TYPE
  548B    4FE1 4DE7      C
  548F    5061 554C      C
  5493    46DD           C              dw ENDF
                         C      ;
  5495    05 44 55 2E    C      CIDUFX: db 5,'DU.XR'
  5499    58 52          C
  549B    545E           C              dw CIDSFX
  549D    4727           C      IDUFX:  dw RUNF
  549F    563D 0004      C              dw PUSHN,4,VZ,INRP,INRP,SWAP,OVER
  54A3    5F63 4DD2      C
  54A7    4DD2 5243      C
  54AB    597F           C
  54AD    5347 5380      C              dw ININUM,NUMFRM,ROT,DROP,FIMNUM
  54B1    4874 4883      C
  54B5    53DA           C
  54B7    4DE7 597F      C              dw OUTRP,OVER,MENOS,OUTRP,STRING,TYPE
  54BB    4FE1 4DE7      C
  54BF    5061 554C      C
  54C3    46DD           C              dw ENDF
                         C      ;
                         C      ; : D. ZERO D.R SPACE ;
  54C5    02 44 2E       C      CIMPDS: db 2,'D.'
  54C8    5495           C              dw CIDUFX
  54CA    4727           C      IMPDS:  dw RUNF
  54CC    637F 540F      C              dw ZERO,IMPDSF,ENDF ;; SPACE,ENDF
  54D0    46DD           C
                         C      ;
                         C      ; : DU. ZERO DU.R SPACE ;
  54D2    03 44 55 2E    C      CIMPDU: db 3,'DU.'
  54D6    54C5           C              dw CIMPDS
  54D8    4727           C      IMPDU:  dw RUNF
  54DA    637F 5438      C              dw ZERO,IMPDUF,ENDF ;; SPACE,ENDF
  54DE    46DD           C
                         C      ;
  54E0    02 2E 52       C      CIMPSF: db 2,'.R'
  54E3    54D2           C              dw CIMPDU
  54E5    4727           C              dw RUNF
  54E7    4DD2 5217      C              dw INRP,C1632,OUTRP,IMPDSF,ENDF
  54EB    4DE7 540F      C
  54EF    46DD           C
                         C      ;
  54F1    03 55 2E 52    C      CIMPUF: db 3,'U.R'
  54F5    54E0           C              dw CIMPSF
  54F7    4727           C              dw RUNF
  54F9    637F 5243      C              dw ZERO,SWAP,IMPDUF,ENDF
  54FD    5438 46DD      C
                         C      ;
  5501    03 2E 58 52    C      CISFX: db 3,'.XR'
  5505    54F1           C             dw CIMPUF
  5507    4727           C             dw RUNF
  5509    4DD2 4DD2      C             dw INRP,INRP,C1632,OUTRP,OUTRP,IDSFX,ENDF
  550D    5217 4DE7      C
  5511    4DE7 5465      C
  5515    46DD           C
                         C      ;
  5517    04 55 2E 58    C      CIUFX: db 4,'U.XR'
  551B    52             C
  551C    5501           C             dw CISFX
  551E    4727           C             dw RUNF
  5520    4DD2 637F      C             dw INRP,ZERO,SWAP,OUTRP,IDUFX,ENDF
  5524    5243 4DE7      C
  5528    549D 46DD      C
                         C      ;
  552C    01 2E          C      CIMPSS: db 1,'.'
  552E    5517           C              dw CIUFX
  5530    4727           C      IMPSS:  dw RUNF
  5532    5217 54CA      C              dw C1632,IMPDS,ENDF
  5536    46DD           C
                         C      ;
  5538    02 55 2E       C      CIMPSU: db 2,'U.'
  553B    552C           C              dw CIMPSS
  553D    4727           C      IMPSU:  dw RUNF
  553F    637F 54D8      C              dw ZERO,IMPDU,ENDF
  5543    46DD           C
                         C      ;
  5545    04 54 59 50    C      CTYPE: db 4,'TYPE'
  5549    45             C
  554A    5538           C             dw CIMPSU
  554C    554E           C      TYPE:  dw $+2
  554E    D9             C             exx
  554F    C1             C             pop bc
  5550    E1             C             pop hl
  5551    41             C             ld b,c
  5552    7E             C      CT1:   ld a,(hl)
  5553    CD 44E2        C             call VIDEO
  5556    23             C             inc hl
  5557    10 F9          C             djnz CT1
  5559    C3 4B5F        C             jp RG
                         C      ;
                         C      ; OBTEM A ULTIMA PALAVRA DO DICIONARIO PRINCIPAL (FORTH)
  555C    07 43 4F 4E    C      CCONTEXT: db 7,'CONTEXT'
  5560    54 45 58 54    C
  5564    5545           C                dw CTYPE
  5566    5568           C      CONTEXT:  dw $+2
  5568    21 425C        C                ld hl,PUPDP
  556B    C3 46F6        C                jp HPUSH
                         C      ;
                         C      ; OBTEM A ULTIMA PALAVRA DO DICIONARIO CORRENTE
  556E    07 43 55 52    C      CCURRENT: db 7,'CURRENT'
  5572    52 45 4E 54    C
  5576    555C           C                dw CCONTEXT
  5578    557A           C      CURRENT:  dw $+2
  557A    21 425E        C                ld hl,PUPDC
  557D    C3 46F6        C                jp HPUSH
                         C      ;
                         C      ; OBTEM O ENDERECO A ULTIMA PALAVRA DO DICIONARIO DE COMPILACAO
  5580    08 43 4F 4D    C      CCOMPILER: db 8,'COMPILER'
  5584    50 49 4C 45    C
  5588    52             C
  5589    556E           C                 dw CCURRENT
  558B    558D           C      COMPILER:  dw $+2
  558D    21 4264        C                 ld hl,UPCC
  5590    C3 46F6        C                 jp HPUSH
                         C      ;
                         C      ; : TAKE 0C3H C! {POKD16} ;
  5593    04 54 41 4B    C      CTAKE: db 4,'TAKE'
  5597    45             C
  5598    5580           C             dw CCOMPILER
  559A    4727           C             dw RUNF
  559C    563D 00C3      C             dw PUSHN,0C3H,POKD8,PUSHN
  55A0    596A 563D      C
  55A4    4B5F 564D      C             dw RG,POKD16,ENDF
  55A8    46DD           C
                         C      ;
  55AA    05 53 54 41    C      CSTATE:  db 5,'STATE'
  55AE    54 45          C
  55B0    5593           C               dw CTAKE
  55B2    55B4           C      STATE:   dw $+2
  55B4    21 426C        C               ld hl,PSTE
  55B7    C3 46F6        C               jp HPUSH
                         C      ;
                         C      ; : ?SEARCH CONTEXT @ @ SEARCH DUP IF MODE @ IF DROP COMPILER @ SEARCH DUP IF ZERO ELSE TRUE THEN STATE ! THEN THEN ;
  55BA    07 3F 53 45    C      CISEARCH: db 7,'?SEARCH'
  55BE    41 52 43 48    C
  55C2    55AA           C                dw CSTATE
  55C4    4727           C      ISEARCH:  dw RUNF
  55C6    5566 4CEF      C                dw CONTEXT,PEK16,PEK16
  55CA    4CEF           C
  55CC    4BB8 47BF      C                dw SEARCH,DUP,BRCH0,IS1,MODE
  55D0    4E61 55F6      C
  55D4    4C05           C
  55D6    4CEF 4E61      C                dw PEK16,BRCH0,IS1,DROP
  55DA    55F6 4883      C
  55DE    558B 4CEF      C                dw COMPILER,PEK16,SEARCH,DUP
  55E2    4BB8 47BF      C
  55E6    4E61 55F0      C                dw BRCH0,IS2,ZERO,BRCH,IS2+2
  55EA    637F 4E76      C
  55EE    55F2           C
  55F0    6370 55B2      C      IS2:      dw TRUE,STATE,POK16
  55F4    4CE1           C
  55F6    46DD           C      IS1:      dw ENDF
                         C      ;
                         C      ; : ?NUMBER NUMBER IF MODE @ IF {TUN} C@ IF {DPUSHN} , D, ELSE {PUSHN} , , THEN ELSE ZERO THEN ELSE TRUE THEN ;
  55F8    07 3F 4E 55    C      CINUMBER: db 7,'?NUMBER'
  55FC    4D 42 45 52    C
  5600    55BA           C                dw CISEARCH
  5602    4727           C      INUMBER:  dw RUNF
  5604    4EAA 4E61      C                dw NUMBER,BRCH0,IN1,MODE
  5608    5634 4C05      C
  560C    4CEF 4E61      C                dw PEK16,BRCH0,IN2,PUSHN,TUN
  5610    5630 563D      C
  5614    4298           C
  5616    4D2B 4E61      C                dw PEK8,BRCH0,IN3,PUSHN,DPUSHN
  561A    5628 563D      C
  561E    5663           C
  5620    564D 5679      C                dw POKD16,POKD32,BRCH,IN2
  5624    4E76 5630      C
  5628    563D 563D      C      IN3:      dw PUSHN,PUSHN,POKD16,POKD16
  562C    564D 564D      C
  5630    637F 46DD      C      IN2:      dw ZERO,ENDF
  5634    6370 46DD      C      IN1:      dw TRUE,ENDF
                         C      ;
  5638    02 2A 23       C      CPUSHN: db 2,'*#'
  563B    55F8           C              dw CINUMBER
  563D    563F           C      PUSHN:  dw $+2
  563F    0A             C              ld a,(bc)
  5640    5F             C              ld e,a
  5641    03             C              inc bc
  5642    0A             C              ld a,(bc)
  5643    57             C              ld d,a
  5644    03             C              inc bc
  5645    D5             C              push de
  5646    C3 46F7        C              jp NEXT
                         C      ;
                         C      ; INCLUI UM VALOR 16 BITS NO DICIONARIO
  5649    01 2C          C      CPOKD16: db 1,','
  564B    5638           C               dw CPUSHN
  564D    564F           C      POKD16:  dw $+2
  564F    D1             C               pop de
  5650    2A 4268        C               ld hl,(PRECOMP)
  5653    73             C               ld (hl),e
  5654    23             C               inc hl
  5655    72             C               ld (hl),d
  5656    23             C               inc hl
  5657    22 4268        C               ld (PRECOMP),hl
  565A    C3 46F7        C               jp NEXT
                         C      ;
  565D    03 44 2A 23    C      CDPUSHN: db 3,'D*#'
  5661    5649           C               dw CPOKD16
  5663    5665           C      DPUSHN:  dw $+2
  5665    0A             C               ld a,(bc)
  5666    6F             C               ld l,a
  5667    03             C               inc bc
  5668    0A             C               ld a,(bc)
  5669    67             C               ld h,a
  566A    03             C               inc bc
  566B    0A             C               ld a,(bc)
  566C    5F             C               ld e,a
  566D    03             C               inc bc
  566E    0A             C               ld a,(bc)
  566F    57             C               ld d,a
  5670    03             C               inc bc
  5671    C3 46F5        C               jp DPUSH
                         C      ;
                         C      ; INCLUI UM VALOR 32 BITS NO DICIONARIO
  5674    02 44 2C       C      CPOKD32: db 2,'D,'
  5677    565D           C               dw CDPUSHN
  5679    567B           C      POKD32:  dw $+2
  567B    D1             C               pop de      ; MSB
  567C    2A 4268        C               ld hl,(PRECOMP)
  567F    73             C               ld (hl),e
  5680    23             C               inc hl
  5681    72             C               ld (hl),d
  5682    23             C               inc hl
  5683    D1             C               pop de      ; LSB
  5684    73             C               ld (hl),e
  5685    23             C               inc hl
  5686    72             C               ld (hl),d
  5687    23             C               inc hl
  5688    22 4268        C               ld (PRECOMP),hl
  568B    C3 46F7        C               jp NEXT
                         C      ;
                         C      ; : ENTRY CURRENT @ @ ;
  568E    05 45 4E 54    C      CENTRY: db 5,'ENTRY'
  5692    52 59          C
  5694    5674           C              dw CPOKD32
  5696    4727           C      ENTRY:  dw RUNF
  5698    5578 4CEF      C              dw CURRENT,PEK16,PEK16,ENDF
  569C    4CEF 46DD      C
                         C      ;
                         C      ; OBTEM A PROXIMA POSICAO DE MEMORIA APONTADA POR "PRECOMP"
  56A0    56A2           C      PROXIMA: dw $+2
  56A2    2A 4268        C               ld hl,(PRECOMP)
  56A5    16 00          C               ld d,0
  56A7    5E             C               ld e,(hl)
  56A8    13             C               inc de
  56A9    D5             C               push de
  56AA    C3 46F7        C               jp NEXT
                         C      ;
                         C      ; OBTEM O ENDERECO DE "PRECOMP"
  56AD    02 44 50       C      CDP:  db 2,'DP'
  56B0    568E           C            dw CENTRY
  56B2    56B4           C      DP:   dw $+2
  56B4    21 4268        C            ld hl,PRECOMP
  56B7    C3 46F6        C            jp HPUSH
                         C      ;
                         C      ; OBTEM O VALOR DE 32 BITS APONTADOS POR "PRECOMP"
  56BA    04 48 45 52    C      CHERE: db 4,'HERE'
  56BE    45             C
  56BF    56AD           C             dw CDP
  56C1    56C3           C      HERE:  dw $+2
  56C3    2A 4268        C             ld hl,(PRECOMP)
  56C6    C3 46F6        C             jp HPUSH
                         C      ;
  56C9    02 2B 21       C      CSOMEM: db 2,'+!'
  56CC    56BA           C              dw CHERE
  56CE    56D0           C      SOMEM:  dw $+2
  56D0    E1             C              pop hl
  56D1    D1             C              pop de
  56D2    7E             C              ld a,(hl)
  56D3    83             C              add a,e
  56D4    77             C              ld (hl),a
  56D5    23             C              inc hl
  56D6    7E             C              ld a,(hl)
  56D7    8A             C              adc a,d
  56D8    77             C              ld (hl),a
  56D9    C3 46F7        C              jp NEXT
                         C      ;
  56DC    05 4D 49 4E    C      CMINUS: db 5,'MINUS'
  56E0    55 53          C
  56E2    56C9           C              dw CSOMEM
  56E4    56E6           C      MINUS:  dw $+2
  56E6    D1             C              pop de
  56E7    C3 527A        C              jp ABS1
                         C      ;
  56EA    06 44 4D 49    C      CDMINUS: db 6,'DMINUS'
  56EE    4E 55 53       C
  56F1    56DC           C               dw CMINUS
  56F3    56F5           C      DMINUS:  dw $+2
  56F5    E1             C               pop hl
  56F6    C3 5294        C               jp DABS1
                         C      ;
  56F9    02 32 2B       C      CMAIS2: db 2,'2+'
  56FC    56EA           C              dw CDMINUS
  56FE    5700           C      MAIS2:  dw $+2
  5700    E1             C              pop hl
  5701    23             C              inc hl
  5702    23             C              inc hl
  5703    C3 46F6        C              jp HPUSH
                         C      ;
                         C      ; : CREATE ENTRY BLANK WORD HERE CURRENT @ ! {PROXIMA} DP +! , HERE 2+ , ;
  5706    06 43 52 45    C      CCREATE: db 6,'CREATE'
  570A    41 54 45       C
  570D    56F9           C               dw CMAIS2
  570F    4727           C      CREATE:  dw RUNF
  5711    5696 503E      C               dw ENTRY,BLANK,WORD,CONTEXT
  5715    4B18 5566      C
  5719    4CEF 4CEF      C               dw PEK16,PEK16,SEARCH,NOT
  571D    4BB8 6352      C
  5721    4E61 572B      C               dw BRCH0,CREAT1,NU,BRCH,CREAT3
  5725    5761 4E76      C
  5729    5749           C
  572B    5696 4BB8      C      CREAT1:  dw ENTRY,SEARCH,NOT,BRCH0
  572F    6352 4E61      C
  5733    573B 5761      C               dw CREAT2,NU,BRCH,CREAT3
  5737    4E76 5749      C
  573B    558B 4CEF      C      CREAT2:  dw COMPILER,PEK16,SEARCH,NOT
  573F    4BB8 6352      C
  5743    4E61 5749      C               dw BRCH0,CREAT3,NU
  5747    5761           C
  5749    56C1 5578      C      CREAT3:  dw HERE,CURRENT,PEK16,POK16,PROXIMA
  574D    4CEF 4CE1      C
  5751    56A0           C
  5753    56B2 56CE      C               dw DP,SOMEM,POKD16,HERE
  5757    564D 56C1      C
  575B    56FE 564D      C               dw MAIS2,POKD16,ENDF
  575F    46DD           C
                         C      ;
  5761    4727           C      NU: dw RUNF
  5763    57FF           C          dw DISP
  5765    12 20 50 41    C          db 18,' PALAVRA N',0B0H,'O ',8BH,'NICA'
  5769    4C 41 56 52    C
  576D    41 20 4E B0    C
  5771    4F 20 8B 4E    C
  5775    49 43 41       C
  5778    4883 46DD      C          dw DROP,ENDF
                         C      ;
  577C    577E           C      ULTIMA: dw $+2
  577E    ED 5B 4260     C              ld de,(UPDC)
  5782    26 00          C              ld h,0
  5784    1A             C              ld a,(de)
  5785    6F             C              ld l,a
  5786    19             C              add hl,de
  5787    11 0003        C              ld de,3
  578A    19             C              add hl,de
  578B    C3 46F6        C              jp HPUSH
                         C      ;
                         C      ; : : CURRENT @ CONTEXT ! CREATE {RUNF} {ULTIMA} ! MODE 1SET ;
  578E    01 3A          C      CCRIA: db 1,':'
  5790    5706           C             dw CCREATE
  5792    4727           C             dw RUNF
  5794    5578 4CEF      C             dw CURRENT,PEK16,CONTEXT
  5798    5566           C
  579A    4CE1 570F      C             dw POK16,CREATE,PUSHN,RUNF
  579E    563D 4727      C
  57A2    577C 4CE1      C             dw ULTIMA,POK16,MODE,SET,ENDF
  57A6    4C05 4E4C      C
  57AA    46DD           C
                         C      ;
                         C      ; : ; {ENDF} , MODE 0SET ;
  57AC    01 3B          C      CFINAL: db 1,';'
  57AE    0000           C              dw 0
  57B0    4727           C              dw RUNF
  57B2    563D 46DD      C              dw PUSHN,ENDF,POKD16,MODE
  57B6    564D 4C05      C
  57BA    4E3A 46DD      C              dw RESET,ENDF
                         C      ;
                         C      ; : EXIT {ENDF} , ;
  57BE    04 45 58 49    C      CEXIT: db 4,'EXIT'
  57C2    54             C
  57C3    57AC           C             dw CFINAL
  57C5    4727           C             dw RUNF
  57C7    563D 46DD      C             dw PUSHN,ENDF,POKD16,ENDF
  57CB    564D 46DD      C
                         C      ;
                         C      ; : ?EXECUTE STATE @ STATE 0SET MODE @ = IF EXECUTE ZERO {VZ} ELSE , THEN ;
  57CF    08 3F 45 58    C      CIEXEC: db 8,'?EXECUTE'
  57D3    45 43 55 54    C
  57D7    45             C
  57D8    578E           C              dw CCRIA
  57DA    4727           C      IEXEC:  dw RUNF
  57DC    55B2 4CEF      C              dw STATE,PEK16,STATE,RESET
  57E0    55B2 4E3A      C
  57E4    4C05 4CEF      C              dw MODE,PEK16,IGU,BRCH0,IE1
  57E8    481B 4E61      C
  57EC    57F6           C
  57EE    4BF8 637F      C              dw EXEC,ZERO,VZ,ENDF
  57F2    5F63 46DD      C
  57F6    564D 46DD      C      IE1:    dw POKD16,ENDF
                         C      ;
  57FA    02 2A 28       C      CDISP: db 2,'*('
  57FD    57CF           C             dw CIEXEC
  57FF    5801           C      DISP:  dw $+2
  5801    0A             C             ld a,(bc)
  5802    57             C             ld d,a
  5803    03             C      DISP1: inc bc
  5804    0A             C             ld a,(bc)
  5805    CD 44E2        C             call VIDEO
  5808    15             C             dec d
  5809    20 F8          C             jr nz,DISP1
  580B    03             C             inc bc
  580C    C3 46F7        C             jp NEXT
                         C      ;
                         C      ; : +LOOP {S_LOOP} COMPILE END, ;
  580F    05 2B 4C 4F    C      CPASSO: db 5,'+LOOP'
  5813    4F 50          C
  5815    57BE           C              dw CEXIT
  5817    4727           C              dw RUNF
  5819    563D 4C62      C              dw PUSHN,S_LOOP,MARK_E,ENDF
  581D    4E1C 46DD      C
                         C      ;
                         C      ; : LEAVE {LEAVE} , ;
  5821    05 4C 45 41    C      CLEAVE: db 5,'LEAVE'
  5825    56 45          C
  5827    580F           C              dw CPASSO
  5829    4727           C              dw RUNF
  582B    563D 4C51      C              dw PUSHN,LEAVE,POKD16,ENDF
  582F    564D 46DD      C
                         C      ;
                         C      ; : DO {B_LOOP} COMPILE DO, ;
  5833    02 44 4F       C      CDO: db 2,'DO'
  5836    5821           C           dw CLEAVE
  5838    4727           C           dw RUNF
  583A    563D 4C39      C           dw PUSHN,B_LOOP,MARK_S,ENDF
  583E    595D 46DD      C
                         C      ;
                         C      ; : LOOP {LOOP} COMPILE END, ;
  5842    04 4C 4F 4F    C      CLOOP: db 4,'LOOP'
  5846    50             C
  5847    5833           C             dw CDO
  5849    4727           C             dw RUNF
  584B    563D 4C67      C             dw PUSHN,LOOP,MARK_E,ENDF
  584F    4E1C 46DD      C
                         C      ;
                         C      ; : ." LCASE COMPILE *( , 22H WORD HERE C@ 1+ DP +! UPCASE ;
  5853    02 2E 22       C      CPRINT: db 2,'."'
  5856    5842           C              dw CLOOP
  5858    4727           C              dw RUNF
  585A    4BA7 563D      C              dw LCASE,PUSHN,DISP,POKD16
  585E    57FF 564D      C
  5862    563D 0022      C              dw PUSHN,22H,WORD,HERE,PEK8
  5866    4B18 56C1      C
  586A    4D2B           C
  586C    5950 56B2      C              dw MAIS1,DP,SOMEM,UCASE,ENDF
  5870    56CE 4B95      C
  5874    46DD           C
                         C      ;
  5876    06 3B 53 43    C      CCODE:  db 6,';SCODE'
  587A    4F 44 45       C
  587D    5853           C              dw CPRINT
  587F    4727           C              dw RUNF
  5881    563D 5EAF      C              dw PUSHN,SCODE,POKD16,MODE
  5885    564D 4C05      C
  5889    4E3A 46DD      C              dw RESET,ENDF
                         C      ;
  588D    02 49 46       C      CIF: db 2,'IF'
  5890    5876           C           dw CCODE
  5892    4727           C           dw RUNF
  5894    563D 4E61      C           dw PUSHN,BRCH0,MARK_S,ZERO
  5898    595D 637F      C
  589C    564D 46DD      C           dw POKD16,ENDF
                         C      ;
  58A0    04 45 4C 53    C      CELSE: db 4,'ELSE'
  58A4    45             C
  58A5    588D           C             dw CIF
  58A7    4727           C             dw RUNF
  58A9    563D 4E76      C             dw PUSHN,BRCH,MARK_S,ZERO
  58AD    595D 637F      C
  58B1    564D 5243      C             dw POKD16,SWAP,THEN,ENDF
  58B5    58C0 46DD      C
                         C      ;
  58B9    04 54 48 45    C      CTHEN: db 4,'THEN'
  58BD    4E             C
  58BE    58A0           C             dw CELSE
  58C0    4727           C      THEN:  dw RUNF
  58C2    56C1 5243      C             dw HERE,SWAP,POK16,ENDF
  58C6    4CE1 46DD      C
                         C      ;
  58CA    07 43 4F 4D    C      CCMPILE: db 7,'COMPILE'
  58CE    50 49 4C 45    C
  58D2    58B9           C               dw CTHEN
  58D4    4727           C      CMPILE:  dw RUNF
  58D6    563D 563D      C               dw PUSHN,PUSHN,POKD16,PESQ
  58DA    564D 5176      C
  58DE    564D 563D      C               dw POKD16,PUSHN,POKD16,POKD16
  58E2    564D 564D      C
  58E6    46DD           C               dw ENDF
                         C      ;
  58E8    09 5B 43 4F    C      CCMPL: db 9,'[COMPILE]'
  58EC    4D 50 49 4C    C
  58F0    45 5D          C
  58F2    58CA           C             dw CCMPILE
  58F4    4727           C             dw RUNF
  58F6    503E 4B18      C             dw BLANK,WORD,COMPILER,PEK16
  58FA    558B 4CEF      C
  58FE    4BB8 6352      C             dw SEARCH,NOT,BRCH0,CP1,POKD16
  5902    4E61 590C      C
  5906    564D           C
  5908    4E76 590E      C             dw BRCH,CP1+2
  590C    5F19 46DD      C      CP1:   dw QUESTION,ENDF
                         C      ;
  5910    01 5D          C      C_DEF:  db 1,']'
  5912    58E8           C              dw CCMPL
  5914    4727           C      _DEFIN: dw RUNF
  5916    563D 00C0      C              dw PUSHN,MSX_BEEP
  591A    55B2 4CE1      C              dw STATE,POK16,ENDF
  591E    46DD           C
                         C      ;
  5920    01 5B          C      CF_DEF:  db 1,'['
  5922    58E8           C               dw CCMPL
  5924    4727           C      F_DEFIN: dw RUNF
  5926    637F 55B2      C               dw ZERO,STATE,POK16,ENDF
  592A    4CE1 46DD      C
                         C      ;
  592E    04 43 4F 44    C      CCODI: db 4,'CODI'
  5932    49             C
  5933    5920           C             dw CF_DEF
  5935    4727           C             dw RUNF
  5937    563D 563D      C             dw PUSHN,PUSHN,POKD16
  593B    564D           C
  593D    503E 4B18      C             dw BLANK,WORD,HERE,MAIS1,PEK8
  5941    56C1 5950      C
  5945    4D2B           C
  5947    564D 46DD      C             dw POKD16,ENDF
                         C      ;
  594B    02 31 2B       C      CMAIS1: db 2,'1+'
  594E    57FA           C              dw CDISP
  5950    5952           C      MAIS1:  dw $+2
  5952    E1             C              pop hl
  5953    23             C              inc hl
  5954    C3 46F6        C              jp HPUSH
                         C      ;
  5957    03 44 4F 2C    C      CMARK_S: db 3,'DO,'
  595B    594B           C               dw CMAIS1
  595D    4727           C      MARK_S:  dw RUNF
  595F    564D 56C1      C               dw POKD16,HERE,ENDF
  5963    46DD           C
                         C      ;
                         C      ; INCLUI UM VALOR 8 BITS NO DICIONARIO
  5965    02 43 2C       C      CPOKD8: db 2,'C,'
  5968    5957           C              dw CMARK_S
  596A    596C           C      POKD8:  dw $+2
  596C    D1             C              pop de
  596D    2A 4268        C              ld hl,(PRECOMP)
  5970    73             C              ld (hl),e
  5971    23             C              inc hl
  5972    22 4268        C              ld (PRECOMP),hl
  5975    C3 46F7        C              jp NEXT
                         C      ;
  5978    04 4F 56 45    C      COVER: db 4,'OVER'
  597C    52             C
  597D    5965           C             dw CPOKD8
  597F    5981           C      OVER:  dw $+2
  5981    E1             C             pop hl
  5982    D1             C             pop de
  5983    D5             C             push de
  5984    EB             C             ex de,hl
  5985    C3 46F5        C             jp DPUSH
                         C      ;
  5988    02 43 52       C      CCR: db 2,'CR'
  598B    5978           C           dw COVER
  598D    598F           C      CR:  dw $+2
  598F    CD 46C7        C           call CRLF
  5992    C3 46F7        C           jp NEXT
                         C      ;
                         C         INCLUDE FORTHLNG.INC
                         C      ;
  5995    04 32 44 55    C      CDDUP:   db 4,'2DUP'
  5999    50             C
  599A    5EE4           C         dw CVARIAB
  599C    599E           C      DDUP:   dw $+2
  599E    E1             C         pop hl   ; MSB
  599F    D1             C         pop de   ; LSB
  59A0    D5             C         push de   ; LSB
  59A1    E5             C         push hl   ; MSB
  59A2    C3 46F5        C         jp DPUSH
                         C      ;
  59A5    02 44 3C       C      CDMENOR:db 2,'D<'
  59A8    5995           C         dw CDDUP
  59AA    59AC           C      DMENOR:   dw $+2
  59AC    DD 22 4341     C         ld (VAR3),ix
  59B0    DD 21 0008     C         ld ix,8
  59B4    DD 39          C         add ix,sp
  59B6    DD F9          C         ld sp,ix
  59B8    DD 5E FF       C         ld e,(ix-1)
  59BB    DD 56 FE       C         ld d,(ix-2)   ; LSB2
  59BE    DD 6E FB       C      DMENOR3:ld l,(ix-5)
  59C1    DD 66 FA       C         ld h,(ix-6)   ; LSB1
  59C4    AF             C      DMENOR2:xor a
  59C5    ED 52          C         sbc hl,de
  59C7    DD 5E FD       C         ld e,(ix-3)
  59CA    DD 56 FC       C         ld d,(ix-4)   ; LSB1
  59CD    DD 6E F9       C         ld l,(ix-7)
  59D0    DD 66 F8       C         ld h,(ix-8)   ; LSB2
  59D3    ED 52          C         sbc hl,de
  59D5    DD 2A 4341     C         ld ix,(VAR3)
  59D9    21 0000        C         ld hl,0
  59DC    F2 46F6        C         jp p,HPUSH
  59DF    2B             C         dec hl
  59E0    C3 46F6        C         jp HPUSH
                         C      ;
  59E3    02 44 3E       C      CDMAIOR: db 2,'D>'
  59E6    59A5           C               dw CDMENOR
  59E8    4727           C      DMAIOR:  dw RUNF
  59EA    5DC7 59AA      C               dw DSWAP,DMENOR,ENDF
  59EE    46DD           C
                         C      ;
  59F0    02 44 3D       C      CDIGU:   db 2,'D='
  59F3    59E3           C         dw CDMAIOR
  59F5    59F7           C      DIGU:   dw $+2
  59F7    DD 22 4341     C         ld (VAR3),ix
  59FB    DD 21 0008     C         ld ix,8
  59FF    DD 39          C         add ix,sp
  5A01    DD F9          C         ld sp,ix
  5A03    DD 5E FF       C         ld e,(ix-1)
  5A06    DD 56 FE       C         ld d,(ix-2)   ; LSB2
  5A09    DD 6E FB       C         ld l,(ix-5)
  5A0C    DD 66 FA       C         ld h,(ix-6)   ; LSB1
  5A0F    AF             C         xor a
  5A10    ED 52          C         sbc hl,de
  5A12    DD 56 FD       C         ld d,(ix-3)
  5A15    DD 5E FC       C         ld e,(ix-4)   ; LSB1
  5A18    DD 66 F9       C         ld h,(ix-7)
  5A1B    DD 6E F8       C         ld l,(ix-8)   ; LSB2
  5A1E    ED 52          C         sbc hl,de
  5A20    DD 2A 4341     C         ld ix,(VAR3)
  5A24    21 0000        C         ld hl,0
  5A27    C2 46F6        C         jp nz,HPUSH
  5A2A    2B             C         dec hl
  5A2B    C3 46F6        C         jp HPUSH
                         C      ;
  5A2E    03 44 3C 3E    C      CDDIF: db 3,'D<>'
  5A32    59F0           C             dw CDIGU
  5A34    4727           C             dw RUNF
  5A36    59F5 6352      C             dw DIGU,NOT,ENDF
  5A3A    46DD           C
                         C      ;
  5A3C    03 44 30 3C    C      CDMEN0:   db 3,'D0<'
  5A40    5A2E           C         dw CDDIF
  5A42    5A44           C         dw $+2
  5A44    E1             C         pop hl
  5A45    D1             C         pop de
  5A46    CB 7C          C         bit 7,h
  5A48    21 0000        C         ld hl,0
  5A4B    CA 46F6        C         jp z,HPUSH
  5A4E    2B             C         dec hl
  5A4F    C3 46F6        C         jp HPUSH
                         C      ;
  5A52    03 44 30 3D    C      CDIGU0:   db 3,'D0='
  5A56    5A3C           C         dw CDMEN0
  5A58    4727           C      DIGU0:   dw RUNF
  5A5A    632C 4852      C             dw OR,IGU0,ENDF
  5A5E    46DD           C
                         C      ;
  5A60    03 44 30 3E    C      CDMAI0:   db 3,'D0>'
  5A64    5A52           C         dw CDIGU0
  5A66    4727           C      DMAI0:   dw RUNF
  5A68    637F 637F      C             dw ZERO,ZERO,DMAIOR,ENDF
  5A6C    59E8 46DD      C
                         C      ;
  5A70    04 32 52 4F    C      CDROT:   db 4,'2ROT'
  5A74    54             C
  5A75    5A60           C         dw CDMAI0
  5A77    5A79           C      DROT:   dw $+2
  5A79    C5             C         push bc
  5A7A    DD 22 433D     C         ld (VAR1),ix
  5A7E    DD 21 000C     C         ld ix,12
  5A82    DD 39          C         add ix,sp
  5A84    DD 66 FF       C         ld h,(ix-1)
  5A87    DD 6E FE       C         ld l,(ix-2)
  5A8A    E5             C         push hl
  5A8B    DD 66 FD       C         ld h,(ix-3)
  5A8E    DD 6E FC       C         ld l,(ix-4)
  5A91    E5             C         push hl
  5A92    DD E5          C         push ix
  5A94    DD E5          C         push ix
  5A96    11 FFFB        C         ld de,-5
  5A99    DD 19          C         add ix,de
  5A9B    DD E5          C         push ix
  5A9D    E1             C         pop hl
  5A9E    DD E1          C         pop ix
  5AA0    D1             C         pop de
  5AA1    01 0008        C         ld bc,8
  5AA4    ED B0          C         ldir
  5AA6    E1             C         pop hl
  5AA7    DD 74 F7       C         ld (ix-9),h
  5AAA    DD 75 F6       C         ld (ix-10),l
  5AAD    E1             C         pop hl
  5AAE    DD 74 F5       C         ld (ix-11),h
  5AB1    DD 75 0C       C         ld (ix+12),l
  5AB4    DD 2A 433D     C         ld ix,(VAR1)
  5AB8    C1             C         pop bc
  5AB9    C3 46F7        C         jp NEXT
                         C      ;
  5ABC    05 32 44 52    C      CDDROP:   db 5,'2DROP'
  5AC0    4F 50          C
  5AC2    5A70           C         dw CDROT
  5AC4    5AC6           C      DDROP:   dw $+2
  5AC6    E1             C         pop hl
  5AC7    E1             C         pop hl
  5AC8    C3 46F7        C         jp NEXT
                         C      ;
  5ACB    05 32 52 41    C      CDRAND:   db 5,'2RAND'
  5ACF    4E 44          C
  5AD1    5ABC           C         dw CDDROP
  5AD3    5AD5           C         dw $+2
  5AD5    C5             C         push bc
  5AD6    2A 428C        C         ld hl,(SEMT)
  5AD9    ED 5B 428E     C         ld de,(SEMT+2)
  5ADD    06 08          C         ld b,8
  5ADF    7D             C      DRND1:   ld a,l
  5AE0    1F             C         rra
  5AE1    1F             C         rra
  5AE2    AC             C         xor h
  5AE3    1F             C         rra
  5AE4    1F             C         rra
  5AE5    CB 1C          C         rr h
  5AE7    CB 1D          C         rr l
  5AE9    7B             C         ld a,e
  5AEA    1F             C         rra
  5AEB    1F             C         rra
  5AEC    AA             C         xor d
  5AED    1F             C         rra
  5AEE    1F             C         rra
  5AEF    CB 1A          C         rr d
  5AF1    CB 1B          C         rr e
  5AF3    10 EA          C         djnz DRND1
  5AF5    22 428C        C         ld (SEMT),hl
  5AF8    ED 53 428E     C         ld (SEMT+2),de
  5AFC    C1             C         pop bc
  5AFD    C3 46F5        C         jp DPUSH
                         C      ;
  5B00    05 32 52 4F    C      CDROLL:   db 5,'2ROLL'
  5B04    4C 4C          C
  5B06    5ACB           C         dw CDRAND
  5B08    5B0A           C         dw $+2
  5B0A    D9             C         exx
  5B0B    DD 22 433D     C         ld (VAR1),ix
  5B0F    DD E1          C         pop ix
  5B11    DD 29          C         add ix,ix
  5B13    DD 29          C         add ix,ix
  5B15    DD E5          C         push ix      ; TAM. DESL.
  5B17    DD 39          C         add ix,sp
  5B19    DD 2B          C         dec ix
  5B1B    DD E5          C         push ix
  5B1D    DD E5          C         push ix
  5B1F    DD 46 00       C         ld b,(ix+0)   ; MSB do MSB
  5B22    DD 4E FF       C         ld c,(ix-1)   ; LSB do MSB
  5B25    DD 66 FE       C         ld h,(ix-2)   ; MSB do LSB
  5B28    DD 6E FD       C         ld l,(ix-3)   ; LSB do LSB
  5B2B    ED 43 433F     C         ld (VAR2),bc
  5B2F    22 4341        C         ld (VAR3),hl
  5B32    D1             C         pop de
  5B33    E1             C         pop hl
  5B34    01 0004        C         ld bc,4
  5B37    09             C         add hl,bc
  5B38    C1             C         pop bc
  5B39    ED B8          C         lddr
  5B3B    ED 4B 433F     C         ld bc,(VAR2)
  5B3F    2A 4341        C         ld hl,(VAR3)
  5B42    DD 70 F7       C         ld (ix-9),b
  5B45    DD 71 F6       C         ld (ix-10),c
  5B48    DD 74 F5       C         ld (ix-11),h
  5B4B    DD 75 F4       C         ld (ix-12),l
  5B4E    DD 2A 433D     C         ld ix,(VAR1)
  5B52    C3 4B5F        C         jp RG
                         C      ;
  5B55    03 44 3C 3C    C      CDSLA:   db 3,'D<<'
  5B59    5B00           C         dw CDROLL
  5B5B    5B5D           C         dw $+2
  5B5D    D9             C         exx
  5B5E    C1             C         pop bc
  5B5F    E1             C         pop hl
  5B60    D1             C         pop de
  5B61    41             C         ld b,c
  5B62    CB 23          C      DSLA1:   sla e
  5B64    CB 12          C         rl d
  5B66    CB 15          C         rl l
  5B68    CB 14          C         rl h
  5B6A    10 F6          C         djnz DSLA1
  5B6C    D5             C         push de
  5B6D    E5             C         push hl
  5B6E    D9             C         exx
  5B6F    C3 46F7        C         jp NEXT
                         C      ;
  5B72    03 44 3E 3E    C      CDSRA:   db 3,'D>>'
  5B76    5B55           C         dw CDSLA
  5B78    5B7A           C         dw $+2
  5B7A    D9             C         exx
  5B7B    C1             C         pop bc
  5B7C    E1             C         pop hl
  5B7D    D1             C         pop de
  5B7E    41             C         ld b,c
  5B7F    CB 3C          C      DSRA1:   srl h
  5B81    CB 1D          C         rr l
  5B83    CB 1A          C         rr d
  5B85    CB 1B          C         rr e
  5B87    10 F6          C         djnz DSRA1
  5B89    D5             C         push de
  5B8A    E5             C         push hl
  5B8B    D9             C         exx
  5B8C    C3 46F7        C         jp NEXT
                         C      ;
  5B8F    5B91           C      DB_LOOP:dw $+2
  5B91    E1             C         pop hl
  5B92    DD 75 F8       C         ld (ix-8),l
  5B95    DD 74 F9       C         ld (ix-7),h
  5B98    E1             C         pop hl
  5B99    DD 75 FA       C         ld (ix-6),l
  5B9C    DD 74 FB       C         ld (ix-5),h
  5B9F    E1             C         pop hl
  5BA0    DD 75 FC       C         ld (ix-4),l
  5BA3    DD 74 FD       C         ld (ix-3),h
  5BA6    E1             C         pop hl
  5BA7    DD 75 FE       C         ld (ix-2),l
  5BAA    DD 74 FF       C         ld (ix-1),h
  5BAD    11 FFF8        C         ld de,-8
  5BB0    DD 19          C         add ix,de
  5BB2    C3 46F7        C         jp NEXT
                         C      ;
  5BB5    5BB7           C      DLEAVE:   dw $+2
  5BB7    DD 7E 00       C         ld a,(ix+0)
  5BBA    DD 77 04       C         ld (ix+4),a
  5BBD    DD 7E 01       C         ld a,(ix+1)
  5BC0    DD 77 05       C         ld (ix+5),a
  5BC3    DD 7E 02       C         ld a,(ix+2)
  5BC6    DD 77 06       C         ld (ix+6),a
  5BC9    DD 7E 03       C         ld a,(ix+3)
  5BCC    DD 77 07       C         ld (ix+7),a
  5BCF    C3 46F7        C         jp NEXT
                         C      ;
  5BD2    5BD4           C      DS_LOOP:dw $+2
  5BD4    E1             C         pop hl
  5BD5    D1             C         pop de
  5BD6    18 08          C         jr DLOOP1
                         C      ;
  5BD8    5BDA           C      DLOOP:   dw $+2
  5BDA    21 0000        C         ld hl,0
  5BDD    11 0001        C         ld de,1
  5BE0    C5             C      DLOOP1:   push bc
  5BE1    E5             C         push hl
  5BE2    CB 14          C         rl h
  5BE4    08             C         ex af,af'
  5BE5    DD 6E 02       C         ld l,(ix+2)
  5BE8    DD 66 03       C         ld h,(ix+3)
  5BEB    19             C         add hl,de
  5BEC    DD 75 02       C         ld (ix+2),l
  5BEF    DD 74 03       C         ld (ix+3),h
  5BF2    EB             C         ex de,hl
  5BF3    E1             C         pop hl
  5BF4    D5             C         push de
  5BF5    DD 5E 00       C         ld e,(ix+0)
  5BF8    DD 56 01       C         ld d,(ix+1)
  5BFB    ED 5A          C         adc hl,de
  5BFD    DD 75 00       C         ld (ix+0),l
  5C00    DD 74 01       C         ld (ix+1),h
  5C03    44             C         ld b,h
  5C04    4D             C         ld c,l
  5C05    D1             C         pop de
  5C06    DD 6E 06       C         ld l,(ix+6)
  5C09    DD 66 07       C         ld h,(ix+7)
  5C0C    08             C         ex af,af'
  5C0D    38 12          C         jr c,DLOOP3
  5C0F    AF             C         xor a
  5C10    EB             C         ex de,hl
  5C11    ED 52          C         sbc hl,de
  5C13    DD 6E 04       C         ld l,(ix+4)
  5C16    DD 66 05       C         ld h,(ix+5)
  5C19    C5             C         push bc
  5C1A    E5             C         push hl
  5C1B    C1             C         pop bc
  5C1C    E1             C         pop hl
  5C1D    ED 42          C         sbc hl,bc
  5C1F    18 0B          C         jr DLOOP4
  5C21    AF             C      DLOOP3:   xor a
  5C22    ED 52          C         sbc hl,de
  5C24    DD 6E 04       C         ld l,(ix+4)
  5C27    DD 66 05       C         ld h,(ix+5)
  5C2A    ED 42          C         sbc hl,bc
  5C2C    C1             C      DLOOP4:   pop bc
  5C2D    FA 4E78        C         jp m,BRCH+2
  5C30    11 0008        C         ld de,8
  5C33    DD 19          C         add ix,de
  5C35    03             C         inc bc
  5C36    03             C         inc bc
  5C37    C3 46F7        C         jp NEXT
                         C      ;
  5C3A    02 32 21       C      CPOK32:   db 2,'2!'
  5C3D    5B72           C         dw CDSRA
  5C3F    5C41           C      POK32:   dw $+2
  5C41    DD 22 433D     C         ld (VAR1),ix
  5C45    DD E1          C         pop ix
  5C47    E1             C         pop hl      ; MSB
  5C48    D1             C         pop de      ; LSB
  5C49    DD 75 00       C         ld (ix+0),l
  5C4C    DD 74 01       C         ld (ix+1),h
  5C4F    DD 73 02       C         ld (ix+2),e
  5C52    DD 72 03       C         ld (ix+3),d
  5C55    DD 2A 433D     C         ld ix,(VAR1)
  5C59    C3 46F7        C         jp NEXT
                         C      ;
  5C5C    02 32 40       C      CPEK32:   db 2,'2@'
  5C5F    5C3A           C         dw CPOK32
  5C61    5C63           C      PEK32:   dw $+2
  5C63    E1             C         pop hl
  5C64    5E             C         ld e,(hl)
  5C65    23             C         inc hl
  5C66    56             C         ld d,(hl)
  5C67    23             C         inc hl
  5C68    D5             C         push de
  5C69    5E             C         ld e,(hl)
  5C6A    23             C         inc hl
  5C6B    56             C         ld d,(hl)
  5C6C    EB             C         ex de,hl
  5C6D    E3             C         ex (sp),hl
  5C6E    C3 46F6        C         jp HPUSH
                         C      ;
  5C71    03 44 3E 52    C      CDINRP:   db 3,'D>R'
  5C75    5C5C           C         dw CPEK32
  5C77    5C79           C      DINRP:   dw $+2
  5C79    E1             C         pop hl      ; MSB
  5C7A    D1             C         pop de      ; LSB
  5C7B    DD 2B          C         dec ix
  5C7D    DD 73 00       C         ld (ix+0),e
  5C80    DD 2B          C         dec ix
  5C82    DD 72 00       C         ld (ix+0),d
  5C85    DD 2B          C         dec ix
  5C87    DD 74 00       C         ld (ix+0),h
  5C8A    DD 2B          C         dec ix
  5C8C    DD 75 00       C         ld (ix+0),l
  5C8F    C3 46F7        C         jp NEXT
                         C      ;
  5C92    03 44 52 3E    C      CDOUTRP:db 3,'DR>'
  5C96    5C71           C         dw CDINRP
  5C98    5C9A           C      DOUTRP:   dw $+2
  5C9A    DD 6E 00       C         ld l,(ix+0)   ; LSB
  5C9D    DD 23          C         inc ix
  5C9F    DD 66 00       C         ld h,(ix+0)
  5CA2    DD 23          C         inc ix
  5CA4    DD 5E 00       C         ld e,(ix+0)   ; MSB
  5CA7    DD 23          C         inc ix
  5CA9    DD 56 00       C         ld d,(ix+0)
  5CAC    DD 23          C         inc ix
  5CAE    C3 46F5        C         jp DPUSH
                         C      ;
  5CB1    02 32 52       C      CDLERP:   db 2,'2R'
  5CB4    5C92           C         dw CDOUTRP
  5CB6    5CB8           C      DLERP:   dw $+2
  5CB8    DD 6E 00       C         ld l,(ix+0)
  5CBB    DD 66 01       C         ld h,(ix+1)
  5CBE    DD 5E 02       C         ld e,(ix+2)
  5CC1    DD 56 03       C         ld d,(ix+3)
  5CC4    C3 46F5        C         jp DPUSH
                         C      ;
  5CC7    02 32 49       C      CCNT32:   db 2,'2I'
  5CCA    5CB1           C         dw CDLERP
  5CCC    5CCE           C         dw $+2
  5CCE    DD 6E 00       C         ld l,(ix+0)
  5CD1    DD 66 01       C         ld h,(ix+1)
  5CD4    DD 5E 02       C         ld e,(ix+2)
  5CD7    DD 56 03       C         ld d,(ix+3)
  5CDA    C3 46F5        C         jp DPUSH
                         C      ;
  5CDD    05 44 30 53    C      CDRESET:db 5,'D0SET'
  5CE1    45 54          C
  5CE3    5CC7           C         dw CCNT32
  5CE5    5CE7           C      DRESET:   dw $+2
  5CE7    E1             C         pop hl
  5CE8    36 00          C         ld (hl),0
  5CEA    23             C         inc hl
  5CEB    36 00          C         ld (hl),0
  5CED    23             C         inc hl
  5CEE    36 00          C         ld (hl),0
  5CF0    23             C         inc hl
  5CF1    36 00          C         ld (hl),0
  5CF3    C3 46F7        C         jp NEXT
                         C      ;
  5CF6    05 44 31 53    C      CDSET:   db 5,'D1SET'
  5CFA    45 54          C
  5CFC    5CDD           C         dw CDRESET
  5CFE    5D00           C      DSET:   dw $+2
  5D00    E1             C         pop hl
  5D01    36 FF          C         ld (hl),-1
  5D03    23             C         inc hl
  5D04    36 FF          C         ld (hl),-1
  5D06    23             C         inc hl
  5D07    36 FF          C         ld (hl),-1
  5D09    23             C         inc hl
  5D0A    36 FF          C         ld (hl),-1
  5D0C    C3 46F7        C         jp NEXT
                         C      ;
  5D0F    02 44 2A       C      CDVEZES:db 2,'D*'
  5D12    5CF6           C         dw CDSET
  5D14    5D16           C      DVEZES:   dw $+2
  5D16    D1             C         pop de
  5D17    7B             C         ld a,e
  5D18    E1             C         pop hl
  5D19    22 433F        C         ld (VAR2),hl
  5D1C    E1             C         pop hl
  5D1D    C5             C         push bc
  5D1E    11 0000        C         ld de,0
  5D21    ED 53 433D     C         ld (VAR1),de
  5D25    CB 3F          C      DVEZ1:   srl a
  5D27    30 10          C         jr nc,DVEZ2
  5D29    E5             C         push hl
  5D2A    19             C         add hl,de
  5D2B    EB             C         ex de,hl
  5D2C    ED 4B 433D     C         ld bc,(VAR1)
  5D30    2A 433F        C         ld hl,(VAR2)
  5D33    ED 4A          C         adc hl,bc
  5D35    22 433D        C         ld (VAR1),hl
  5D38    E1             C         pop hl
  5D39    A7             C      DVEZ2:   and a
  5D3A    28 0D          C         jr z,DVEZ3
  5D3C    29             C         add hl,hl
  5D3D    E5             C         push hl
  5D3E    2A 433F        C         ld hl,(VAR2)
  5D41    ED 6A          C         adc hl,hl
  5D43    22 433F        C         ld (VAR2),hl
  5D46    E1             C         pop hl
  5D47    18 DC          C         jr DVEZ1
  5D49    2A 433D        C      DVEZ3:   ld hl,(VAR1)
  5D4C    C1             C         pop bc
  5D4D    C3 46F5        C         jp DPUSH
                         C      ;
  5D50    02 44 2B       C      CDMAIS:   db 2,'D+'
  5D53    5D0F           C         dw CDVEZES
  5D55    5D57           C      DMAIS:   dw $+2
  5D57    21 0006        C         ld hl,6
  5D5A    39             C         add hl,sp
  5D5B    5E             C         ld e,(hl)
  5D5C    71             C         ld (hl),c
  5D5D    23             C         inc hl
  5D5E    56             C         ld d,(hl)
  5D5F    70             C         ld (hl),b
  5D60    C1             C         pop bc
  5D61    E1             C         pop hl
  5D62    19             C         add hl,de
  5D63    EB             C         ex de,hl
  5D64    E1             C         pop hl
  5D65    7D             C         ld a,l
  5D66    89             C         adc a,c
  5D67    6F             C         ld l,a
  5D68    7C             C         ld a,h
  5D69    88             C         adc a,b
  5D6A    67             C         ld h,a
  5D6B    C1             C         pop bc
  5D6C    C3 46F5        C         jp DPUSH
                         C      ;
  5D6F    02 44 2D       C      CDMENOS:db 2,'D-'
  5D72    5D50           C         dw CDMAIS
  5D74    5D76           C      DMENOS:   dw $+2
  5D76    21 0006        C         ld hl,6
  5D79    39             C         add hl,sp
  5D7A    5E             C         ld e,(hl)
  5D7B    71             C         ld (hl),c
  5D7C    23             C         inc hl
  5D7D    56             C         ld d,(hl)
  5D7E    70             C         ld (hl),b
  5D7F    C1             C         pop bc
  5D80    E1             C         pop hl
  5D81    EB             C         ex de,hl
  5D82    AF             C         xor a
  5D83    ED 52          C         sbc hl,de
  5D85    EB             C         ex de,hl
  5D86    E1             C         pop hl
  5D87    7D             C         ld a,l
  5D88    99             C         sbc a,c
  5D89    6F             C         ld l,a
  5D8A    7C             C         ld a,h
  5D8B    98             C         sbc a,b
  5D8C    67             C         ld h,a
  5D8D    C1             C         pop bc
  5D8E    C3 46F5        C         jp DPUSH
                         C      ;
  5D91    02 32 4A       C      CDJ:   db 2,'2J'
  5D94    5D6F           C         dw CDMENOS
  5D96    5D98           C         dw $+2
  5D98    DD 5E 08       C         ld e,(ix+8)
  5D9B    DD 56 09       C         ld d,(ix+9)
  5D9E    DD 6E 0A       C         ld l,(ix+10)
  5DA1    DD 66 0B       C         ld h,(ix+11)
  5DA4    C3 46F5        C         jp DPUSH
                         C      ;
  5DA7    05 32 50 49    C      CDPICK:   db 5,'2PICK'
  5DAB    43 4B          C
  5DAD    5D91           C         dw CDJ
  5DAF    4727           C         dw RUNF
  5DB1    62D4 563D      C             dw MENOS1,PUSHN,4,VEZES
  5DB5    0004 4FA2      C
  5DB9    5209 5C61      C         dw MAISP,PEK32,ENDF
  5DBD    46DD           C
                         C      ;
  5DBF    05 32 53 57    C      CDSWAP:   db 5,'2SWAP'
  5DC3    41 50          C
  5DC5    5DA7           C         dw CDPICK
  5DC7    5DC9           C      DSWAP:   dw $+2
  5DC9    E1             C         pop hl   ; MSB1
  5DCA    D1             C         pop de   ; LSB1
  5DCB    D9             C         exx
  5DCC    E1             C         pop hl   ; MSB2
  5DCD    D1             C         pop de   ; LSB2
  5DCE    D9             C         exx
  5DCF    D5             C         push de   ; LSB1
  5DD0    E5             C         push hl   ; MSB1
  5DD1    D9             C         exx
  5DD2    D5             C         push de   ; LSB2
  5DD3    E5             C         push hl ; MSB2
  5DD4    C3 4B5F        C         jp RG
                         C      ;
  5DD7    03 44 2B 21    C      CDSOMEM:db 3,'D+!'
  5DDB    5DBF           C         dw CDSWAP
  5DDD    5DDF           C      DSOMEM:   dw $+2
  5DDF    E1             C         pop hl
  5DE0    D1             C         pop de
  5DE1    E3             C         ex (sp),hl
  5DE2    7E             C         ld a,(hl)
  5DE3    83             C         add a,e
  5DE4    77             C         ld (hl),a
  5DE5    23             C         inc hl
  5DE6    7E             C         ld a,(hl)
  5DE7    8A             C         adc a,d
  5DE8    77             C         ld (hl),a
  5DE9    23             C         inc hl
  5DEA    D1             C         pop de
  5DEB    7E             C         ld a,(hl)
  5DEC    8B             C         adc a,e
  5DED    77             C         ld (hl),a
  5DEE    23             C         inc hl
  5DEF    7E             C         ld a,(hl)
  5DF0    8A             C         adc a,d
  5DF1    77             C         ld (hl),a
  5DF2    C3 46F7        C         jp NEXT
                         C      ;
  5DF5    06 2B 32 4C    C      CDPASSO:db 6,'+2LOOP'
  5DF9    4F 4F 50       C
  5DFC    592E           C         dw CCODI
  5DFE    4727           C         dw RUNF
  5E00    563D 5BD2      C             dw PUSHN,DS_LOOP,MARK_E,ENDF
  5E04    4E1C 46DD      C
                         C      ;
  5E08    06 32 4C 45    C      CDLEAVE:db 6,'2LEAVE'
  5E0C    41 56 45       C
  5E0F    5DF5           C         dw CDPASSO
  5E11    4727           C         dw RUNF
  5E13    563D 5BB5      C             dw PUSHN,DLEAVE,POKD16,ENDF
  5E17    564D 46DD      C
                         C      ;
  5E1B    03 32 44 4F    C      CDDO:   db 3,'2DO'
  5E1F    5E08           C         dw CDLEAVE
  5E21    4727           C         dw RUNF
  5E23    563D 5B8F      C             dw PUSHN,DB_LOOP,MARK_S,ENDF
  5E27    595D 46DD      C
                         C      ;
  5E2B    05 32 4C 4F    C      CDLOOP:   db 5,'2LOOP'
  5E2F    4F 50          C
  5E31    5E1B           C         dw CDDO
  5E33    4727           C         dw RUNF
  5E35    563D 5BD8      C             dw PUSHN,DLOOP,MARK_E,ENDF
  5E39    4E1C 46DD      C
                         C      ;
  5E3D    05 32 4F 56    C      CDOVER:   db 5,'2OVER'
  5E41    45 52          C
  5E43    5DD7           C         dw CDSOMEM
  5E45    5E47           C      DOVER:   dw $+2
  5E47    E1             C         pop hl
  5E48    D1             C         pop de
  5E49    D5             C         push de
  5E4A    EB             C         ex de,hl
  5E4B    C3 46F5        C         jp DPUSH
                         C      ;
  5E4E    09 32 43 4F    C      CDCONST:db 9,'2CONSTANT'
  5E52    4E 53 54 41    C
  5E56    4E 54          C
  5E58    5E3D           C         dw CDOVER
  5E5A    4727           C      DCONST:   dw RUNF
  5E5C    570F 5679      C             dw CREATE,POKD32,SCODE
  5E60    5EAF           C
  5E62    EB             C         ex de,hl
  5E63    11 0003        C         ld de,3
  5E66    19             C         add hl,de
  5E67    56             C         ld d,(hl)
  5E68    2B             C         dec hl
  5E69    5E             C         ld e,(hl)
  5E6A    2B             C         dec hl
  5E6B    D5             C         push de
  5E6C    56             C         ld d,(hl)
  5E6D    2B             C         dec hl
  5E6E    5E             C         ld e,(hl)
  5E6F    D5             C         push de
  5E70    C3 46F7        C         jp NEXT
                         C      ;
  5E73    04 32 56 41    C      CDVAR:   db 4,'2VAR'
  5E77    52             C
  5E78    5E4E           C         dw CDCONST
  5E7A    4727           C      DVAR:   dw RUNF
  5E7C    5E5A 5EAF      C             dw DCONST,SCODE
  5E80    D5             C         push de
  5E81    C3 46F7        C         jp NEXT
                         C      ;
  5E84    09 32 56 41    C      CDVARIAB:db 9,'2VARIABLE'
  5E88    52 49 41 42    C
  5E8C    4C 45          C
  5E8E    5E73           C         dw CDVAR
  5E90    4727           C      DVARIAB:dw RUNF
  5E92    637F 637F      C             dw ZERO,ZERO,DVAR,ENDF
  5E96    5E7A 46DD      C
                         C      ;
  5E9A    02 44 2F       C      CDDIV:   db 2,'D/'
  5E9D    5E84           C         dw CDVARIAB
  5E9F    4727           C      DDIV:   dw RUNF
  5EA1    4FF3 5AC4      C             dw DMOD,DDROP,ENDF
  5EA5    46DD           C
                         C      ;
                         C         INCLUDE FORTHDIC.IN2
                         C      ;
  5EA7    05 53 43 4F    C      CSCODE: db 5,'SCODE'
  5EAB    44 45          C
  5EAD    5988           C              dw CCR
  5EAF    4727           C      SCODE:  dw RUNF
  5EB1    4DE7 577C      C              dw OUTRP,ULTIMA,POK16,ENDF
  5EB5    4CE1 46DD      C
                         C      ;
                         C      ; : CONSTANT CREATE , ;CODE ...
  5EB9    08 43 4F 4E    C      CCONST: db 8,'CONSTANT'
  5EBD    53 54 41 4E    C
  5EC1    54             C
  5EC2    5EA7           C              dw CSCODE
  5EC4    4727           C      CONST:  dw RUNF
  5EC6    570F 564D      C              dw CREATE,POKD16,SCODE
  5ECA    5EAF           C
  5ECC    EB             C      _CONST: ex de,hl
  5ECD    5E             C              ld e,(hl)
  5ECE    23             C              inc hl
  5ECF    56             C              ld d,(hl)
  5ED0    D5             C              push de
  5ED1    C3 46F7        C              jp NEXT
                         C      ;
  5ED4    03 56 41 52    C      CVAR: db 3,'VAR'
  5ED8    5EB9           C            dw CCONST
  5EDA    4727           C      VAR:  dw RUNF
  5EDC    5EC4 5EAF      C            dw CONST,SCODE
  5EE0    D5             C      _VAR: push de
  5EE1    C3 46F7        C            jp NEXT
                         C      ;
  5EE4    08 56 41 52    C      CVARIAB: db 8,'VARIABLE'
  5EE8    49 41 42 4C    C
  5EEC    45             C
  5EED    5ED4           C               dw CVAR
  5EEF    4727           C      VARIAB:  dw RUNF
  5EF1    637F 5EDA      C               dw ZERO,VAR,ENDF
  5EF5    46DD           C
                         C      ;
  5EF7    06 3F 45 52    C      CISERR:  db 6,'?ERROR'
  5EFB    52 4F 52       C
  5EFE    5E9A           C               dw CDDIV   ;CVARIAB
  5F00    4727           C      ISERROR: dw RUNF
  5F02    5243 4E61      C               dw SWAP,BRCH0,ISER1,QUESTION
  5F06    5F0A 5F19      C
  5F0A    4883 46DD      C      ISER1:   dw DROP,ENDF
                         C      ;
  5F0E    08 51 55 45    C      CQUESTION: db 8,'QUESTION'
  5F12    53 54 49 4F    C
  5F16    4E             C
  5F17    5EF7           C                 dw CISERR
  5F19    5F1B           C      QUESTION:  dw $+2
  5F1B    CD 46C7        C                 call CRLF
  5F1E    2A 4268        C                 ld hl,(PRECOMP)
  5F21    CD 46D1        C                 call IMM
  5F24    3E 20          C                 ld a,' '
  5F26    CD 44E2        C                 call VIDEO
  5F29    3E 3F          C                 ld a,'?'
  5F2B    CD 44E2        C                 call VIDEO
  5F2E    CD 46C7        C      Q2:        call CRLF
  5F31    CD 46C7        C                 call CRLF
  5F34    3A 4258        C                 ld a,(PMOD)
  5F37    A7             C                 and a
  5F38    CA 4782        C                 jp z,SCANBUF
                         C                 ; REPOE PRECOMP COM A POSICAO DE MEMORIA LIVRE ANTES DA
                         C                 ; TENTATIVA DE COMPILACAO DA PALAVRA ATUAL
  5F3B    2A 425E        C                 ld hl,(PUPDC)
  5F3E    5E             C                 ld e,(hl)
  5F3F    23             C                 inc hl
  5F40    56             C                 ld d,(hl)
  5F41    EB             C                 ex de,hl
  5F42    22 4268        C                 ld (PRECOMP),hl
  5F45    7E             C                 ld a,(hl)
  5F46    85             C                 add a,l
  5F47    6F             C                 ld l,a
  5F48    30 01          C                 jr nc,Q1
  5F4A    24             C                 inc h
  5F4B    23             C      Q1:        inc hl
  5F4C    23             C                 inc hl
  5F4D    7E             C                 ld a,(hl)
  5F4E    12             C                 ld (de),a
  5F4F    2B             C                 dec hl
  5F50    1B             C                 dec de
  5F51    7E             C                 ld a,(hl)
  5F52    12             C                 ld (de),a
  5F53    C3 4782        C                 jp SCANBUF
                         C      ;
  5F56    0C 20 50 49    C      PVZ: db 12,' PILHA VAZIA'
  5F5A    4C 48 41 20    C
  5F5E    56 41 5A 49    C
  5F62    41             C
                         C      ;
  5F63    5F65           C      VZ: dw $+2
  5F65    E1             C          pop hl
  5F66    29             C          add hl,hl
  5F67    EB             C          ex de,hl
  5F68    2A 424A        C          ld hl,(PPP)
  5F6B    AF             C          xor a
  5F6C    ED 52          C          sbc hl,de
  5F6E    A7             C          and a
  5F6F    ED 72          C          sbc hl,sp
  5F71    D2 46F7        C          jp nc,NEXT
  5F74    CD 00C0        C          call MSX_BEEP
  5F77    21 5F56        C          ld hl,PVZ
  5F7A    CD 46D1        C          call IMM
  5F7D    C3 5F2E        C          jp Q2
                         C      ;
                         C
  5F80    12 07 20 44    C      PZRDIV: db 18,07H,' DIVISAO POR ZERO'
  5F84    49 56 49 53    C
  5F88    41 4F 20 50    C
  5F8C    4F 52 20 5A    C
  5F90    45 52 4F       C
                         C      ;
  5F93    5F95           C      ZRDIV: dw $+2
  5F95    21 5F80        C             ld hl,PZRDIV
  5F98    CD 46D1        C             call IMM
  5F9B    C3 5F2E        C             jp Q2
                         C
  5F9E    05 4F 55 54    C      COUTIN: db 5,'OUTIN'
  5FA2    49 4E          C
  5FA4    5F0E           C              dw CQUESTION
  5FA6    4727           C      OUTIN:  dw RUNF
  5FA8    503E 4B18      C              dw BLANK,WORD,ISEARCH,BRCH0
  5FAC    55C4 4E61      C
  5FB0    5FC6 5602      C              dw OU1,INUMBER,IGU0,BRCH0,OU2
  5FB4    4852 4E61      C
  5FB8    5FCC           C
  5FBA    4E0D 4CEF      C      OU4:    dw FWORD,PEK16,BRCH0,OU2+2,BRCH
  5FBE    4E61 5FCE      C
  5FC2    4E76           C
  5FC4    5FA8           C              dw OUTIN+2
  5FC6    57DA 4E76      C      OU1:    dw IEXEC,BRCH,OU4
  5FCA    5FBA           C
  5FCC    5F19 4C05      C      OU2:    dw QUESTION,MODE,PEK16,IGU0,BRCH0,OU3,OK
  5FD0    4CEF 4852      C
  5FD4    4E61 5FDA      C
  5FD8    44C4           C
  5FDA    46DD           C      OU3:    dw ENDF
                         C      ;
  5FDC    08 2B 50 52    C      CSET_PRN: db 8,'+PRINTER'
  5FE0    49 4E 54 45    C
  5FE4    52             C
  5FE5    5F9E           C                dw COUTIN
  5FE7    5FE9           C                dw $+2
  5FE9    3E FF          C                ld a,-1
  5FEB    32 429A        C                ld (LST),a
  5FEE    C3 46F7        C                jp NEXT
                         C      ;
  5FF1    08 2D 50 52    C      CRST_PRN: db 8,'-PRINTER'
  5FF5    49 4E 54 45    C
  5FF9    52             C
  5FFA    5FDC           C                dw CSET_PRN
  5FFC    5FFE           C                dw $+2
  5FFE    AF             C                xor a
  5FFF    32 429A        C                ld (LST),a
  6002    C3 46F7        C                jp NEXT
                         C      ;
  6005    07 2B 53 43    C      CSET_SCR: db 7,'+SCRMOD'
  6009    52 4D 4F 44    C
  600D    5FF1           C                dw CRST_PRN
  600F    6011           C                dw $+2
  6011    3E FF          C                ld a,-1
  6013    32 429B        C                ld (CONS),a
  6016    C3 46F7        C                jp NEXT
                         C      ;
  6019    07 2D 53 43    C      CRST_SCR: db 7,'-SCRMOD'
  601D    52 4D 4F 44    C
  6021    6005           C                dw CSET_SCR
  6023    6025           C                dw $+2
  6025    AF             C                xor a
  6026    32 429B        C                ld (CONS),a
  6029    C3 46F7        C                jp NEXT
                         C      ;
  602C    04 4C 49 53    C      CLIST: db 4,'LIST'
  6030    54             C
  6031    5FF1           C             dw CRST_PRN
  6033    4727           C             dw RUNF
  6035    47BF 47BF      C             dw DUP,DUP,PEK8,MAIS,MAIS1
  6039    4D2B 4FD5      C
  603D    5950           C
  603F    5243 5950      C             dw SWAP,MAIS1,CR,B_LOOP
  6043    598D 4C39      C
  6047    4E28 4D2B      C      LIST1: dw LELOOP,PEK8,EMIT,LOOP,LIST1
  604B    48BA 4C67      C
  604F    6047           C
  6051    598D 46DD      C             dw CR,ENDF
                         C      ;
  6055    04 4C 4F 41    C      CLOAD: db 4,'LOAD'
  6059    44             C
  605A    602C           C             dw CLIST
  605C    4727           C             dw RUNF
  605E    5950 49B4      C             dw MAIS1,LBP,POK16,ONE,FWORD
  6062    4CE1 638D      C
  6066    4E0D           C
  6068    4CE1 5FA6      C             dw POK16,OUTIN,ENDF
  606C    46DD           C
                         C      ;
  606E    06 49 4E 54    C      CINTXT: db 6,'INTEXT'
  6072    45 58 54       C
  6075    6055           C              dw CLOAD
  6077    4727           C              dw RUNF
  6079    598D 49EF      C              dw CR,EXPECT,ENDF
  607D    46DD           C
                         C      ;
  607F    06 42 55 46    C      CBUFFER: db 6,'BUFFER'
  6083    46 45 52       C
  6086    606E           C               dw CINTXT
  6088    4727           C               dw RUNF
  608A    51DA 47BF      C               dw BUILDS,DUP,DUP,POKD16
  608E    47BF 564D      C
  6092    63BB 51A8      C               dw ALLOT,DOES,DUP,PEK16,SWAP
  6096    47BF 4CEF      C
  609A    5243           C
  609C    56FE 5243      C               dw MAIS2,SWAP,ENDF
  60A0    46DD           C
                         C      ;
  60A2    08 49 4E 42    C      CINBUFF: db 8,'INBUFFER'
  60A6    55 46 46 45    C
  60AA    52             C
  60AB    607F           C               dw CBUFFER
  60AD    4727           C               dw RUNF
  60AF    598D 49EF      C               dw CR,EXPECT,ENDF
  60B3    46DD           C
                         C      ;
  60B5    06 46 4F 52    C      CFORGET: db 6,'FORGET'
  60B9    47 45 54       C
  60BC    60A2           C               dw CINBUFF
  60BE    4727           C               dw RUNF
  60C0    5578 4CEF      C               dw CURRENT,PEK16,CONTEXT
  60C4    5566           C
  60C6    4CE1 5176      C               dw POK16,PESQ,DUP,MENOS2,PEK16
  60CA    47BF 62E0      C
  60CE    4CEF           C
  60D0    5578 4CEF      C               dw CURRENT,PEK16,POK16,DP,PEK16
  60D4    4CE1 56B2      C
  60D8    4CEF           C
  60DA    4D2B 63AB      C               dw PEK8,THREE,MAIS,MENOS,DP,POK16
  60DE    4FD5 4FE1      C
  60E2    56B2 4CE1      C
  60E6    563D 46DD      C               dw PUSHN,ENDF,PUSHN,FAR,POK16,ENDF
  60EA    563D 426A      C
  60EE    4CE1 46DD      C
                         C      ;
                         C      ; TRANSFORMA A ULTIMA PALAVRA INCLUIDA NO DICIONARIO
                         C      ; EM COMANDO DE COMPILACAO (USADO ENTRE ":" E ";"
  60F2    09 49 4D 4D    C      CIMMEDIATE: db 9,'IMMEDIATE'
  60F6    45 44 49 41    C
  60FA    54 45          C
  60FC    60B5           C                  dw CFORGET
  60FE    4727           C                  dw RUNF
  6100    5696 47BF      C                  dw ENTRY,DUP,DUP,PEK8,MAIS1
  6104    47BF 4D2B      C
  6108    5950           C
  610A    4FD5 47BF      C                  dw MAIS,DUP,PEK16,CURRENT
  610E    4CEF 5578      C
  6112    4CEF 4CE1      C                  dw PEK16,POK16,COMPILER
  6116    558B           C
  6118    4CEF 5243      C                  dw PEK16,SWAP,POK16,COMPILER
  611C    4CE1 558B      C
  6120    4CE1 46DD      C                  dw POK16,ENDF
                         C      ;
  6124    05 4C 4F 4F    C      CHLOOP: db 5,'LOOPS'
  6128    50 53          C
  612A    60F2           C              dw CIMMEDIATE
  612C    4727           C              dw RUNF
  612E    598D 598D      C              dw CR,CR,DISP
  6132    57FF           C
  6134    2C 46 69 6D    C              db 44,'Fim+1 In',0A1H,'cio DO <.[I].> [LEAVE] <.[I].> LOOP'
  6138    2B 31 20 49    C
  613C    6E A1 63 69    C
  6140    6F 20 44 4F    C
  6144    20 3C 2E 5B    C
  6148    49 5D 2E 3E    C
  614C    20 5B 4C 45    C
  6150    41 56 45 5D    C
  6154    20 3C 2E 5B    C
  6158    49 5D 2E 3E    C
  615C    20 4C 4F 4F    C
  6160    50             C
  6161    598D 598D      C              dw CR,CR,DISP
  6165    57FF           C
  6167    33 46 69 6D    C              db 51,'Fim+1 In',0A1H,'cio DO <.[I].> [LEAVE] <.[I].> Valor +LOOP'
  616B    2B 31 20 49    C
  616F    6E A1 63 69    C
  6173    6F 20 44 4F    C
  6177    20 3C 2E 5B    C
  617B    49 5D 2E 3E    C
  617F    20 5B 4C 45    C
  6183    41 56 45 5D    C
  6187    20 3C 2E 5B    C
  618B    49 5D 2E 3E    C
  618F    20 56 61 6C    C
  6193    6F 72 20 2B    C
  6197    4C 4F 4F 50    C
  619B    598D 598D      C              dw CR,CR,DISP
  619F    57FF           C
  61A1    10 42 45 47    C              db 16,'BEGIN <..> AGAIN'
  61A5    49 4E 20 3C    C
  61A9    2E 2E 3E 20    C
  61AD    41 47 41 49    C
  61B1    4E             C
  61B2    598D 598D      C              dw CR,CR,DISP
  61B6    57FF           C
  61B8    15 42 45 47    C              db 21,'BEGIN <..> Flag UNTIL'
  61BC    49 4E 20 3C    C
  61C0    2E 2E 3E 20    C
  61C4    46 6C 61 67    C
  61C8    20 55 4E 54    C
  61CC    49 4C          C
  61CE    598D 598D      C              dw CR,CR,DISP
  61D2    57FF           C
  61D4    23 42 45 47    C              db 35,'BEGIN <..> Flag WHILE [<..>] REPEAT'
  61D8    49 4E 20 3C    C
  61DC    2E 2E 3E 20    C
  61E0    46 6C 61 67    C
  61E4    20 57 48 49    C
  61E8    4C 45 20 5B    C
  61EC    3C 2E 2E 3E    C
  61F0    5D 20 52 45    C
  61F4    50 45 41 54    C
  61F8    598D 598D      C              dw CR,CR,ENDF
  61FC    46DD           C
                         C      ;
  61FE    05 42 45 47    C      CBEGIN: db 5,'BEGIN'
  6202    49 4E          C
  6204    5E2B           C              dw CDLOOP   ;CCODI
  6206    4727           C              dw RUNF
  6208    56C1 46DD      C              dw HERE,ENDF
                         C      ;
  620C    05 57 48 49    C      CWHILE: db 5,'WHILE'
  6210    4C 45          C
  6212    61FE           C              dw CBEGIN
  6214    4727           C              dw RUNF
  6216    563D 4E61      C              dw PUSHN,BRCH0,MARK_S,ZERO
  621A    595D 637F      C
  621E    564D 46DD      C              dw POKD16,ENDF
                         C      ;
  6222    06 52 45 50    C      CREPEAT: db 6,'REPEAT'
  6226    45 41 54       C
  6229    620C           C               dw CWHILE
  622B    4727           C               dw RUNF
  622D    5243 563D      C               dw SWAP,PUSHN,BRCH
  6231    4E76           C
  6233    4E1C 56C1      C               dw MARK_E,HERE,SWAP,POK16
  6237    5243 4CE1      C
  623B    46DD           C               dw ENDF
                         C      ;
  623D    05 55 4E 54    C      CUNTIL: db 5,'UNTIL'
  6241    49 4C          C
  6243    6222           C              dw CREPEAT
  6245    4727           C              dw RUNF
  6247    563D 4E61      C              dw PUSHN,BRCH0,MARK_E,ENDF
  624B    4E1C 46DD      C
                         C      ;
  624F    05 41 47 41    C      CAGAIN: db 5,'AGAIN'
  6253    49 4E          C
  6255    623D           C              dw CUNTIL
  6257    4727           C              dw RUNF
  6259    563D 4E76      C              dw PUSHN,BRCH,MARK_E,ENDF
  625D    4E1C 46DD      C
                         C      ;
  6261    01 28          C      CREM: db 1,'('
  6263    6124           C            dw CHLOOP
  6265    4727           C            dw RUNF
  6267    563D 0029      C            dw PUSHN,29H,WORD,ENDF
  626B    4B18 46DD      C
                         C      ;
  626F    07 44 45 43    C      CDECIMAL: db 7,'DECIMAL'
  6273    49 4D 41 4C    C
  6277    6261           C                dw CREM
  6279    627B           C      DECIMAL:  dw $+2
  627B    3E 0A          C                ld a,10
  627D    32 425A        C      BA:       ld (PBAS),a
  6280    C3 46F7        C                jp NEXT
                         C      ;
  6283    05 4F 43 54    C      COCTAL: db 5,'OCTAL'
  6287    41 4C          C
  6289    626F           C              dw CDECIMAL
  628B    628D           C              dw $+2
  628D    3E 08          C              ld a,8
  628F    18 EC          C              jr BA
                         C      ;
  6291    03 48 45 58    C      CHEX: db 3,'HEX'
  6295    6283           C            dw COCTAL
  6297    6299           C      HEX:  dw $+2
  6299    3E 10          C            ld a,16
  629B    18 E0          C            jr BA
                         C      ;
  629D    06 42 49 4E    C      CBINARY: db 6,'BINARY'
  62A1    41 52 59       C
  62A4    6291           C               dw CHEX
  62A6    62A8           C               dw $+2
  62A8    3E 02          C               ld a,2
  62AA    18 D1          C               jr BA
                         C      ;
  62AC    04 2E 43 50    C      C_CPU: db 4,'.CPU'
  62B0    55             C
  62B1    629D           C             dw CBINARY
  62B3    4727           C             dw RUNF
  62B5    4E99 4CEF      C             dw BASE,PEK16,PUSHN,24H,BASE
  62B9    563D 0024      C
  62BD    4E99           C
  62BF    4CE1 563D      C             dw POK16,PUSHN,CPU,PEK32,IMPDS
  62C3    4290 5C61      C
  62C7    54CA           C
  62C9    4E99 4CE1      C             dw BASE,POK16,ENDF
  62CD    46DD           C
                         C      ;
  62CF    02 31 2D       C      CMENO1: db 2,'1-'
  62D2    62AC           C              dw C_CPU
  62D4    62D6           C      MENOS1: dw $+2
  62D6    E1             C              pop hl
  62D7    2B             C              dec hl
  62D8    C3 46F6        C              jp HPUSH
                         C      ;
  62DB    02 32 2D       C      CMENO2: db 2,'2-'
  62DE    62CF           C              dw CMENO1
  62E0    62E2           C      MENOS2: dw $+2
  62E2    E1             C              pop hl
  62E3    2B             C              dec hl
  62E4    2B             C              dec hl
  62E5    C3 46F6        C              jp HPUSH
                         C      ;
  62E8    03 23 49 4E    C      CNUIN: db 3,'#IN'
  62EC    62DB           C             dw CMENO2
  62EE    4727           C      NUIN:  dw RUNF
  62F0    57FF 2301      C             dw DISP,2301H,PUSHN,BFTC
  62F4    563D 4270      C
  62F8    4CEF 47BF      C             dw PEK16,DUP,MAIS1,LBP,POK16
  62FC    5950 49B4      C
  6300    4CE1           C
  6302    563D 0008      C             dw PUSHN,8,EXPECT,BLANK,WORD
  6306    49EF 503E      C
  630A    4B18           C
  630C    4EAA 4E61      C             dw NUMBER,BRCH0,NUIN+2,ENDF
  6310    62F0 46DD      C
                         C      ;
  6314    03 41 4E 44    C      CAND: db 3,'AND'
  6318    62E8           C            dw CNUIN
  631A    631C           C      AND:  dw $+2
  631C    E1             C            pop hl
  631D    D1             C            pop de
  631E    7B             C            ld a,e
  631F    A5             C            and l
  6320    6F             C            ld l,a
  6321    7A             C            ld a,d
  6322    A4             C            and h
  6323    67             C            ld h,a
  6324    C3 46F6        C            jp HPUSH
                         C      ;
  6327    02 4F 52       C      COR: db 2,'OR'
  632A    6314           C           dw CAND
  632C    632E           C      OR:  dw $+2
  632E    E1             C           pop hl
  632F    D1             C           pop de
  6330    7B             C           ld a,e
  6331    B5             C           or l
  6332    6F             C           ld l,a
  6333    7A             C           ld a,d
  6334    B4             C           or h
  6335    67             C           ld h,a
  6336    C3 46F6        C           jp HPUSH
                         C      ;
  6339    03 58 4F 52    C      CXOR: db 3,'XOR'
  633D    6327           C            dw COR
  633F    6341           C      XOR:  dw $+2
  6341    E1             C            pop hl
  6342    D1             C      XO:   pop de
  6343    7B             C            ld a,e
  6344    AD             C            xor l
  6345    6F             C            ld l,a
  6346    7A             C            ld a,d
  6347    AC             C            xor h
  6348    67             C            ld h,a
  6349    C3 46F6        C            jp HPUSH
                         C      ;
  634C    03 4E 4F 54    C      CNOT: db 3,'NOT'
  6350    6339           C            dw CXOR
  6352    4727           C      NOT:  dw RUNF
  6354    4852 46DD      C            dw IGU0,ENDF
                         C      ;
  6358    06 49 4E 56    C      CINV: db 6,'INVERT'
  635C    45 52 54       C
  635F    634C           C            dw CNOT
  6361    4727           C            dw RUNF
  6363    6370 633F      C            dw TRUE,XOR,ENDF
  6367    46DD           C
                         C      ;
  6369    04 54 52 55    C      CTRUE: db 4,'TRUE'
  636D    45             C
  636E    6358           C             dw CINV
  6370    6372           C      TRUE:  dw $+2
  6372    21 FFFF        C             ld hl,-1
  6375    C3 46F6        C             jp HPUSH
                         C      ;
  6378    04 5A 45 52    C      CZERO: db 4,'ZERO'
  637C    4F             C
  637D    6369           C             dw CTRUE
  637F    6381           C      ZERO:  dw $+2
  6381    21 0000        C             ld hl,0
  6384    C3 46F6        C             jp HPUSH
                         C      ;
  6387    03 4F 4E 45    C      CONE: db 3,'ONE'
  638B    6378           C            dw CZERO
  638D    638F           C      ONE:  dw $+2
  638F    21 0001        C            ld hl,1
  6392    C3 46F6        C            jp HPUSH
                         C      ;
  6395    03 54 57 4F    C      CTWO: db 3,'TWO'
  6399    6387           C            dw CONE
  639B    639D           C      TWO:  dw $+2
  639D    21 0002        C            ld hl,2
  63A0    C3 46F6        C            jp HPUSH
                         C      ;
  63A3    05 54 48 52    C      CTHREE: db 5,'THREE'
  63A7    45 45          C
  63A9    6395           C              dw CTWO
  63AB    63AD           C      THREE:  dw $+2
  63AD    21 0003        C              ld hl,3
  63B0    C3 46F6        C              jp HPUSH
                         C      ;
  63B3    05 41 4C 4C    C      CALLOT: db 5,'ALLOT'
  63B7    4F 54          C
  63B9    63A3           C              dw CTHREE
  63BB    4727           C      ALLOT:  dw RUNF
  63BD    56B2 56CE      C              dw DP,SOMEM,ENDF
  63C1    46DD           C
                         C      ;
  63C3    02 4D 2A       C      CM_VEZES: db 2,'M*'
  63C6    63B3           C                dw CALLOT
  63C8    4727           C      M_VEZES:  dw RUNF
  63CA    599C 633F      C                dw DDUP,XOR,INRP,ABS,SWAP
  63CE    4DD2 5273      C
  63D2    5243           C
  63D4    5273 52AB      C                dw ABS,UVEZES,OUTRP,DMODUL,ENDF
  63D8    4DE7 5261      C
  63DC    46DD           C
                         C      ;
  63DE    02 4D 2F       C      CM_DIV: db 2,'M/'
  63E1    63C3           C              dw CM_VEZES
  63E3    4727           C      M_DIV:  dw RUNF
  63E5    597F 4DD2      C              dw OVER,INRP,INRP,DABS,LERP
  63E9    4DD2 528C      C
  63ED    4DFA           C
  63EF    5273 52DD      C              dw ABS,UDIV,OUTRP,LERP,XOR,MODUL
  63F3    4DE7 4DFA      C
  63F7    633F 524F      C
  63FB    5243 4DE7      C              dw SWAP,OUTRP,MODUL,SWAP,ENDF
  63FF    524F 5243      C
  6403    46DD           C
                         C      ;
  6405    01 2F          C      CDIV: db 1,'/'
  6407    63DE           C            dw CM_DIV
  6409    4727           C      DIV:  dw RUNF
  640B    637F 5243      C            dw ZERO,SWAP,DMOD,DROP,ENDF
  640F    4FF3 4883      C
  6413    46DD           C
                         C      ;
  6415    04 2F 4D 4F    C      CDVMOD: db 4,'/MOD'
  6419    44             C
  641A    6405           C              dw CDIV
  641C    4727           C      DVMOD:  dw RUNF
  641E    637F 5243      C              dw ZERO,SWAP,DMOD,SWAP,ENDF
  6422    4FF3 5243      C
  6426    46DD           C
                         C      ;
  6428    03 4D 4F 44    C      CMOD: db 3,'MOD'
  642C    6415           C            dw CDVMOD
  642E    4727           C      _MOD: dw RUNF
  6430    641C 4883      C            dw DVMOD,DROP,ENDF
  6434    46DD           C
                         C      ;
  6436    05 2A 2F 4D    C      CVDMOD: db 5,'*/MOD'
  643A    4F 44          C
  643C    6428           C              dw CMOD
  643E    4727           C      VDMOD:  dw RUNF
  6440    4DD2 63C8      C              dw INRP,M_VEZES,OUTRP,M_DIV,ENDF
  6444    4DE7 63E3      C
  6448    46DD           C
                         C      ;
  644A    02 2A 2F       C      CVDIV:   db 2,'*/'
  644D    6436           C               dw CVDMOD
  644F    4727           C      VEZ_DIV: dw RUNF
  6451    643E 5243      C               dw VDMOD,SWAP,DROP,ENDF
  6455    4883 46DD      C
                         C      ;
  6459    03 44 54 5A    C      CDTZ: db 3,'DTZ'
  645D    644A           C            dw CVDIV
  645F    4727           C            dw RUNF
  6461    47BF 4CEF      C            dw DUP,PEK16,MENOS1,DUP,OVER
  6465    62D4 47BF      C
  6469    597F           C
  646B    4CE1 4852      C            dw POK16,IGU0,SWAP,DROP,ENDF
  646F    5243 4883      C
  6473    46DD           C
                         C      ;
  6475    02 50 40       C      CPPEK: db 2,'P@'
  6478    6459           C             dw CDTZ
  647A    647C           C             dw $+2
  647C    D9             C             exx
  647D    C1             C             pop bc
  647E    ED 68          C             in l,(c)
  6480    26 00          C             ld h,0
  6482    E5             C             push hl
  6483    C3 4B5F        C             jp RG
                         C      ;
  6486    02 50 21       C      CPPOK: db 2,'P!'
  6489    6475           C             dw CPPEK
  648B    648D           C             dw $+2
  648D    D9             C             exx
  648E    C1             C             pop bc
  648F    E1             C             pop hl
  6490    ED 69          C             out (c),l
  6492    C3 4B5F        C             jp RG
                         C      ;
  6495    05 56 4C 49    C      CVLIST: db 5,'VLIST'
  6499    53 54          C
  649B    6486           C              dw CPPOK
  649D    649F           C              dw $+2
  649F    D9             C              exx
  64A0    CD 44BB        C              call LNCND
  64A3    2A 4260        C              ld hl,(UPDC)
  64A6    22 4273        C              ld (PF),hl
  64A9    ED 5B 4264     C              ld de,(UPCC)
  64AD    ED 53 4275     C              ld (PC),de
  64B1    AF             C              xor a
  64B2    32 4277        C              ld (NL),a
  64B5    32 4279        C              ld (NA),a
  64B8    3C             C              inc a
  64B9    32 F3DD        C              ld (MSX_CSRX),a
  64BC    2A 4275        C      VL7:    ld hl,(PC)
  64BF    ED 5B 4273     C              ld de,(PF)
  64C3    AF             C              xor a
  64C4    BC             C              cp h
  64C5    20 03          C              jr nz,VL10
  64C7    BD             C              cp l
  64C8    28 0C          C              jr z,VL12
  64CA    BA             C      VL10:   cp d
  64CB    20 03          C              jr nz,VL11
  64CD    BB             C              cp e
  64CE    28 0D          C              jr z,VL1
  64D0    AF             C      VL11:   xor a
  64D1    ED 52          C              sbc hl,de
  64D3    F2 64DD        C              jp p,VL1
  64D6    2A 4273        C      VL12:   ld hl,(PF)
  64D9    3E 20          C              ld a,' '
  64DB    18 05          C              jr VL2
  64DD    2A 4275        C      VL1:   ld hl,(PC)
  64E0    3E CF          C             ld a,MSX_SHOWKEYS
  64E2    F5             C      VL2:   push af
  64E3    46             C             ld b,(hl)
  64E4    3A F3B0        C             ld a,(MSX_LINLEN)
  64E7    5F             C             ld e,a
  64E8    3A 4279        C             ld a,(NA)
  64EB    80             C             add a,b
  64EC    C6 03          C             add a,3
  64EE    32 4279        C             ld (NA),a
  64F1    BB             C             cp e
  64F2    FA 6524        C             jp m,VL0
  64F5    78             C             ld a,b
  64F6    3C             C             inc a
  64F7    32 4279        C             ld (NA),a
  64FA    CD 46C7        C             call CRLF
  64FD    E5             C             push hl
  64FE    3A F3B1        C             ld a,(MSX_CRTCNT)
  6501    3D             C             dec a
  6502    3D             C             dec a
  6503    5F             C             ld e,a
  6504    21 4277        C             ld hl,NL
  6507    34             C             inc (hl)
  6508    7E             C             ld a,(hl)
  6509    BB             C             cp e
  650A    FA 6523        C             jp m,VL4
  650D    AF             C             xor a
  650E    77             C             ld (hl),a
  650F    CD 46B8        C             call TECLA
  6512    FE 03          C             cp 3
  6514    28 04          C             jr z,VL5
  6516    FE 1B          C             cp 27
  6518    20 09          C             jr nz,VL4
  651A    AF             C      VL5:   xor a
  651B    32 FC9B        C             ld (MSX_INTFLG),a
  651E    E1             C             pop hl
  651F    E1             C             pop hl
  6520    C3 4B5F        C      VL8:   jp RG
  6523    E1             C      VL4:   pop hl
  6524    3A F3DD        C      VL0:   ld a,(MSX_CSRX)
  6527    FE 01          C             cp 1
  6529    28 0A          C             jr z,VLA
  652B    3E 20          C             ld a,' '
  652D    CD 44E2        C             call VIDEO
  6530    3E 20          C             ld a,' '
  6532    CD 44E2        C             call VIDEO
  6535    F1             C      VLA:   pop af
  6536    F5             C             push af
  6537    CD 44E2        C             call VIDEO
  653A    23             C      VL3:   inc hl
  653B    7E             C             ld a,(hl)
  653C    CD 44E2        C             call VIDEO
  653F    10 F9          C             djnz VL3
  6541    23             C             inc hl
  6542    5E             C             ld e,(hl)
  6543    23             C             inc hl
  6544    56             C             ld d,(hl)
  6545    EB             C             ex de,hl
  6546    F1             C             pop af
  6547    FE 20          C             cp ' '
  6549    28 05          C             jr z,VL6
  654B    22 4275        C             ld (PC),hl
  654E    18 03          C             jr VL9
  6550    22 4273        C      VL6:   ld (PF),hl
  6553    2A 4275        C      VL9:   ld hl,(PC)
  6556    ED 5B 4273     C             ld de,(PF)
  655A    7C             C             ld a,h
  655B    B5             C             or l
  655C    B2             C             or d
  655D    B3             C             or e
  655E    28 03          C             jr z,VLB
  6560    C3 64BC        C             jp VL7
  6563    CD 46C7        C      VLB:   call CRLF
  6566    C3 4B5F        C             jp RG
                         C      ;
  6569    05 57 4F 52    C      CWORDS: db 5,'WORDS'
  656D    44 53          C
  656F    6495           C              dw CVLIST
  6571    6573           C             dw $+2
  6573    D9             C             exx
  6574    21 0000        C             ld hl,0
  6577    22 433D        C             ld (VAR1),hl
  657A    2A 4260        C             ld hl,(UPDC)
  657D    22 4273        C             ld (PF),hl
  6580    ED 5B 4264     C             ld de,(UPCC)
  6584    ED 53 4275     C             ld (PC),de
  6588    2A 4275        C      WS1:   ld hl,(PC)
  658B    ED 5B 4273     C             ld de,(PF)
  658F    AF             C             xor a
  6590    BC             C             cp h
  6591    20 03          C             jr nz,WS2
  6593    BD             C             cp l
  6594    28 0C          C             jr z,WS4
  6596    BA             C      WS2:   cp d
  6597    20 03          C             jr nz,WS3
  6599    BB             C             cp e
  659A    28 0B          C             jr z,WS5
  659C    AF             C      WS3:   xor a
  659D    ED 52          C             sbc hl,de
  659F    F2 65A7        C             jp p,WS5
  65A2    2A 4273        C      WS4:   ld hl,(PF)
  65A5    18 04          C             jr WS6
  65A7    2A 4275        C      WS5:   ld hl,(PC)
  65AA    3D             C             dec a
  65AB    F5             C      WS6:   push af
  65AC    5E             C             ld e,(hl)
  65AD    16 00          C             ld d,0
  65AF    23             C             inc hl
  65B0    19             C             add hl,de
  65B1    E5             C             push hl
  65B2    2A 433D        C             ld hl,(VAR1)
  65B5    23             C             inc hl
  65B6    22 433D        C             ld (VAR1),hl
  65B9    E1             C             pop hl
  65BA    5E             C             ld e,(hl)
  65BB    23             C             inc hl
  65BC    56             C             ld d,(hl)
  65BD    EB             C             ex de,hl
  65BE    F1             C             pop af
  65BF    A7             C             and a
  65C0    28 05          C             jr z,WS7
  65C2    22 4275        C             ld (PC),hl
  65C5    18 03          C             jr WS8
  65C7    22 4273        C      WS7:   ld (PF),hl
  65CA    2A 4275        C      WS8:   ld hl,(PC)
  65CD    ED 5B 4273     C             ld de,(PF)
  65D1    AF             C             xor a
  65D2    B4             C             or h
  65D3    B5             C             or l
  65D4    B2             C             or d
  65D5    B3             C             or e
  65D6    20 B0          C             jr nz,WS1
  65D8    2A 433D        C             ld hl,(VAR1)
  65DB    E5             C             push hl
  65DC    C3 4B5F        C             jp RG
                         C      ;
  65DF    06 44 45 46    C      CDEFSTR: db 6,'DEFSTR'
  65E3    53 54 52       C
  65E6    6569           C               dw CWORDS
  65E8    4727           C               dw RUNF
  65EA    51DA 47BF      C               dw BUILDS,DUP,POKD16,ALLOT
  65EE    564D 63BB      C
  65F2    51A8 639B      C               dw DOES,TWO,MAIS,MAIS,ENDF
  65F6    4FD5 4FD5      C
  65FA    46DD           C
                         C      ;
  65FC    01 22          C      CTRANS: db 1,'"'
  65FE    65DF           C              dw CDEFSTR
  6600    4727           C              dw RUNF
  6602    563D 0022      C              dw PUSHN,'"',WORD,HERE,SWAP
  6606    4B18 56C1      C
  660A    5243           C
  660C    56C1 4D2B      C              dw HERE,PEK8,MAIS1,CMOVE,ENDF
  6610    5950 4CD2      C
  6614    46DD           C
                         C      ;
  6616    05 53 50 45    C      CSPEED: db 5,'SPEED'
  661A    45 44          C
  661C    65FC           C              dw CTRANS
  661E    6620           C              dw $+2
  6620    21 427D        C              ld hl,SPD
  6623    C3 46F6        C              jp HPUSH
                         C      ;
  6626    06 50 52 4F    C      CPROMPT: db 6,'PROMPT'
  662A    4D 50 54       C
  662D    6616           C               dw CSPEED
  662F    6631           C               dw $+2
  6631    21 427B        C               ld hl,PMPT
  6634    C3 46F6        C               jp HPUSH
                         C      ;
  6637    04 50 4F 53    C      CPOSX: db 4,'POSX'
  663B    58             C
  663C    6626           C             dw CPROMPT
  663E    6640           C             dw $+2
  6640    21 F3DD        C             ld hl,MSX_CSRX
  6643    C3 46F6        C             jp HPUSH
                         C      ;
  6646    04 50 4F 53    C      CPOSY: db 4,'POSY'
  664A    59             C
  664B    6637           C             dw CPOSX
  664D    664F           C             dw $+2
  664F    21 F3DC        C             ld hl,MSX_CSRY
  6652    C3 46F6        C             jp HPUSH
                         C      ;
                         C      ; INCLUI AS PALAVRAS NOVAS NO DICIONARIO FIXO
  6655    07 49 4E 43    C      CINCL: db 7,'INCLUDE'
  6659    4C 55 44 45    C
  665D    6646           C             dw CPOSY
  665F    6661           C             dw $+2
  6661    2A 4268        C             ld hl,(PRECOMP)
  6664    22 4266        C             ld (PPD),hl
  6667    2A 4260        C             ld hl,(UPDC)
  666A    22 4262        C             ld (UPFXD),hl
  666D    21 46DD        C             ld hl,ENDF
  6670    22 426A        C             ld (FAR),hl
  6673    C3 46F7        C             jp NEXT
                         C      ;
                         C      ; LIMPA AS PALAVRAS QUE NAO FORAM FIXADAS
  6676    03 4E 45 57    C      CNEW: db 3,'NEW'
  667A    6655           C            dw CINCL
  667C    667E           C      NEW:  dw $+2
  667E    2A 4266        C            ld hl,(PPD)
  6681    22 4268        C            ld (PRECOMP),hl
  6684    2A 4262        C            ld hl,(UPFXD)
  6687    22 4260        C            ld (UPDC),hl
  668A    21 46DD        C            ld hl,ENDF
  668D    22 426A        C            ld (FAR),hl
  6690    C3 46F7        C            jp NEXT
                         C      ;
                         C      ; EXECUTA A PALAVRA FORTH APONTADA PELA PILHA DE EXECUCAO
  6693    03 52 55 4E    C      CRUN: db 3,'RUN'
  6697    6676           C            dw CNEW
  6699    4727           C            dw RUNF
  669B    563D 426A      C            dw PUSHN,FAR,PEK16,EXEC,ENDF
  669F    4CEF 4BF8      C
  66A3    46DD           C
                         C      ;
                         C      ; MUDA O INTERPRETADOR FORTH PARA A
                         C      ; ULTIMA PALAVRA INCLUIDA NO DICIONARIO
  66A5    06 41 53 53    C      CASS: db 6,'ASSIGN'
  66A9    49 47 4E       C
  66AC    6693           C            dw CRUN
  66AE    66B0           C            dw $+2
  66B0    2A 4260        C            ld hl,(UPDC)
  66B3    7E             C            ld a,(hl)
  66B4    5F             C            ld e,a
  66B5    16 00          C            ld d,0
  66B7    19             C            add hl,de
  66B8    11 0003        C            ld de,3
  66BB    19             C            add hl,de
  66BC    22 426A        C            ld (FAR),hl
  66BF    C3 46F7        C            jp NEXT
                         C      ;
                         C         INCLUDE FORTHCAS.INC
                         C      ;
  66C2    05 4D 4F 54    C      CMOTOR: db 5,'MOTOR'
  66C6    4F 52          C
  66C8    66A5           C         dw CASS
  66CA    66CC           C         dw $+2
  66CC    E1             C         pop hl
  66CD    7D             C         ld a,l
  66CE    CD 00F3        C         call 0F3H
  66D1    C3 46F7        C         jp NEXT
                         C      ;
  66D4    06 53 54 41    C      CTAPION:db 6,'STAPE>'
  66D8    50 45 3E       C
  66DB    66C2           C         dw CMOTOR
  66DD    66DF           C      TAPION:   dw $+2
  66DF    CD 6D49        C         call SAVEREGS
  66E2    CD 00E1        C         call 00E1H
  66E5    CD 6D56        C         call RESTREGS
  66E8    21 FFFF        C         ld hl,-1
  66EB    DA 46F6        C         jp c,HPUSH
  66EE    2B             C         dec hl
  66EF    C3 46F6        C         jp HPUSH
                         C      ;
  66F2    05 54 41 50    C      CTAPIN:   db 5,'TAPE>'
  66F6    45 3E          C
  66F8    66D4           C         dw CTAPION
  66FA    66FC           C      TAPIN:   dw $+2
  66FC    CD 6D49        C         call SAVEREGS
  66FF    E1             C         pop hl      ; END.
  6700    D1             C         pop de      ; TAM.
  6701    D5             C      TAPIN0:   push de
  6702    E5             C         push hl
  6703    CD 00E4        C         call 00E4H
  6706    E1             C         pop hl
  6707    D1             C         pop de
  6708    38 08          C         jr c,TAPIN1
  670A    77             C         ld (hl),a
  670B    23             C         inc hl
  670C    1B             C         dec de
  670D    7B             C         ld a,e
  670E    B2             C         or d
  670F    20 F0          C         jr nz,TAPIN0
  6711    AF             C         xor a
  6712    CD 6D56        C      TAPIN1:   call RESTREGS
  6715    21 FFFF        C         ld hl,-1
  6718    DA 46F6        C         jp c,HPUSH
  671B    23             C         inc hl
  671C    C3 46F6        C         jp HPUSH
                         C      ;
  671F    06 45 54 41    C      CTAPIOF:db 6,'ETAPE>'
  6723    50 45 3E       C
  6726    66F2           C         dw CTAPIN
  6728    672A           C      TAPIOF:   dw $+2
  672A    CD 00E7        C         call 00E7H
  672D    C3 46F7        C         jp NEXT
                         C      ;
  6730    06 3E 53 54    C      CTAPOON:db 6,'>STAPE'
  6734    41 50 45       C
  6737    671F           C         dw CTAPIOF
  6739    673B           C      TAPOON:   dw $+2
  673B    CD 6D49        C         call SAVEREGS
  673E    E1             C         pop hl
  673F    7D             C         ld a,l
  6740    CD 00EA        C         call 0EAH
  6743    CD 6D56        C         call RESTREGS
  6746    21 FFFF        C         ld hl,-1
  6749    DA 46F6        C         jp c,HPUSH
  674C    23             C         inc hl
  674D    C3 46F6        C         jp HPUSH
                         C      ;
  6750    05 3E 54 41    C      CTAPON:   db 5,'>TAPE'
  6754    50 45          C
  6756    6730           C         dw CTAPOON
  6758    675A           C      TAPON:   dw $+2
  675A    CD 6D49        C         call SAVEREGS
  675D    E1             C         pop hl      ; END.
  675E    D1             C         pop de      ; TAM.
  675F    D5             C      TAPON0:   push de
  6760    E5             C         push hl
  6761    7E             C         ld a,(hl)
  6762    CD 00ED        C         call 00EDH
  6765    E1             C         pop hl
  6766    D1             C         pop de
  6767    38 07          C         jr c,TAPON1
  6769    23             C         inc hl
  676A    1B             C         dec de
  676B    7B             C         ld a,e
  676C    B2             C         or d
  676D    20 F0          C         jr nz,TAPON0
  676F    AF             C         xor a
  6770    CD 6D56        C      TAPON1:   call RESTREGS
  6773    21 FFFF        C         ld hl,-1
  6776    DA 46F6        C         jp c,HPUSH
  6779    23             C         inc hl
  677A    C3 46F6        C         jp HPUSH
                         C      ;
  677D    06 3E 45 54    C      CTAPOOF:db 6,'>ETAPE'
  6781    41 50 45       C
  6784    6750           C         dw CTAPON
  6786    6788           C      TAPOOF:   dw $+2
  6788    CD 00F0        C         call 00F0H
  678B    C3 46F7        C         jp NEXT
                         C      ;
                         C         INCLUDE FORTHDSK.INC
                         C      ;
  678E    05 28 46 43    C      CFCBPS: db 5,'(FCB)'
  6792    42 29          C
  6794    677D           C              dw CTAPOOF
  6796    6798           C      FCBPS:  dw $+2
  6798    2A 4248        C              ld hl,(FCB)
  679B    C3 46F6        C              jp HPUSH
                         C      ;
  679E    03 46 43 42    C      CFCB: db 3,'FCB'
  67A2    678E           C            dw CFCBPS
  67A4    67A6           C            dw $+2
  67A6    21 4248        C            ld hl,FCB
  67A9    C3 46F6        C            jp HPUSH
                         C      ;
  67AC    03 44 54 41    C      CDTA: db 3,'DTA'
  67B0    679E           C            dw CFCB
  67B2    67B4           C      DTA:  dw $+2
  67B4    2A 4248        C            ld hl,(FCB)
  67B7    11 0028        C            ld de,40
  67BA    19             C            add hl,de
  67BB    C3 46F6        C            jp HPUSH
                         C      ;
  67BE    02 41 3A       C      CDRVA: db 2,'A:'
  67C1    67AC           C             dw CDTA
  67C3    4727           C             dw RUNF
  67C5    563D 000E      C             dw PUSHN,14,ZERO,DIOS,DROP,ENDF
  67C9    637F 696B      C
  67CD    4883 46DD      C
                         C      ;
  67D1    02 42 3A       C      CDRVB: db 2,'B:'
  67D4    67BE           C             dw CDRVA
  67D6    4727           C             dw RUNF
  67D8    563D 000E      C             dw PUSHN,14,ONE,DIOS,DROP,ENDF
  67DC    638D 696B      C
  67E0    4883 46DD      C
                         C      ;
  67E4    08 46 49 4C    C      CFMASK: db 8,'FILEMASK'
  67E8    45 4D 41 53    C
  67EC    4B             C
  67ED    67D1           C              dw CDRVB
  67EF    67F1           C      FMASK:  dw $+2
  67F1    2A 4248        C              ld hl,(FCB)
  67F4    C5             C              push bc
  67F5    E5             C              push hl
  67F6    AF             C              xor a
  67F7    77             C              ld (hl),a
  67F8    E5             C              push hl
  67F9    D1             C              pop de
  67FA    13             C              inc de
  67FB    01 00A7        C              ld bc,167
  67FE    ED B0          C              ldir   ; LIMPA FCB
  6800    E1             C              pop hl
  6801    C1             C              pop bc
  6802    D1             C              pop de
  6803    C5             C              push bc
  6804    13             C              inc de
  6805    1A             C              ld a,(de)
  6806    A7             C              and a
  6807    20 0F          C              jr nz,FLNMA
  6809    23             C              inc hl
  680A    3E 3F          C              ld a,'?'
  680C    77             C              ld (hl),a
  680D    E5             C              push hl
  680E    D1             C              pop de
  680F    13             C              inc de
  6810    01 000A        C              ld bc,10
  6813    ED B0          C              ldir
  6815    C3 6896        C              jp FLNM1+1
                         C
  6818    1B             C      FLNMA:  dec de
  6819    1A             C              ld a,(de)
  681A    F5             C              push af
  681B    47             C              ld b,a
  681C    0E 00          C              ld c,0
  681E    13             C      FLNMX:  inc de
  681F    1A             C              ld a,(de)
  6820    FE 20          C              cp 32
  6822    20 03          C              jr nz,FLNMX1
  6824    05             C              dec b
  6825    18 F7          C              jr FLNMX
                         C
  6827    F5             C      FLNMX1: push af
  6828    D5             C              push de
  6829    13             C              inc de
  682A    1A             C              ld a,(de)
  682B    D1             C              pop de
  682C    1B             C              dec de
  682D    FE 3A          C              cp ":"
  682F    20 30          C              jr nz,FLNMY
  6831    13             C              inc de
  6832    13             C              inc de
  6833    F1             C              pop af
  6834    FE 41          C              cp 'A'
  6836    FA 691D        C              jp m,ERRNM3
  6839    FE 45          C              cp 'E'
  683B    F2 6842        C              jp p,FLNMN
  683E    D6 40          C              sub 40H
  6840    18 0C          C              jr FLNMM
  6842    FE 61          C      FLNMN:  cp 'a'
  6844    FA 691D        C              jp m,ERRNM3
  6847    FE 65          C              cp 'e'
  6849    F2 691D        C              jp p,ERRNM3
  684C    D6 60          C              sub 60H
  684E    77             C      FLNMM:  ld (hl),a
  684F    05             C              dec b
  6850    10 0E          C              djnz FLNM
  6852    23             C              inc hl
  6853    3E 3F          C              ld a,'?'
  6855    77             C              ld (hl),a
  6856    E5             C              push hl
  6857    D1             C              pop de
  6858    13             C              inc de
  6859    01 000A        C              ld bc,10
  685C    ED B0          C              ldir
  685E    18 35          C              jr FLNM1
                         C
  6860    F5             C      FLNM:   push af
  6861    F1             C      FLNMY:  pop af
  6862    23             C      FLNMZ:  inc hl
  6863    13             C              inc de
  6864    1A             C              ld a,(de)
  6865    FE 2E          C              cp '.'
  6867    20 0A          C              jr nz,FLNM2
  6869    3E 20          C              ld a,32
  686B    32 6926        C              ld (FLL+1),a
  686E    CD 6925        C              call FLL
  6871    18 3E          C              jr EXT
                         C
  6873    FE 2A          C      FLNM2: cp '*'
  6875    20 26          C             jr nz,FLNM3
  6877    3E 3F          C             ld a,'?'
  6879    32 6926        C             ld (FLL+1),a
  687C    CD 6925        C             call FLL
  687F    05             C      FLNM4: dec b
  6880    13             C             inc de
  6881    1A             C             ld a,(de)
  6882    FE 2E          C             cp '.'
  6884    28 2B          C             jr z,EXT
  6886    0C             C             inc c
  6887    79             C             ld a,c
  6888    FE 0C          C             cp 12
  688A    FA 687F        C             jp m,FLNM4
  688D    06 03          C             ld b,3
  688F    3E 20          C             ld a,32
  6891    77             C      FLNM5: ld (hl),a
  6892    23             C             inc hl
  6893    10 FC          C             djnz FLNM5
  6895    F1             C      FLNM1: pop af
  6896    C1             C             pop bc
  6897    21 0000        C             ld hl,0
  689A    C3 46F6        C             jp HPUSH
                         C
  689D    CD 68F4        C      FLNM3: call VERNOM
  68A0    77             C             ld (hl),a
  68A1    0C             C             inc c
  68A2    79             C             ld a,c
  68A3    FE 0C          C             cp 12
  68A5    F2 6895        C             jp p,FLNM1
  68A8    10 B8          C             djnz FLNMZ
  68AA    3E 0B          C             ld a,11
  68AC    91             C             sub c
  68AD    47             C             ld b,a
  68AE    23             C             inc hl
  68AF    18 DE          C             jr FLNM5-2
                         C      ;
  68B1    F1             C      EXT:   pop af
  68B2    F5             C             push af
  68B3    B8             C             cp b
  68B4    28 5F          C             jr z,ERRNM1
  68B6    79             C             ld a,c
  68B7    FE 0A          C             cp 10
  68B9    F2 6915        C             jp p,ERRNM1
  68BC    13             C             inc de
  68BD    05             C             dec b
  68BE    0E 00          C             ld c,0
  68C0    1A             C      EXT1:  ld a,(de)
  68C1    FE 2A          C             cp '*'
  68C3    20 0F          C             jr nz,EXT2
  68C5    3E 05          C             ld a,5
  68C7    81             C             add a,c
  68C8    4F             C             ld c,a
  68C9    3E 3F          C             ld a,'?'
  68CB    32 6926        C             ld (FLL+1),a
  68CE    CD 6925        C             call FLL
  68D1    C3 6895        C             jp FLNM1
  68D4    CD 68F4        C      EXT2:  call VERNOM
  68D7    77             C             ld (hl),a
  68D8    23             C             inc hl
  68D9    13             C             inc de
  68DA    0C             C             inc c
  68DB    79             C             ld a,c
  68DC    FE 04          C             cp 4
  68DE    F2 6895        C             jp p,FLNM1
  68E1    10 DD          C             djnz EXT1
  68E3    3E 05          C             ld a,5
  68E5    81             C             add a,c
  68E6    4F             C             ld c,a
  68E7    FE 08          C             cp 8
  68E9    3E 20          C             ld a,32
  68EB    32 6926        C             ld (FLL+1),a
  68EE    FC 6925        C             call m,FLL
  68F1    C3 6895        C             jp FLNM1
                         C      ;
  68F4    FE 21          C      VERNOM: cp 33
  68F6    FA 6914        C              jp m,ERRNOM
  68F9    E5             C              push hl
  68FA    C5             C              push bc
  68FB    21 6908        C              ld hl,TABERRN
  68FE    01 000C        C              ld bc,ERRNOM-TABERRN
  6901    ED B1          C              cpir
  6903    C1             C              pop bc
  6904    E1             C              pop hl
  6905    28 0D          C              jr z,ERRNOM
  6907    C9             C              ret
                         C      ;
  6908    22 2B 2C 2F    C      TABERRN: db '"+,/:;<=>[\]'
  690C    3A 3B 3C 3D    C
  6910    3E 5B 5C 5D    C
                         C      ;
  6914    F1             C      ERRNOM: pop af
  6915    F1             C      ERRNM1: pop af
  6916    C1             C      ERRNM2: pop bc
  6917    21 FFFF        C              ld hl,-1
  691A    C3 46F6        C              jp HPUSH
  691D    F1             C      ERRNM3: pop af
  691E    C1             C              pop bc
  691F    21 0001        C              ld hl,1
  6922    C3 46F6        C              jp HPUSH
                         C      ;
  6925    3E 00          C      FLL: ld a,0
  6927    77             C           ld (hl),a
  6928    23             C           inc hl
  6929    0C             C           inc c
  692A    79             C           ld a,c
  692B    FE 08          C           cp 8
  692D    FA 6925        C           jp m,FLL
  6930    C9             C           ret
                         C      ;
  6931    04 42 44 4F    C      CBDOS: db 4,'BDOS'
  6935    53             C
  6936    67E4           C             dw CFMASK
  6938    693A           C      BDOS:  dw $+2
  693A    ED 43 4273     C             ld (PF),bc
  693E    DD 22 4275     C             ld (PC),ix
  6942    FD 22 4341     C             ld (VAR3),iy
  6946    D1             C             pop de   ;PEGA de
  6947    C1             C             pop bc   ;PEGA bc
  6948    E1             C             pop hl   ;PEGA Acc
  6949    7D             C             ld a,l
  694A    21 6952        C             ld hl,BDS1
  694D    E5             C             push hl
  694E    2A 4246        C             ld hl,(BDS)
  6951    E9             C             jp (hl)
  6952    FD 2A 4341     C      BDS1:  ld iy,(VAR3)
  6956    DD 2A 4275     C             ld ix,(PC)
  695A    ED 4B 4273     C             ld bc,(PF)
  695E    6F             C             ld l,a
  695F    26 00          C             ld h,0
  6961    C3 46F6        C             jp HPUSH
                         C      ;
  6964    04 44 49 4F    C      CDIOS: db 4,'DIOS'
  6968    53             C
  6969    6931           C             dw CBDOS
  696B    696D           C      DIOS:  dw $+2
  696D    D1             C             pop de
  696E    E1             C             pop hl
  696F    E5             C             push hl
  6970    E5             C             push hl
  6971    D5             C             push de
  6972    18 C6          C             jr BDOS+2
                         C      ;
  6974    06 45 52 52    C      CERRDSK: db 6,'ERRDSK'
  6978    44 53 4B       C
  697B    6964           C               dw CDIOS
  697D    4727           C      ERRDSK:  dw RUNF
  697F    47BF 637F      C               dw DUP,ZERO,IGU,BRCH0,ERRD0
  6983    481B 4E61      C
  6987    698D           C
  6989    4E76 6A5E      C               dw BRCH,ERRFIM+4
  698D    47BF 638D      C      ERRD0:   dw DUP,ONE,IGU,BRCH0,ERRD1,DISP
  6991    481B 4E61      C
  6995    69A8 57FF      C
  6999    0A 4E B0 4F    C               db 10,'N',0B0H,'O ACHADO'
  699D    20 41 43 48    C
  69A1    41 44 4F       C
  69A4    4E76 6A5A      C               dw BRCH,ERRFIM
  69A8    47BF 639B      C      ERRD1:   dw DUP,TWO,IGU,BRCH0,ERRD2,DISP
  69AC    481B 4E61      C
  69B0    69C7 57FF      C
  69B4    0E 44 52 49    C               db 14,'DRIVE INV',84H,'LIDO'
  69B8    56 45 20 49    C
  69BC    4E 56 84 4C    C
  69C0    49 44 4F       C
  69C3    4E76 6A5A      C               dw BRCH,ERRFIM
  69C7    47BF 63AB      C      ERRD2:   dw DUP,THREE,IGU,BRCH0,ERRD3,DISP
  69CB    481B 4E61      C
  69CF    69F0 57FF      C
  69D3    18 4E 4F 4D    C               db 24,'NOME DE ARQUIVO INV',84H,'LIDO'
  69D7    45 20 44 45    C
  69DB    20 41 52 51    C
  69DF    55 49 56 4F    C
  69E3    20 49 4E 56    C
  69E7    84 4C 49 44    C
  69EB    4F             C
  69EC    4E76 6A5A      C               dw BRCH,ERRFIM
  69F0    47BF 563D      C      ERRD3:   dw DUP,PUSHN,4,IGU,BRCH0,ERRD4,DISP
  69F4    0004 481B      C
  69F8    4E61 6A0E      C
  69FC    57FF           C
  69FE    0B 44 49 53    C               db 11,'DISCO CHEIO'
  6A02    43 4F 20 43    C
  6A06    48 45 49 4F    C
  6A0A    4E76 6A5A      C               dw BRCH,ERRFIM
  6A0E    47BF 563D      C      ERRD4:   dw DUP,PUSHN,5,IGU,BRCH0,ERRD5,DISP
  6A12    0005 481B      C
  6A16    4E61 6A30      C
  6A1A    57FF           C
  6A1C    0F 44 49 52    C               db 15,'DIRET',8AH,'RIO CHEIO'
  6A20    45 54 8A 52    C
  6A24    49 4F 20 43    C
  6A28    48 45 49 4F    C
  6A2C    4E76 6A5A      C               dw BRCH,ERRFIM
  6A30    57FF           C      ERRD5:   dw DISP
  6A32    1D 45 52 52    C               db 29,'ERRO DE DISCO INDETERMINADO ('
  6A36    4F 20 44 45    C
  6A3A    20 44 49 53    C
  6A3E    43 4F 20 49    C
  6A42    4E 44 45 54    C
  6A46    45 52 4D 49    C
  6A4A    4E 41 44 4F    C
  6A4E    20 28          C
  6A50    47BF 5530      C               dw DUP,IMPSS,PUSHN,')',EMIT
  6A54    563D 0029      C
  6A58    48BA           C
  6A5A    598D 4883      C      ERRFIM:  dw CR,DROP,ENDF
  6A5E    46DD           C
                         C      ;
  6A60    05 46 49 4C    C      CFILES: db 5,'FILES'
  6A64    45 53          C
  6A66    6974           C              dw CERRDSK
  6A68    4727           C              dw RUNF
  6A6A    44B3 503E      C              dw LNCOND,BLANK
  6A6E    4B18 56C1      C              dw WORD,HERE,FMASK,DUP,IGU0
  6A72    67EF 47BF      C
  6A76    4852           C
  6A78    4E61 6B22      C              dw BRCH0,FILES1,DROP,PUSHN,MSX_LINLEN
  6A7C    4883 563D      C
  6A80    F3B0           C
  6A82    4D2B 563D      C              dw PEK8,PUSHN,13,DVMOD,MENOS1,PUSHN
  6A86    000D 641C      C
  6A8A    62D4 563D      C
  6A8E    433D 4CE1      C              dw VAR1,POK16,PUSHN,VAR2,POK16
  6A92    563D 433F      C
  6A96    4CE1           C
  6A98    563D 001A      C              dw PUSHN,26,DTA,DIOS,PUSHN,17
  6A9C    67B2 696B      C
  6AA0    563D 0011      C
  6AA4    6796 6938      C              dw FCBPS,BDOS,DUP,IGU0,BRCH0
  6AA8    47BF 4852      C
  6AAC    4E61           C
  6AAE    6B1A 6370      C              dw FILES2,TRUE,PUSHN,NL,POK16
  6AB2    563D 4277      C
  6AB6    4CE1           C
  6AB8    4852 4E61      C      FILES3: dw IGU0,BRCH0,FILES4,PUSHN,NL,PEK16
  6ABC    6B34 563D      C
  6AC0    4277 4CEF      C
  6AC4    5950 47BF      C              dw MAIS1,DUP,PUSHN,NL,POK16,PUSHN
  6AC8    563D 4277      C
  6ACC    4CE1 563D      C
  6AD0    433D 4CEF      C              dw VAR1,PEK16,MAIOR,BRCH0,FILES5
  6AD4    4811 4E61      C
  6AD8    6AEE           C
  6ADA    563D 433F      C              dw PUSHN,VAR2,PEK16,MAI0,BRCH0
  6ADE    4CEF 4866      C
  6AE2    4E61           C
  6AE4    6AE8 598D      C              dw FILES7,CR
  6AE8    563D 4277      C      FILES7: dw PUSHN,NL,RESET
  6AEC    4E3A           C
  6AEE    67B2 47BF      C      FILES5: dw DTA,DUP,MAIS1,PUSHN,8,TYPE
  6AF2    5950 563D      C
  6AF6    0008 554C      C
  6AFA    563D 002E      C              dw PUSHN,'.',EMIT,PUSHN,9,MAIS
  6AFE    48BA 563D      C
  6B02    0009 4FD5      C
  6B06    563D 0003      C              dw PUSHN,3,TYPE,SPACE,PUSHN
  6B0A    554C 504E      C
  6B0E    563D           C
  6B10    0012 6796      C              dw 18,FCBPS,DIOS,BRCH,FILES3
  6B14    696B 4E76      C
  6B18    6AB8           C
  6B1A    638D 697D      C      FILES2: dw ONE,ERRDSK,DROP,ENDF
  6B1E    4883 46DD      C
  6B22    638D 481B      C      FILES1: dw ONE,IGU,BRCH0,FILES8,TWO
  6B26    4E61 6B30      C
  6B2A    639B           C
  6B2C    697D 46DD      C              dw ERRDSK,ENDF
  6B30    63AB 697D      C      FILES8: dw THREE,ERRDSK
  6B34    598D 46DD      C      FILES4: dw CR,ENDF
                         C      ;
  6B38    04 4B 49 4C    C      CKILL: db 4,'KILL'
  6B3C    4C             C
  6B3D    6A60           C             dw CFILES
  6B3F    4727           C             dw RUNF
  6B41    44B3 503E      C             dw LNCOND,BLANK,WORD,HERE
  6B45    4B18 56C1      C
  6B49    67EF 47BF      C             dw FMASK,DUP,DUP,IGU0,BRCH0
  6B4D    47BF 4852      C
  6B51    4E61           C
  6B53    6BDA 4883      C             dw KILL1,DROP,FCBPS,MAIS1,PUSHN
  6B57    6796 5950      C
  6B5B    563D           C
  6B5D    000B 637F      C             dw 11,ZERO,B_LOOP
  6B61    4C39           C
  6B63    4D4A 563D      C      KILL2: dw PE8I,PUSHN,'?',IGU,BRCH0,KILL7
  6B67    003F 481B      C
  6B6B    4E61 6BC0      C
  6B6F    4C67 6B63      C             dw LOOP,KILL2,DISP
  6B73    57FF           C
  6B75    14 0D 0A 41    C             db 20,0DH,0AH,'APAGA TUDO (S/N)? '
  6B79    50 41 47 41    C
  6B7D    20 54 55 44    C
  6B81    4F 20 28 53    C
  6B85    2F 4E 29 3F    C
  6B89    20             C
  6B8A    48CA 47BF      C      KILL4: dw KEY,DUP,DUP,PUSHN,0DFH,AND
  6B8E    47BF 563D      C
  6B92    00DF 631A      C
  6B96    47BF 47BF      C             dw DUP,DUP,PUSHN,'N',IGU,SWAP
  6B9A    563D 004E      C
  6B9E    481B 5243      C
  6BA2    563D 0053      C             dw PUSHN,'S',IGU,OR,BRCH0,KILL4
  6BA6    481B 632C      C
  6BAA    4E61 6B8A      C
  6BAE    5243 48BA      C             dw SWAP,EMIT,PUSHN,'S',IGU,BRCH0
  6BB2    563D 0053      C
  6BB6    481B 4E61      C
  6BBA    6BEC 4E76      C             dw KILL5,BRCH,KILL3
  6BBE    6BC8           C
  6BC0    4DE7 4DE7      C      KILL7: dw OUTRP,OUTRP,DROP,DROP
  6BC4    4883 4883      C
  6BC8    563D 0013      C      KILL3: dw PUSHN,19,FCBPS,DIOS,BRCH0
  6BCC    6796 696B      C
  6BD0    4E61           C
  6BD2    6BEC 638D      C             dw KILL5,ONE,ERRDSK,ENDF
  6BD6    697D 46DD      C
  6BDA    638D 481B      C      KILL1: dw ONE,IGU,BRCH0,KILL6,TWO
  6BDE    4E61 6BE8      C
  6BE2    639B           C
  6BE4    697D 46DD      C             dw ERRDSK,ENDF
  6BE8    63AB 697D      C      KILL6: dw THREE,ERRDSK
  6BEC    46DD           C      KILL5: dw ENDF
                         C      ;
                         C         INCLUDE BACKUP.INC
                         C      ;
  6BEE    06 42 41 43    C      CBACKUP: db 6,'BACKUP'
  6BF2    4B 55 50       C
  6BF5    6B38           C               dw CKILL
  6BF7    4727           C               dw RUNF
  6BF9    6D7A 47BF      C               dw FSTOP,DUP,PEK8,SWAP,DUP
  6BFD    4D2B 5243      C
  6C01    47BF           C
  6C03    638D 5243      C               dw ONE,SWAP,POK8
  6C07    4D1E           C
  6C09    598D 6796      C               dw CR,FCBPS,PUSHN,40,ZERO
  6C0D    563D 0028      C
  6C11    637F           C
  6C13    4CB9 563D      C               dw FILL,PUSHN,NOMFORTH,FCBPS
  6C17    6D3D 6796      C
  6C1B    563D 000C      C               dw PUSHN,12,CMOVE,PUSHN,26,DTA
  6C1F    4CD2 563D      C
  6C23    001A 67B2      C
  6C27    696B 563D      C               dw DIOS,PUSHN,17,FCBPS,DIOS
  6C2B    0011 6796      C
  6C2F    696B           C
  6C31    4852 4E61      C               dw IGU0,BRCH0,BACK1,DISP
  6C35    6C8A 57FF      C
  6C39    24 20 20 20    C               db 36,'   Arquivo ja existe.'
  6C3D    41 72 71 75    C
  6C41    69 76 6F 20    C
  6C45    6A 61 20 65    C
  6C49    78 69 73 74    C
  6C4D    65 2E          C
  6C4F    20 41 70 61    C               db ' Apaga (S/N) ? '
  6C53    67 61 20 28    C
  6C57    53 2F 4E 29    C
  6C5B    20 3F 20       C
  6C5E    48CA 563D      C      BACK2:   dw KEY,PUSHN,0DFH,AND,DUP,PUSHN
  6C62    00DF 631A      C
  6C66    47BF 563D      C
  6C6A    0053 481B      C               dw 'S',IGU,NOT,BRCH0,BACK3,DUP
  6C6E    6352 4E61      C
  6C72    6C86 47BF      C
  6C76    563D 004E      C               dw PUSHN,'N',IGU,BRCH0,BACK2
  6C7A    481B 4E61      C
  6C7E    6C5E           C
  6C80    48BA 4E76      C               dw EMIT,BRCH,BACK4
  6C84    6D39           C
  6C86    48BA 598D      C      BACK3:   dw EMIT,CR
  6C8A    563D 0016      C      BACK1:   dw PUSHN,22,FCBPS,DIOS,DUP
  6C8E    6796 696B      C
  6C92    47BF           C
  6C94    4E61 6C9C      C               dw BRCH0,BACK5,ERRDSK,ENDF
  6C98    697D 46DD      C
  6C9C    4883 56C1      C      BACK5:   dw DROP,HERE,PUSHN,FORTH,MENOS
  6CA0    563D 4200      C
  6CA4    4FE1           C
  6CA6    47BF 563D      C               dw DUP,PUSHN,128,DVMOD,SWAP,IGU0
  6CAA    0080 641C      C
  6CAE    5243 4852      C
  6CB2    4E61 6CB8      C               dw BRCH0,BACK6,MAIS1
  6CB6    5950           C
  6CB8    47BF 563D      C      BACK6:   dw DUP,PUSHN,FORTH,SWAP,ZERO,B_LOOP
  6CBC    4200 5243      C
  6CC0    637F 4C39      C
  6CC4    47BF 67B2      C      BACK7:   dw DUP,DTA,PUSHN,128,CMOVE
  6CC8    563D 0080      C
  6CCC    4CD2           C
  6CCE    563D 0015      C               dw PUSHN,21,FCBPS,DIOS,IGU0,NOT
  6CD2    6796 696B      C
  6CD6    4852 6352      C
  6CDA    4E61 6D08      C               dw BRCH0,BACK8,DISP
  6CDE    57FF           C
  6CE0    1B 45 52 52    C               db 27,'ERRO NA GRAVACAO DO ARQUIVO'
  6CE4    4F 20 4E 41    C
  6CE8    20 47 52 41    C
  6CEC    56 41 43 41    C
  6CF0    4F 20 44 4F    C
  6CF4    20 41 52 51    C
  6CF8    55 49 56 4F    C
  6CFC    4DE7 4DE7      C               dw OUTRP,OUTRP,DROP,DROP,BRCH,BACK9+2
  6D00    4883 4883      C
  6D04    4E76 6D2F      C
  6D08    563D 0080      C      BACK8:   dw PUSHN,128,MAIS,LOOP,BACK7,DROP,CR,DISP
  6D0C    4FD5 4C67      C
  6D10    6CC4 4883      C
  6D14    598D 57FF      C
  6D18    14 52 45 47    C               db 20,'REGISTROS GRAVADOS: '
  6D1C    49 53 54 52    C
  6D20    4F 53 20 47    C
  6D24    52 41 56 41    C
  6D28    44 4F 53 3A    C
  6D2C    20             C
  6D2D    553D 598D      C      BACK9:   dw IMPSU,CR,PUSHN,16,FCBPS,DIOS
  6D31    563D 0010      C
  6D35    6796 696B      C
  6D39    4D1E 46DD      C      BACK4:   dw POK8,ENDF
                         C      ;
  6D3D    00 46 4F 52    C      NOMFORTH: db 0,'FORTHCOMBKP'
  6D41    54 48 43 4F    C
  6D45    4D 42 4B 50    C
                         C      ;
                         C         INCLUDE FORTHMSX.INC
                         C      ;
  0041                   C      MSX_SCROFF   equ 41H
  0044                   C      MSX_SCRON    equ 44H
  0047                   C      MSX_WVDP     equ 47H
  004A                   C      MSX_RDVRAM   equ 4AH
  004D                   C      MSX_WRTVRAM  equ 4DH
  0056                   C      MSX_VFILL    equ 56H
  0059                   C      MSX_LDIRVR   equ 59H
  005C                   C      MSX_LDIRRV   equ 5CH
  005F                   C      MSX_CHGMOD   equ 5FH
  0062                   C      MSX_COLOR    equ 62H
  0093                   C      MSX_WRTPSG   equ 93H
  0096                   C      MSX_RDPSG    equ 96H
  009F                   C      MSX_CHRGET   equ 9FH
  00A2                   C      MSX_CON      equ 0A2H
  00A5                   C      MSX_PRN      equ 0A5H
  00A8                   C      MSX_SLOTCFG  equ 0A8H
  00AB                   C      MSX_PRNSTAT  equ 0ABH
  00C0                   C      MSX_BEEP     equ 0C0H
  00C6                   C      MSX_POSIT    equ 0C6H
  00CC                   C      MSX_HIDEKEYS equ 0CCH
  00CF                   C      MSX_SHOWKEYS equ 0CFH
  00D5                   C      MSX_GTSTCK   equ 0D5H
  00D8                   C      MSX_GTTRIG   equ 0D8H
  00DB                   C      MSX_GTPAD    equ 0DBH
  00DE                   C      MSX_GTPDL    equ 0DEH
  0777                   C      MSX_CLS      equ 0777H
  0D6A                   C      MSX_ISKEY    equ 0D6AH
                         C      ;
                         C
  6D49    ED 43 433D     C      SAVEREGS:ld (VAR1),bc
  6D4D    DD 22 433F     C         ld (VAR2),ix
  6D51    FD 22 4341     C         ld (VAR3),iy
  6D55    C9             C         ret
                         C      ;
  6D56    ED 4B 433D     C      RESTREGS:ld bc,(VAR1)
  6D5A    DD 2A 433F     C         ld ix,(VAR2)
  6D5E    FD 2A 4341     C         ld iy,(VAR3)
  6D62    C9             C         ret
                         C      ;
  6D63    04 54 49 4D    C      CTIME:   db 4,'TIME'
  6D67    45             C
  6D68    6BEE           C         dw CBACKUP
  6D6A    6D6C           C         dw $+2
  6D6C    21 FC9E        C         ld hl,0FC9EH
  6D6F    C3 46F6        C         jp HPUSH
                         C      ;
  6D72    05 46 53 54    C      CFSTOP:   db 5,'FSTOP'
  6D76    4F 50          C
  6D78    6D63           C         dw CTIME
  6D7A    6D7C           C      FSTOP:   dw $+2
  6D7C    21 FC9B        C         ld hl,MSX_INTFLG
  6D7F    C3 46F6        C         jp HPUSH
                         C      ;
  6D82    04 4C 4F 43    C      CLOCK:   db 4,'LOCK'
  6D86    4B             C
  6D87    6D72           C         dw CFSTOP
  6D89    6D8B           C      LOCK:   dw $+2
  6D8B    3E FF          C         ld a,-1
  6D8D    32 FC9B        C         ld (MSX_INTFLG),a
  6D90    C3 46F7        C         jp NEXT
                         C      ;
  6D93    06 55 4E 4C    C      CULOCK:   db 6,'UNLOCK'
  6D97    4F 43 4B       C
  6D9A    6D82           C         dw CLOCK
  6D9C    6D9E           C      ULOCK:   dw $+2
  6D9E    AF             C         xor a
  6D9F    32 FC9B        C         ld (MSX_INTFLG),a
  6DA2    32 FC9B        C         ld (MSX_INTFLG),a
  6DA5    C3 46F7        C         jp NEXT
                         C      ;
  6DA8    07 43 4F 4C    C      CCOLUMN:db 7,'COLUMNS'
  6DAC    55 4D 4E 53    C
  6DB0    6D93           C         dw CULOCK
  6DB2    6DB4           C         dw $+2
  6DB4    E1             C         pop hl
  6DB5    7D             C         ld a,l
  6DB6    21 F3B0        C         ld hl,MSX_LINLEN
  6DB9    BE             C         cp (hl)
  6DBA    CA 46F7        C         jp z,NEXT
  6DBD    77             C         ld (hl),a
  6DBE    F5             C         push af
  6DBF    C5             C         push bc
  6DC0    CD 46AC        C         call CLS
  6DC3    CD 00CF        C         call MSX_SHOWKEYS
  6DC6    C1             C         pop bc
  6DC7    3A FCAF        C         ld a,(MSX_SCRMOD)
  6DCA    FE 02          C         cp 2
  6DCC    FA 6DD7        C         jp m,COL1
  6DCF    F1             C         pop af
  6DD0    3C             C         inc a
  6DD1    32 4272        C         ld (NCOLG),a
  6DD4    C3 46F7        C         jp NEXT
  6DD7    FE 01          C      COL1:   cp 1
  6DD9    20 07          C         jr nz,COL0
  6DDB    F1             C         pop af
  6DDC    32 F3AF        C         ld (MSX_LINL32),a
  6DDF    C3 46F7        C         jp NEXT
  6DE2    F1             C      COL0:   pop af
  6DE3    32 F3AE        C         ld (MSX_LINL40),a
  6DE6    C3 46F7        C         jp NEXT
                         C      ;
  6DE9    04 52 4F 57    C      CROWS:   db 4,'ROWS'
  6DED    53             C
  6DEE    6DA8           C         dw CCOLUMN
  6DF0    6DF2           C         dw $+2
  6DF2    E1             C         pop hl
  6DF3    7D             C         ld a,L
  6DF4    21 F3B1        C         ld hl,MSX_CRTCNT
  6DF7    BE             C         cp (hl)
  6DF8    CA 46F7        C         jp z,NEXT
  6DFB    77             C         ld (hl),a
  6DFC    C5             C         push bc
  6DFD    CD 46AC        C         call CLS
  6E00    CD 00CF        C         call MSX_SHOWKEYS
  6E03    C1             C         pop bc
  6E04    C3 46F7        C         jp NEXT
                         C      ;
  6E07    06 43 41 4C    C      CCALSLT:db 6,'CALSLT'
  6E0B    53 4C 54       C
  6E0E    6DE9           C         dw CROWS
  6E10    6E12           C         dw $+2
  6E12    CD 6D49        C         call SAVEREGS
  6E15    E1             C         pop hl
  6E16    7D             C         ld a,l
  6E17    32 6E24        C         ld (CALLS),a
  6E1A    E1             C         pop hl
  6E1B    22 6E25        C         ld (CALLS+1),hl
  6E1E    E1             C         pop hl
  6E1F    7D             C         ld a,l
  6E20    C1             C         pop bc
  6E21    D1             C         pop de
  6E22    E1             C         pop hl
  6E23    F7             C         rst 30H
  6E24    00             C      CALLS:   db 0
  6E25    0000           C         dw 0
  6E27    CD 6D56        C         call RESTREGS
  6E2A    C3 46F7        C         jp NEXT
                         C      ;
  6E2D    02 56 21       C      CESCVRA:db 2,'V!'
  6E30    6E07           C         dw CCALSLT
  6E32    6E34           C         dw $+2
  6E34    D9             C         exx
  6E35    E1             C         pop hl
  6E36    D1             C         pop de
  6E37    7B             C         ld a,e
  6E38    CD 004D        C         call MSX_WRTVRAM
  6E3B    C3 4B5F        C         jp RG
                         C      ;
  6E3E    02 56 40       C      CLEVRAM:db 2,'V@'
  6E41    6E2D           C         dw CESCVRA
  6E43    6E45           C         dw $+2
  6E45    D9             C         exx
  6E46    E1             C         pop hl
  6E47    CD 004A        C         call MSX_RDVRAM
  6E4A    26 00          C         ld h,0
  6E4C    6F             C         ld l,a
  6E4D    E5             C         push hl
  6E4E    C3 4B5F        C         jp RG
                         C      ;
  6E51    06 4C 44 49    C      CLDIRVR:db 6,'LDIRVR'
  6E55    52 56 52       C
  6E58    6E3E           C         dw CLEVRAM
  6E5A    6E5C           C         dw $+2
  6E5C    D9             C         exx
  6E5D    C1             C         pop bc
  6E5E    D1             C         pop de
  6E5F    E1             C         pop hl
  6E60    CD 0059        C         call MSX_LDIRVR
  6E63    C3 4B5F        C         jp RG
                         C      ;
  6E66    06 4C 44 49    C      CLDIRRV:db 6,'LDIRRV'
  6E6A    52 52 56       C
  6E6D    6E51           C         dw CLDIRVR
  6E6F    6E71           C         dw $+2
  6E71    D9             C         exx
  6E72    C1             C         pop bc
  6E73    D1             C         pop de
  6E74    E1             C         pop hl
  6E75    CD 005C        C         call MSX_LDIRRV
  6E78    C3 4B5F        C         jp RG
                         C      ;
  6E7B    05 56 46 49    C      CVFILL:   db 5,'VFILL'
  6E7F    4C 4C          C
  6E81    6E66           C         dw CLDIRRV
  6E83    6E85           C         dw $+2
  6E85    D9             C         exx
  6E86    E1             C         pop hl
  6E87    7D             C         ld a,l
  6E88    C1             C         pop bc
  6E89    E1             C         pop hl
  6E8A    CD 0056        C         call MSX_VFILL
  6E8D    C3 4B5F        C         jp RG
                         C      ;
  6E90    06 53 43 52    C      CSCREEN:db 6,'SCREEN'
  6E94    45 45 4E       C
  6E97    6E7B           C         dw CVFILL
  6E99    6E9B           C         dw $+2
  6E9B    D9             C         exx
  6E9C    E1             C         pop hl
  6E9D    7D             C         ld a,l
  6E9E    32 FCAF        C         ld (MSX_SCRMOD),a
  6EA1    F5             C         push af
  6EA2    CD 005F        C         call MSX_CHGMOD
  6EA5    21 0101        C         ld hl,0101H
  6EA8    22 F3DC        C         ld (MSX_CSRY),hl
  6EAB    F1             C         pop af
  6EAC    FE 02          C         cp 2
  6EAE    FA 6EBA        C         jp m,SCRN0
  6EB1    3A 4272        C         ld a,(NCOLG)
  6EB4    32 F3B0        C         ld (MSX_LINLEN),a
  6EB7    C3 4B5F        C         jp RG
                         C      ;
  6EBA    D9             C      SCRN0:   exx
  6EBB    2A 4288        C         ld hl,(TABCAR)
  6EBE    C3 717A        C         jp PUTT
                         C      ;
  6EC1    03 53 43 52    C      CSCR:   db 3,'SCR'
  6EC5    6E90           C         dw CSCREEN
  6EC7    6EC9           C         dw $+2
  6EC9    D1             C         pop de
  6ECA    C5             C         push bc
  6ECB    7B             C         ld a,e
  6ECC    B2             C         or d
  6ECD    20 07          C         jr nz,SCRON
  6ECF    CD 0041        C         call MSX_SCROFF
  6ED2    C1             C         pop bc
  6ED3    C3 46F7        C         jp NEXT
                         C      ;
  6ED6    CD 0044        C      SCRON:   call MSX_SCRON
  6ED9    C1             C         pop bc
  6EDA    C3 46F7        C         jp NEXT
                         C      ;
  6EDD    04 56 44 50    C      CESCVDP:db 4,'VDP!'
  6EE1    21             C
  6EE2    6EC1           C         dw CSCR
  6EE4    6EE6           C         dw $+2
  6EE6    D9             C         exx
  6EE7    E1             C         pop hl
  6EE8    4D             C         ld c,l
  6EE9    E1             C         pop hl
  6EEA    45             C         ld b,l
  6EEB    CD 0047        C         call MSX_WVDP
  6EEE    C3 4B5F        C         jp RG
                         C      ;
  6EF1    04 56 44 50    C      CLEVDP:   db 4,'VDP@'
  6EF5    40             C
  6EF6    6EDD           C         dw CESCVDP
  6EF8    6EFA           C         dw $+2
  6EFA    D1             C         pop de
  6EFB    21 F3DF        C         ld hl,MSX_RG0SAV
  6EFE    19             C         add hl,de
  6EFF    5E             C         ld e,(hl)
  6F00    16 00          C         ld d,0
  6F02    C3 46F7        C         jp NEXT
                         C      ;
  6F05    03 49 4E 4B    C      CINK:   db 3,'INK'
  6F09    6EF1           C         dw CLEVDP
  6F0B    6F0D           C         dw $+2
  6F0D    21 F3E9        C         ld hl,MSX_FORCLR
  6F10    D1             C      NK:   pop de
  6F11    C5             C         push bc
  6F12    7B             C         ld a,e
  6F13    77             C         ld (hl),a
  6F14    CD 0062        C         call MSX_COLOR
  6F17    C1             C         pop bc
  6F18    3A F3E9        C         ld a,(MSX_FORCLR)
  6F1B    32 F3F2        C         ld (MSX_ATRBYT),a
  6F1E    C3 46F7        C         jp NEXT
                         C      ;
  6F21    05 50 41 50    C      CPAPER:   db 5,'PAPER'
  6F25    45 52          C
  6F27    6F05           C         dw CINK
  6F29    6F2B           C         dw $+2
  6F2B    21 F3EA        C         ld hl,MSX_BAKCLR
  6F2E    18 E0          C         jr NK
                         C      ;
  6F30    06 42 4F 52    C      CBORDER:db 6,'BORDER'
  6F34    44 45 52       C
  6F37    6F21           C         dw CPAPER
  6F39    6F3B           C         dw $+2
  6F3B    21 F3EB        C         ld hl,MSX_BDRCLR
  6F3E    18 D0          C         jr NK
                         C      ;
  6F40    05 42 41 53    C      CESCTB:   db 5,'BASE!'
  6F44    45 21          C
  6F46    6F30           C         dw CBORDER
  6F48    6F4A           C         dw $+2
  6F4A    E1             C         pop hl
  6F4B    29             C         add hl,hl
  6F4C    11 F3B3        C         ld de,MSX_TXTNAM
  6F4F    19             C         add hl,de
  6F50    D1             C         pop de
  6F51    73             C         ld (hl),e
  6F52    23             C         inc hl
  6F53    72             C         ld (hl),d
  6F54    C3 46F7        C         jp NEXT
                         C      ;
  6F57    05 42 41 53    C      CLETAB:   db 5,'BASE@'
  6F5B    45 40          C
  6F5D    6F40           C         dw CESCTB
  6F5F    6F61           C         dw $+2
  6F61    E1             C         pop hl
  6F62    29             C         add hl,hl
  6F63    11 F3B3        C         ld de,MSX_TXTNAM
  6F66    19             C         add hl,de
  6F67    5E             C         ld e,(hl)
  6F68    23             C         inc hl
  6F69    56             C         ld d,(hl)
  6F6A    D5             C         push de
  6F6B    C3 46F7        C         jp NEXT
                         C      ;
  6F6E    06 53 45 54    C      CSETINK:db 6,'SETINK'
  6F72    49 4E 4B       C
  6F75    6F57           C         dw CLETAB
  6F77    6F79           C         dw $+2
  6F79    E1             C         pop hl
  6F7A    7D             C         ld a,l
  6F7B    32 F3F2        C         ld (MSX_ATRBYT),a
  6F7E    C3 46F7        C         jp NEXT
                         C      ;
  6F81    04 50 53 45    C      CPSET:   db 4,'PSET'
  6F85    54             C
  6F86    6F6E           C         dw CSETINK
  6F88    6F8A           C      PSET:   dw $+2
  6F8A    D9             C         exx
  6F8B    E1             C         pop hl
  6F8C    22 FCB9        C         ld (MSX_GRPACY),hl
  6F8F    EB             C         ex de,hl
  6F90    E1             C         pop hl
  6F91    22 FCB7        C         ld (MSX_GRPACX),hl
  6F94    4D             C         ld c,l
  6F95    44             C         ld b,h
  6F96    CD 010E        C         call 010EH
  6F99    CD 0111        C         call 0111H
  6F9C    CD 0120        C         call 0120H
  6F9F    3A F3E9        C         ld a,(MSX_FORCLR)
  6FA2    32 F3F2        C         ld (MSX_ATRBYT),a
  6FA5    C3 4B5F        C         jp RG
                         C      ;
  6FA8    06 50 52 45    C      CPRESET:db 6,'PRESET'
  6FAC    53 45 54       C
  6FAF    6F81           C         dw CPSET
  6FB1    6FB3           C         dw $+2
  6FB3    3A F3EA        C         ld a,(MSX_BAKCLR)
  6FB6    32 F3F2        C         ld (MSX_ATRBYT),a
  6FB9    18 CF          C         jr PSET+2
                         C      ;
  6FBB    06 46 4F 4F    C      CFOOT:   db 6,'FOOTER'
  6FBF    54 45 52       C
  6FC2    6FA8           C         dw CPRESET
  6FC4    6FC6           C         dw $+2
  6FC6    D9             C         exx
  6FC7    E1             C         pop hl
  6FC8    7D             C         ld a,l
  6FC9    B4             C         or h
  6FCA    28 06          C         jr z,FTOFF
  6FCC    CD 00CF        C         call MSX_SHOWKEYS
  6FCF    C3 4B5F        C         jp RG
                         C      ;
  6FD2    CD 00CC        C      FTOFF:   call MSX_HIDEKEYS
  6FD5    C3 4B5F        C         jp RG
                         C      ;
  6FD8    04 4C 49 4E    C      CLINE:   db 4,'LINE'
  6FDC    45             C
  6FDD    6FBB           C         dw CFOOT
  6FDF    6FE1           C         dw $+2
  6FE1    21 58FC        C         ld hl,58FCH
  6FE4    18 0C          C         jr LBF
                         C      ;
  6FE6    04 46 55 4C    C      CFULL:   db 4,'FULL'
  6FEA    4C             C
  6FEB    6FD8           C         dw CLINE
  6FED    6FEF           C         dw $+2
  6FEF    21 58C1        C         ld hl,58C1H
  6FF2    22 701D        C      LBF:   ld (CLBF),hl
  6FF5    ED 43 433D     C         ld (VAR1),bc
  6FF9    E1             C         pop hl
  6FFA    22 FCB5        C         ld (MSX_GYPOS),hl
  6FFD    22 FCB9        C         ld (MSX_GRPACY),hl
  7000    E1             C         pop hl
  7001    22 FCB3        C         ld (MSX_GXPOS),hl
  7004    22 FCB7        C         ld (MSX_GRPACX),hl
  7007    D1             C         pop de
  7008    C1             C         pop bc
  7009    DD E5          C         push ix
  700B    FD E5          C         push iy
  700D    CD 701B        C         call LESLOT
  7010    ED 4B 433D     C         ld bc,(VAR1)
  7014    FD E1          C         pop iy
  7016    DD E1          C         pop ix
  7018    C3 46F7        C         jp NEXT
                         C      ;
  701B    F7             C      LESLOT:   rst 30H
  701C    00             C         db 0
  701D    0000           C      CLBF:   dw 0
  701F    C9             C         ret
                         C      ;
  7020    03 42 4F 58    C      CBOX:   db 3,'BOX'
  7024    6FE6           C         dw CFULL
  7026    7028           C         dw $+2
  7028    21 5912        C         ld hl,5912H
  702B    18 C5          C         jr LBF
                         C      ;
  702D    03 47 52 58    C      CGRX:   db 3,'GRX'
  7031    7020           C         dw CBOX
  7033    7035           C         dw $+2
  7035    21 FCB7        C         ld hl,MSX_GRPACX
  7038    C3 46F6        C         jp HPUSH
                         C      ;
  703B    03 47 52 59    C      CGRY:   db 3,'GRY'
  703F    702D           C         dw CGRX
  7041    7043           C         dw $+2
  7043    21 FCB9        C         ld hl,MSX_GRPACY
  7046    C3 46F6        C         jp HPUSH
                         C      ;
  7049    04 53 54 45    C      CSTEP:   db 4,'STEP'
  704D    50             C
  704E    703B           C         dw CGRY
  7050    7052           C         dw $+2
  7052    ED 5B FCB7     C         ld de,(MSX_GRPACX)
  7056    2A FCB9        C         ld hl,(MSX_GRPACY)
  7059    C3 46F5        C         jp DPUSH
                         C      ;
  705C    05 43 4C 49    C      CCLICK:   db 5,'CLICK'
  7060    43 4B          C
  7062    7049           C         dw CSTEP
  7064    7066           C         dw $+2
  7066    21 F3DB        C         ld hl,MSX_CLIKSW
  7069    C3 46F6        C         jp HPUSH
                         C      ;
  706C    05 53 4F 55    C      CSOUND:   db 5,'SOUND'
  7070    4E 44          C
  7072    705C           C         dw CCLICK
  7074    7076           C         dw $+2
  7076    E1             C         pop hl
  7077    7D             C         ld a,l
  7078    D3 A0          C         out (160),a
  707A    E1             C         pop hl
  707B    7D             C         ld a,l
  707C    D3 A1          C         out (161),a
  707E    C3 46F7        C         jp NEXT
                         C      ;
  7081    04 50 53 47    C      CESCPSG:db 4,'PSG!'
  7085    21             C
  7086    706C           C         dw CSOUND
  7088    708A           C         dw $+2
  708A    E1             C         pop hl
  708B    7D             C         ld a,l
  708C    D1             C         pop de
  708D    C3 0093        C         jp MSX_WRTPSG
                         C      ;
  7090    04 50 53 47    C      CLEPSG:   db 4,'PSG@'
  7094    40             C
  7095    7081           C         dw CESCPSG
  7097    7099           C         dw $+2
  7099    E1             C         pop hl
  709A    7D             C         ld a,l
  709B    CD 0096        C         call MSX_RDPSG
  709E    6F             C         ld l,a
  709F    26 00          C         ld h,0
  70A1    C3 46F6        C         jp HPUSH
                         C      ;
  70A4    08 3F 50 52    C      CSTTPRT:db 8,'?PRINTER'
  70A8    49 4E 54 45    C
  70AC    52             C
  70AD    7090           C         dw CLEPSG
  70AF    70B1           C         dw $+2
  70B1    CD 0096        C         call MSX_RDPSG
  70B4    6F             C         ld l,a
  70B5    26 00          C         ld h,0
  70B7    C3 46F6        C         jp HPUSH
                         C      ;
  70BA    05 53 54 49    C      CSTICK:   db 5,'STICK'
  70BE    43 4B          C
  70C0    70A4           C         dw CSTTPRT
  70C2    70C4           C         dw $+2
  70C4    CD 6D49        C         call SAVEREGS
  70C7    E1             C         pop hl
  70C8    7D             C         ld a,l
  70C9    CD 00D5        C         call MSX_GTSTCK
  70CC    6F             C         ld l,a
  70CD    26 00          C         ld h,0
  70CF    CD 6D56        C         call RESTREGS
  70D2    C3 46F6        C         jp HPUSH
                         C      ;
  70D5    05 53 54 52    C      CSTRIG:   db 5,'STRIG'
  70D9    49 47          C
  70DB    70BA           C         dw CSTICK
  70DD    70DF           C         dw $+2
  70DF    CD 00D8        C         call MSX_GTTRIG
  70E2    6F             C         ld l,a
  70E3    67             C         ld h,a
  70E4    C3 46F6        C         jp HPUSH
                         C      ;
  70E7    08 54 4F 55    C      CTOUCHP:db 8,'TOUCHPAD'
  70EB    43 48 50 41    C
  70EF    44             C
  70F0    70D5           C         dw CSTRIG
  70F2    70F4           C         dw $+2
  70F4    CD 6D49        C         call SAVEREGS
  70F7    E1             C         pop hl
  70F8    7D             C         ld a,l
  70F9    CD 00DB        C         call MSX_GTPAD
  70FC    6F             C         ld l,a
  70FD    26 00          C         ld h,0
  70FF    CD 6D56        C         call RESTREGS
  7102    C3 46F6        C         jp HPUSH
                         C      ;
  7105    06 50 41 44    C      CPADDLE:db 6,'PADDLE'
  7109    44 4C 45       C
  710C    70E7           C         dw CTOUCHP
  710E    7110           C         dw $+2
  7110    CD 6D49        C         call SAVEREGS
  7113    E1             C         pop hl
  7114    7D             C         ld a,l
  7115    CD 00DE        C         call MSX_GTPDL
  7118    6F             C         ld l,a
  7119    26 00          C         ld h,0
  711B    CD 6D56        C         call RESTREGS
  711E    C3 46F6        C         jp HPUSH
                         C      ;
  7121    08 4B 45 59    C      CKEYBD: db 8,'KEYBOARD'
  7125    42 4F 41 52    C
  7129    44             C
  712A    7105           C         dw CPADDLE
  712C    712E           C         dw $+2
  712E    F3             C         di
  712F    D9             C         exx
  7130    C1             C         pop bc
  7131    41             C         ld b,c
  7132    2A F3F8        C         ld hl,(MSX_PUTPNT)
  7135    ED 5B F3FA     C      KEYBD1:   ld de,(MSX_GETPNT)
  7139    E5             C         push hl
  713A    23             C         inc hl
  713B    AF             C         xor a
  713C    ED 52          C         sbc hl,de
  713E    E1             C         pop hl
  713F    28 16          C         jr z,KEYBD3
  7141    D1             C         pop de
  7142    7B             C         ld a,e
  7143    77             C         ld (hl),a
  7144    23             C         inc hl
  7145    E5             C         push hl
  7146    11 FC18        C         ld de,0FC18H
  7149    AF             C         xor a
  714A    ED 52          C         sbc hl,de
  714C    E1             C         pop hl
  714D    FA 7153        C         jp m,KEYBD2
  7150    21 FBF0        C         ld hl,0FBF0H
  7153    10 E0          C      KEYBD2:   djnz KEYBD1
  7155    18 03          C         jr KEYBD4
  7157    D1             C      KEYBD3:   pop de
  7158    10 FD          C         djnz KEYBD3
  715A    22 F3F8        C      KEYBD4:   ld (MSX_PUTPNT),hl
  715D    FB             C         ei
  715E    C3 4B5F        C         jp RG
                         C      ;
  7161    06 4E 45 57    C      CNEWCAR:db 6,'NEWCAR'
  7165    43 41 52       C
  7168    7121           C         dw CKEYBD
  716A    716C           C         dw $+2
  716C    21 A000        C         ld hl,0A000H
  716F    22 4288        C      PUTTAB:   ld (TABCAR),hl
  7172    3A FCAF        C         ld a,(MSX_SCRMOD)
  7175    FE 02          C         cp 2
  7177    F2 46F7        C         jp p,NEXT
  717A    ED 5B F3B7     C      PUTT:   ld de,(MSX_TXTNAM+4)
  717E    A7             C         and a
  717F    28 04          C         jr z,PUTT1
  7181    ED 5B F3C1     C         ld de,(MSX_TXTNAM+14)
  7185    C5             C      PUTT1:   push bc
  7186    DD E5          C         push ix
  7188    FD E5          C         push iy
  718A    01 0800        C         ld bc,2048  ; 256 CARACT.
  718D    CD 005C        C         call MSX_LDIRRV
  7190    FD E1          C         pop iy
  7192    DD E1          C         pop ix
  7194    C1             C         pop bc
  7195    C3 46F7        C         jp NEXT
                         C      ;
  7198    06 4E 4F 52    C      CNORML:   db 6,'NORMAL'
  719C    4D 41 4C       C
  719F    7161           C         dw CNEWCAR
  71A1    71A3           C         dw $+2
  71A3    21 1BBF        C         ld hl,1BBFH
  71A6    C3 716F        C         jp PUTTAB
                         C      ;

  71A9    03 42 59 45           CBYE: db 3,'BYE'
  71AD    7198                        dw CNORML
  71AF    71B1                        dw $+2
  71B1    CD 00D2                     call 0D2H
  71B4    21 429D                     ld hl,FNCKEYS
  71B7    11 F87F                     ld de,MSX_FNKSTR
  71BA    01 00A0                     ld bc,160
  71BD    ED B0                       ldir
  71BF    CD 00CC                     call 0CCH
  71C2    3A 4280                     ld a,(SLOT1)
  71C5    D3 A8                       out (MSX_SLOTCFG),a
  71C7    C7                          rst 00H
                                ;
  71C8    00                    KBO: nop
                                ;
                                   .DEPHASE
                                ;
                                   end
Macros:
Symbols:
51BE 	_ATIVATE        5ECC 	_CONST          5914 	_DEFIN
642E 	_MOD            5EE0 	_VAR            4C15 	ABORT
5273 	ABS             527A 	ABS1            5281 	ABS2
49C6 	ADDORG          63BB 	ALLOT           631A 	AND
50E4 	ASCI1           50D6 	ASCII           4282 	ATRIB
627D 	BA              6C8A 	BACK1           6C5E 	BACK2
6C86 	BACK3           6D39 	BACK4           6C9C 	BACK5
6CB8 	BACK6           6CC4 	BACK7           6D08 	BACK8
6D2D 	BACK9           4E99 	BASE            4283 	BCOR
6938 	BDOS            4246 	BDS             6952 	BDS1
453D 	BEEP            4270 	BFTC            503E 	BLANK
4285 	BLINHA          4E76 	BRCH            4E61 	BRCH0
46EB 	BREAK           4549 	BS              4560 	BS1
455A 	BS2             51DA 	BUILDS          4C39 	B_LOOP
5217 	C1632           4C0D 	CABORT          526D 	CABS
49BC 	CADORG          624F 	CAGAIN          63B3 	CALLOT
6E24 	CALLS           6314 	CAND            4569 	CARRET
50CE 	CASCII          66A5 	CASS            6BEE 	CBACKUP
4E92 	CBASE           6931 	CBDOS           61FE 	CBEGIN
629D 	CBINARY         5036 	CBLANK          6F30 	CBORDER
7020 	CBOX            4E6D 	CBRCH           4E57 	CBRCH0
607F 	CBUFFER         51D0 	CBUILDS         71A9 	CBYE
5210 	CC1632          6E07 	CCALSLT         705C 	CCLICK
4CCA 	CCMOVE          58CA 	CCMPILE         58E8 	CCMPL
5CC7 	CCNT32          5876 	CCODE           592E 	CCODI
4C20 	CCOLD           6DA8 	CCOLUMN         5580 	CCOMPILER
5EB9 	CCONST          555C 	CCONTEXT        499B 	CCOUNT
5988 	CCR             5706 	CCREATE         578E 	CCRIA
4A8D 	CCRL            4A8B 	CCRS            556E 	CCURRENT
4A8F 	CCURSOR         5285 	CDABS           5E4E 	CDCONST
5A2E 	CDDIF           5E9A 	CDDIV           5E1B 	CDDO
5ABC 	CDDROP          5995 	CDDUP           626F 	CDECIMAL
65DF 	CDEFSTR         4DB5 	CDEPTH          482C 	CDIF
50EA 	CDIGIT          59F0 	CDIGU           5A52 	CDIGU0
5C71 	CDINRP          6964 	CDIOS           57FA 	CDISP
6405 	CDIV            5D91 	CDJ             5E08 	CDLEAVE
5CB1 	CDLERP          5E2B 	CDLOOP          5A60 	CDMAI0
59E3 	CDMAIOR         5D50 	CDMAIS          5A3C 	CDMEN0
59A5 	CDMENOR         5D6F 	CDMENOS         56EA 	CDMINUS
4FEB 	CDMOD           525B 	CDMODUL         5833 	CDO
51A0 	CDOES           5C92 	CDOUTRP         5E3D 	CDOVER
56AD 	CDP             5DF5 	CDPASSO         5DA7 	CDPICK
4956 	CDPL            565D 	CDPUSHN         5ACB 	CDRAND
5CDD 	CDRESET         5B00 	CDROLL          487C 	CDROP
5A70 	CDROT           67BE 	CDRVA           67D1 	CDRVB
5CF6 	CDSET           5B55 	CDSLA           5DD7 	CDSOMEM
5B72 	CDSRA           5DBF 	CDSWAP          67AC 	CDTA
6459 	CDTZ            47B9 	CDUP            47C6 	CDUPC
5E73 	CDVAR           5E84 	CDVARIAB        5D0F 	CDVEZES
6415 	CDVMOD          4B7D 	CECAPS          58A0 	CELSE
48B3 	CEMIT           568E 	CENTRY          4CA2 	CERASE
6974 	CERRDSK         7081 	CESCPSG         6F40 	CESCTB
6EDD 	CESCVDP         6E2D 	CESCVRA         4BEE 	CEXEC
57BE 	CEXIT           49E6 	CEXPECT         679E 	CFCB
678E 	CFCBPS          6A60 	CFILES          4CB2 	CFILL
53D5 	CFIMNUM         57AC 	CFINAL          67E4 	CFMASK
6FBB 	CFOOT           60B5 	CFORGET         47AD 	CFORTH
6D72 	CFSTOP          6FE6 	CFULL           4E05 	CFWORD
5920 	CF_DEF          702D 	CGRX            703B 	CGRY
56BA 	CHERE           6291 	CHEX            4964 	CHLD
6124 	CHLOOP          4972 	CHOLD           4C2D 	CHOT
4D55 	CI16            4D61 	CI16I           4D6E 	CI8
4D7B 	CI8I            545E 	CIDSFX          5495 	CIDUFX
57CF 	CIEXEC          588D 	CIF             4817 	CIGU
484D 	CIGU0           60F2 	CIMMEDIATE      54C5 	CIMPDS
5409 	CIMPDSF         54D2 	CIMPDU          5431 	CIMPDUF
54E0 	CIMPSF          552C 	CIMPSS          5538 	CIMPSU
54F1 	CIMPUF          60A2 	CINBUFF         6655 	CINCL
4759 	CINIC           5342 	CININUM         6F05 	CINK
48D5 	CINKEY          4DCD 	CINRP           606E 	CINTXT
55F8 	CINUMBER        6358 	CINV            55BA 	CISEARCH
5EF7 	CISERR          5501 	CISFX           5517 	CIUFX
5163 	CJ              48C4 	CKEY            7121 	CKEYBD
6B38 	CKILL           701D 	CLBF            49AE 	CLBP
4B9D 	CLCASE          6E66 	CLDIRRV         6E51 	CLDIRVR
5821 	CLEAVE          4E24 	CLELOOP         7090 	CLEPSG
4DF6 	CLERP           6F57 	CLETAB          6EF1 	CLEVDP
6E3E 	CLEVRAM         6FD8 	CLINE           602C 	CLIST
6055 	CLOAD           6D82 	CLOCK           5842 	CLOOP
46AC 	CLS             48E8 	CLSTKEY         4861 	CMAI0
480D 	CMAIOR          4FD1 	CMAIS           594B 	CMAIS1
56F9 	CMAIS2          5203 	CMAISP          4E15 	CMARK_E
5957 	CMARK_S         50A2 	CMAX            4839 	CMEN0
62CF 	CMENO1          62DB 	CMENO2          47F8 	CMENOR
4FDD 	CMENOS          50B8 	CMIN            56DC 	CMINUS
5324 	CMMOD           6428 	CMOD            4BFE 	CMODE
524A 	CMODUL          66C2 	CMOTOR          4CD2 	CMOVE
58D4 	CMPILE          63DE 	CM_DIV          63C3 	CM_VEZES
6676 	CNEW            7161 	CNEWCAR         5117 	CNEXT1
512E 	CNEXT2          5148 	CNEXT3          7198 	CNORML
634C 	CNOT            62E8 	CNUIN           4EA1 	CNUMBER
5351 	CNUMCAR         537B 	CNUMFRM         6283 	COCTAL
4AA0 	COFFSET         6DE2 	COL0            6DD7 	COL1
4242 	COM             558B 	COMPILER        6387 	CONE
429B 	CONS            44F5 	CONSOL          5EC4 	CONST
5566 	CONTEXT         6327 	COR             5F9E 	COUTIN
4DE2 	COUTRP          5978 	COVER           590C 	CP1
4989 	CPAD            7105 	CPADDLE         4E81 	CPAGE
6F21 	CPAPER          580F 	CPASSO          4D09 	CPE16I
4D44 	CPE8I           4CEB 	CPEK16          5C5C 	CPEK32
4D26 	CPEK8           5172 	CPESQ           5227 	CPICK
4CF9 	CPO16I          4D35 	CPO8I           4CDD 	CPOK16
5C3A 	CPOK32          4D19 	CPOK8           5649 	CPOKD16
5674 	CPOKD32         5965 	CPOKD8          6637 	CPOSX
6646 	CPOSY           6475 	CPPEK           6486 	CPPOK
6FA8 	CPRESET         5853 	CPRINT          6626 	CPROMPT
6F81 	CPSET           51E2 	CPTC            4290 	CPU
5638 	CPUSHN          5F0E 	CQUESTION       4C17 	CQUIT
598D 	CR              4ABE 	CRAND           572B 	CREAT1
573B 	CREAT2          5749 	CREAT3          570F 	CREATE
6261 	CREM            6222 	CREPEAT         4E33 	CRESET
46C7 	CRLF            4AB1 	CRNUM           4AEF 	CROLL
486E 	CROT            6DE9 	CROWS           5FF1 	CRST_PRN
6019 	CRST_SCR        6693 	CRUN            4DA8 	CS0
5EA7 	CSCODE          6EC1 	CSCR            6E90 	CSCREEN
4BAF 	CSEARCH         4AE0 	CSEED           4E45 	CSET
6F6E 	CSETINK         5FDC 	CSET_PRN        6005 	CSET_SCR
53F3 	CSHOW           5392 	CSIGN           53B1 	CSIGN0
4889 	CSLA            56C9 	CSOMEM          706C 	CSOUND
5046 	CSPACE          507F 	CSPACS          6616 	CSPEED
4D89 	CSPEK           4D98 	CSPOK           489E 	CSRA
55AA 	CSTATE          7049 	CSTEP           70BA 	CSTICK
70D5 	CSTRIG          5058 	CSTRING         70A4 	CSTTPRT
523C 	CSWAP           5552 	CT1             5593 	CTAKE
66F2 	CTAPIN          671F 	CTAPIOF         66D4 	CTAPION
6750 	CTAPON          677D 	CTAPOOF         6730 	CTAPOON
58B9 	CTHEN           63A3 	CTHREE          6D63 	CTIME
427F 	CTL             491C 	CTOGGL          70E7 	CTOUCHP
48FD 	CTRAIL          65FC 	CTRANS          492F 	CTRAV
6369 	CTRUE           6395 	CTWO            5545 	CTYPE
4B8C 	CUCASE          52D8 	CUDIV           6D93 	CULOCK
47D9 	CUMEN           623D 	CUNTIL          5578 	CURRENT
52A6 	CUVEZES         5ED4 	CVAR            5EE4 	CVARIAB
644A 	CVDIV           6436 	CVDMOD          4F9E 	CVEZES
6E7B 	CVFILL          6495 	CVLIST          620C 	CWHILE
4B11 	CWORD           6569 	CWORDS          6339 	CXOR
6378 	CZERO           5090 	CZEROS          62AC 	C_CPU
5910 	C_DEF           528C 	DABS            5294 	DABS1
5B8F 	DB_LOOP         5E5A 	DCONST          5E9F 	DDIV
5AC4 	DDROP           599C 	DDUP            6279 	DECIMAL
5108 	DIGI1           5113 	DIGI2           50F2 	DIGIT
59F5 	DIGU            5A58 	DIGU0           5C77 	DINRP
696B 	DIOS            57FF 	DISP            5803 	DISP1
6409 	DIV             5BB5 	DLEAVE          5CB6 	DLERP
5BD8 	DLOOP           5BE0 	DLOOP1          5C21 	DLOOP3
5C2C 	DLOOP4          5A66 	DMAI0           59E8 	DMAIOR
5D55 	DMAIS           59AA 	DMENOR          59C4 	DMENOR2
59BE 	DMENOR3         5D74 	DMENOS          56F3 	DMINUS
4FF3 	DMOD            5008 	DMOD1           501A 	DMOD2
5026 	DMOD3           5032 	DMOD4           5028 	DMOD5
526B 	DMODU1          5261 	DMODUL          51A8 	DOES
5C98 	DOUTRP          5E45 	DOVER           56B2 	DP
495C 	DPL             46F5 	DPUSH           5663 	DPUSHN
5CE5 	DRESET          5ADF 	DRND1           4883 	DROP
5A77 	DROT            4281 	DRV             448B 	DS1
4486 	DS2             5CFE 	DSET            5B62 	DSLA1
5DDD 	DSOMEM          5B7F 	DSRA1           5DC7 	DSWAP
5BD2 	DS_LOOP         67B2 	DTA             47BF 	DUP
47CD 	DUPC            47D7 	DUPC2           5E7A 	DVAR
5E90 	DVARIAB         5D25 	DVEZ1           5D39 	DVEZ2
5D49 	DVEZ3           5D14 	DVEZES          641C 	DVMOD
4B84 	ECAPS           48BA 	EMIT            46DD 	ENDF
5696 	ENTRY           4CAA 	ERASE           698D 	ERRD0
69A8 	ERRD1           69C7 	ERRD2           69F0 	ERRD3
6A0E 	ERRD4           6A30 	ERRD5           697D 	ERRDSK
6A5A 	ERRFIM          6915 	ERRNM1          6916 	ERRNM2
691D 	ERRNM3          6914 	ERRNOM          4BF8 	EXEC
4A2C 	EXP1            4A48 	EXP2            49F9 	EXP3
4A53 	EXP4            4A82 	EXP5            49F6 	EXP6
4A69 	EXP7            4A10 	EXP8            4A16 	EXP8X
4A72 	EXP9            4A27 	EXPA            4A65 	EXPB
49EF 	EXPECT          68B1 	EXT             68C0 	EXT1
68D4 	EXT2            43B2 	FA              426A 	FAR
4248 	FCB             6796 	FCBPS           6B22 	FILES1
6B1A 	FILES2          6AB8 	FILES3          6B34 	FILES4
6AEE 	FILES5          6AE8 	FILES7          6B30 	FILES8
4CB9 	FILL            53DA 	FIMNUM          4287 	FLGDWN
6925 	FLL             6860 	FLNM            6895 	FLNM1
6873 	FLNM2           689D 	FLNM3           687F 	FLNM4
6891 	FLNM5           6818 	FLNMA           684E 	FLNMM
6842 	FLNMN           681E 	FLNMX           6827 	FLNMX1
6861 	FLNMY           6862 	FLNMZ           67EF 	FMASK
429D 	FNCKEYS         4200 	FORTH           422B 	FORTH1
6D7A 	FSTOP           6FD2 	FTOFF           428A 	FUPCS
4E0D 	FWORD           5924 	F_DEFIN         56C1 	HERE
6297 	HEX             496A 	HLD             4979 	HOLD
4555 	HOME            46F6 	HPUSH           4776 	HSTRT
5465 	IDSFX           549D 	IDUFX           4571 	IDWN
57F6 	IE1             57DA 	IEXEC           481B 	IGU
4852 	IGU0            46BF 	IKEY            46D1 	IMM
46D4 	IMM1            53EC 	IMP             54CA 	IMPDS
540F 	IMPDSF          54D8 	IMPDU           5438 	IMPDUF
5530 	IMPSS           553D 	IMPSU           5634 	IN1
5630 	IN2             5628 	IN3             475B 	INIC
5347 	ININUM          49D0 	INPUT           4DD2 	INRP
5602 	INUMBER         55F6 	IS1             55F0 	IS2
55C4 	ISEARCH         5F0A 	ISER1           5F00 	ISERROR
71C8 	KBO             48CA 	KEY             7135 	KEYBD1
7153 	KEYBD2          7157 	KEYBD3          715A 	KEYBD4
6BDA 	KILL1           6B63 	KILL2           6BC8 	KILL3
6B8A 	KILL4           6BEC 	KILL5           6BE8 	KILL6
6BC0 	KILL7           429C 	LASTK           6FF2 	LBF
49B4 	LBP             4BA7 	LCASE           4C51 	LEAVE
4C98 	LEAVEX          4735 	LELIN           4737 	LELIN1
4739 	LELIN2          474B 	LELIN3          4E28 	LELOOP
4DFA 	LERP            701B 	LESLOT          45EC 	LF
4543 	LIMPTEL         6047 	LIST1           44F1 	LISTER
44BB 	LNCND           44B3 	LNCOND          6D89 	LOCK
4C67 	LOOP            4C6C 	LOOP1           4C7E 	LOOP2
4C88 	LOOP3           429A 	LST             4866 	MAI0
4811 	MAIOR           4FD5 	MAIS            5950 	MAIS1
56FE 	MAIS2           5209 	MAISP           4E1C 	MARK_E
595D 	MARK_S          50A8 	MAX             50B4 	MAX2
4343 	MEN             483E 	MEN0            47FC 	MENOR
4800 	MENOR2          47FF 	MENOR3          4FE1 	MENOS
62D4 	MENOS1          62E0 	MENOS2          50BE 	MIN
50CA 	MIN2            56E4 	MINUS           532C 	MMOD
4C05 	MODE            5259 	MODU1           524F 	MODUL
FAF6 	MSX_ACPAGE      F920 	MSX_ADDPNT      F7B5 	MSX_ARYTA2
F6C4 	MSX_ARYTAB      F40B 	MSX_ASPCT1      F40D 	MSX_ASPCT2
F931 	MSX_ASPECT      F928 	MSX_ATRBAS      F3F2 	MSX_ATRBYT
F6AA 	MSX_AUTFLG      F6AD 	MSX_AUTINC      F6AB 	MSX_AUTLIN
FAF7 	MSX_AVCSAV      F3EA 	MSX_BAKCLR      FBB1 	MSX_BASROM
F3EB 	MSX_BDRCLR      00C0 	MSX_BEEP        F37D 	MSX_BIOS
FC48 	MSX_BOTTOM      FCB2 	MSX_BRDATR      F55E 	MSX_BUF
FC18 	MSX_BUFEND      F55D 	MSX_BUFMIN      FB08 	MSX_BYTEDT1
FB12 	MSX_BYTEDT2     FB18 	MSX_BYTPNT1     FB19 	MSX_BYTPNT2
FCAB 	MSX_CAPST       FCB1 	MSX_CASPRV      F56E 	MSX_CDUMMY
F933 	MSX_CENCNT      F924 	MSX_CGPBAS      F91F 	MSX_CGPNT
005F 	MSX_CHGMOD      FAF9 	MSX_CHRCNT      009F 	MSX_CHRGET
FBD9 	MSX_CLIKFL      F3DB 	MSX_CLIKS
